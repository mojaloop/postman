{
	"info": {
		"_postman_id": "f7858142-3600-4ba1-84ea-e440fcd04156",
		"name": "Bulk API Transfers",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Transfers",
			"item": [
				{
					"name": "Positive Scenarios",
					"item": [
						{
							"name": "POST Bulk Transfer",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a9797404-9f22-43d6-8cf4-7ad96f671007",
										"exec": [
											"const uuid = require('uuid');",
											"",
											"const delay = 1000 * 3600 * 24",
											"const bulkTransferId = uuid.v4();",
											"const bulkQuoteId = uuid.v4();",
											"const transferId = uuid.v4();",
											"const transferId2 = uuid.v4();",
											"const now = new Date();",
											"const headerDate = now.toUTCString();",
											"const expirationDate = new Date(now.getTime() + delay).toISOString();",
											"const completedTimestamp = now.toISOString();",
											"",
											"pm.environment.set(\"bulkTransferId\", bulkTransferId);",
											"pm.environment.set(\"bulkQuoteId\", bulkQuoteId);",
											"pm.environment.set(\"transferId\", transferId);",
											"pm.environment.set(\"transferId2\", transferId2);",
											"pm.environment.set(\"headerDate\", headerDate);",
											"pm.environment.set(\"expirationDate\", expirationDate);",
											"pm.environment.set(\"completedTimestamp\", completedTimestamp);",
											"pm.environment.set(\"acceptHeader\", \"application/vnd.interoperability.bulkTransfers+json;version=1\");",
											"pm.environment.set(\"contentType\", \"application/vnd.interoperability.bulkTransfers+json;version=1.0\");",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "{{contentType}}"
									},
									{
										"key": "Date",
										"value": "{{headerDate}}"
									},
									{
										"key": "Accept",
										"value": "{{acceptHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerFsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeeFsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "~~{{payerFsp}}~~"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/parties/msisdn/123456789"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{ \n    \"bulkTransferId\": \"{{bulkTransferId}}\",\n    \"bulkQuoteId\": \"{{bulkQuoteId}}\",\n    \"payeeFsp\": \"{{payeeFsp}}\",\n    \"payerFsp\": \"{{payerFsp}}\",\n    \"individualTransfers\":\n    [ {\n        \"transferId\": \"{{transferId}}\",\n        \"transferAmount\": {\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"{{amount}}\"\n        },\n        \"ilpPacket\": \"{{ilpPacket}}\",\n        \"condition\": \"{{condition}}\",\n        \"extensionList\": { \"extension\": [\n            { \"key\": \"{{extKey1}}t1\", \"value\": \"{{extValue1}}t1\"},\n            { \"key\": \"{{extKey2}}t1\", \"value\": \"{{extValue2}}t1\"}\n        ] }\n      },\n      {\n        \"transferId\": \"{{transferId2}}\",\n        \"transferAmount\": {\n            \"currency\": \"{{currency2}}\",\n            \"amount\": \"{{amount2}}\"\n        },\n        \"ilpPacket\": \"{{ilpPacket2}}\",\n        \"condition\": \"{{condition2}}\"\n    } ],\n    \"expiration\": \"{{expirationDate}}\"\n}"
								},
								"url": {
									"raw": "{{HOST_BULK_ADAPTER}}/bulkTransfers",
									"host": [
										"{{HOST_BULK_ADAPTER}}"
									],
									"path": [
										"bulkTransfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "PUT Bulk Transfer",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "406b17e6-e4ed-4090-b47b-56e53ad17243",
										"exec": [
											"const delay = 1000 * 3600 * 24 * 0",
											"const now = new Date();",
											"const headerDate = now.toUTCString();",
											"const completedTimestamp = new Date(now.getTime() + delay).toISOString();",
											"",
											"pm.environment.set(\"headerDate\", headerDate);",
											"pm.environment.set(\"completedTimestamp\", completedTimestamp);",
											"pm.environment.set(\"acceptHeader\", \"application/vnd.interoperability.bulkTransfers+json;version=1\");",
											"pm.environment.set(\"contentType\", \"application/vnd.interoperability.bulkTransfers+json;version=1.0\");",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "{{contentType}}"
									},
									{
										"key": "Date",
										"value": "{{headerDate}}"
									},
									{
										"key": "Accept",
										"value": "{{acceptHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payeeFsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payerFsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "~~{{payeeFsp}}~~"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/parties/msisdn/123456789"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "PUT",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{ \n    \"bulkTransferState\": \"COMPLETED\",\n\t\"completedTimestamp\": \"{{completedTimestamp}}\",\n    \"individualTransferResults\":\n    [ {\n        \"transferId\": \"{{transferId}}\",\n        \"fulfilment\": \"{{fulfilment}}\",\n        \"extensionList\": { \"extension\": [\n            { \"key\": \"{{extKey1}}t1\", \"value\": \"{{extValue1}}t1\"},\n            { \"key\": \"{{extKey2}}t1\", \"value\": \"{{extValue2}}t1\"}\n        ] }\n      },\n      {\n        \"transferId\": \"{{transferId2}}\",\n        \"fulfilment\": \"{{fulfilment2}}\"\n      }\n    ],\n    \"extensionList\": { \"extension\": [\n        { \"key\": \"{{extKey1}}\", \"value\": \"{{extValue1}}\"},\n        { \"key\": \"{{extKey2}}\", \"value\": \"{{extValue2}}\"}\n    ] }\n}"
								},
								"url": {
									"raw": "{{HOST_BULK_ADAPTER}}/bulkTransfers/{{bulkTransferId}}",
									"host": [
										"{{HOST_BULK_ADAPTER}}"
									],
									"path": [
										"bulkTransfers",
										"{{bulkTransferId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Negative Scenarios",
					"item": [
						{
							"name": "payee_abort",
							"item": [
								{
									"name": "Store Payerfsp position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "96164d66-e344-46bb-8d56-b177cd9dcd3e",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payerfspPositionBeforePrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2280ff66-1d4f-48b5-8795-157409fcc818",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store Payeefsp position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "aa029bab-4145-4bea-be9d-d61a4356f924",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payeefspPositionBeforePrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "fc33d31e-20b2-420f-b4c7-0e83105446fb",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "noresponsepayeefsp"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/noresponsepayeefsp/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"noresponsepayeefsp",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "3e77bd62-de86-4c3b-8666-8e843c22e8f9",
												"exec": [
													"const uuid = require('uuid');",
													"",
													"const delay = 1000 * 3600 * 24",
													"const bulkTransferId = uuid.v4();",
													"const bulkQuoteId = uuid.v4();",
													"const transferId = uuid.v4();",
													"const transferId2 = uuid.v4();",
													"const now = new Date();",
													"const headerDate = now.toUTCString();",
													"const expirationDate = new Date(now.getTime() + delay).toISOString();",
													"const completedTimestamp = now.toISOString();",
													"",
													"pm.environment.set(\"bulkTransferId\", bulkTransferId);",
													"pm.environment.set(\"bulkQuoteId\", bulkQuoteId);",
													"pm.environment.set(\"transferId\", transferId);",
													"pm.environment.set(\"transferId2\", transferId2);",
													"pm.environment.set(\"headerDate\", headerDate);",
													"pm.environment.set(\"expirationDate\", expirationDate);",
													"pm.environment.set(\"completedTimestamp\", completedTimestamp);",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ab794ab6-2b2e-4b91-a1cf-8f8de2cfcfda",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "noresponsepayeefsp"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{ \n    \"bulkTransferId\": \"{{bulkTransferId}}\",\n    \"bulkQuoteId\": \"{{bulkQuoteId}}\",\n    \"payeeFsp\": \"noresponsepayeefsp\",\n    \"payerFsp\": \"{{payerFsp}}\",\n    \"individualTransfers\":\n    [ {\n        \"transferId\": \"{{transferId}}\",\n        \"transferAmount\": {\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"{{amount}}\"\n        },\n        \"ilpPacket\": \"{{ilpPacket}}\",\n        \"condition\": \"{{condition}}\",\n        \"extensionList\": { \"extension\": [\n            { \"key\": \"{{extKey1}}t1\", \"value\": \"{{extValue1}}t1\"},\n            { \"key\": \"{{extKey2}}t1\", \"value\": \"{{extValue2}}t1\"}\n        ] }\n      },\n      {\n        \"transferId\": \"{{transferId2}}\",\n        \"transferAmount\": {\n            \"currency\": \"{{currency2}}\",\n            \"amount\": \"{{amount2}}\"\n        },\n        \"ilpPacket\": \"{{ilpPacket2}}\",\n        \"condition\": \"{{condition2}}\"\n    } ],\n    \"expiration\": \"{{expirationDate}}\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_BULK_ADAPTER}}/bulkTransfers",
											"host": [
												"{{HOST_BULK_ADAPTER}}"
											],
											"path": [
												"bulkTransfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store Payerfsp position after Prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "03290612-fffe-49bd-af9d-283b79004af8",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payerfspPositionAfterPrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2bcda748-8f45-40c2-98a3-f10c338a1e38",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payeefsp Notification",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "f3eff5a7-c23d-43a7-97e1-21ab1f850bf2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "f664fb6c-1049-4280-b054-c7b82ac553c2",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"if(pm.response.responseSize !== 0) {",
													"    var headers = pm.response.json().headers;",
													"    pm.test(\"payeefsp fspiop-source is payerfsp \", function () {",
													"        pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"    });",
													"    ",
													"    pm.test(\"payeefsp fspiop-destination is noresponsepayeefsp\", function () {",
													"        pm.expect(headers['fspiop-destination']).to.eql('noresponsepayeefsp');",
													"    });",
													"    ",
													"    pm.test(\"payeefsp content-type should be application/vnd.interoperability.bulkTransfers+json;version=1.0\", function () {",
													"        pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.bulkTransfers+json;version=1.0');",
													"    });",
													"    ",
													"    pm.test(\"payeefsp accept is application/vnd.interoperability.bulkTransfers+json;version=1\", function () {",
													"        pm.expect(headers['accept']).to.eql('application/vnd.interoperability.bulkTransfers+json;version=1');",
													"    });",
													"    ",
													"    pm.test(\"payeefsp fspiop-uri includes /bulkTransfers\", function () {",
													"        pm.expect(headers['fspiop-uri']).to.eql('/bulkTransfers');",
													"    });",
													"    ",
													"    pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"        pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"    });",
													"    ",
													"    var jsonData = pm.response.json().data;",
													"    pm.test(\"Request data have bulkTransferId\", function () {",
													"        pm.expect(jsonData.bulkTransferId).to.eql(pm.environment.get(\"bulkTransferId\"));",
													"    });",
													"    pm.test(\"Request data have individual transfers\", function () {",
													"        pm.expect(jsonData.individualTransfers.length).to.eql(2);",
													"    });",
													"} else {",
													"    pm.test(\"Transfer FAILED\", function () {",
													"    throw new Error('Did not receive response on payee side');",
													"    });",
													"}",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1.0"
											}
										],
										"url": {
											"raw": "{{HOST_SIMULATOR}}/bulkTransfersNegative/requests/{{bulkTransferId}}",
											"host": [
												"{{HOST_SIMULATOR}}"
											],
											"path": [
												"bulkTransfersNegative",
												"requests",
												"{{bulkTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Payee Error",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "5aa20f90-c041-4ef0-9313-379831344e9b",
												"exec": [
													"pm.environment.set(\"contentType\", \"application/vnd.interoperability.bulkTransfers+json;version=1.0\");",
													"pm.environment.set(\"acceptHeader\", \"application/vnd.interoperability.bulkTransfers+json;version=1\");"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "6c424564-52a6-4668-b5ae-78b4d6e1e345",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/bulkTransfers/correlationid/\"+pm.environment.get(\"bulkTransferId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              var jsonData = response.json();",
													"              pm.test(\"Transfer state should be REJECTED on Payer side\", function () {",
													"                pm.expect(jsonData.bulkTransferState).to.eql('REJECTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              ",
													"          }",
													"   });",
													"   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/bulkTransfersNegative/correlationid/\"+pm.environment.get(\"bulkTransferId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              var jsonData = response.json();",
													"              pm.test(\"Transfer state should be REJECTED on Payee side\", function () {",
													"                pm.expect(jsonData.bulkTransferState).to.eql('REJECTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"          }",
													"   });",
													"}, 1000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYEEFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "{{contentType}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "noresponsepayeefsp"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "Accept",
												"value": "{{acceptHeader}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{ \n    \"errorInformation\": {\n        \"errorCode\": \"5100\",\n        \"errorDescription\": \"An error occured\"\n    }\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_BULK_ADAPTER}}/bulkTransfers/{{bulkTransferId}}/error",
											"host": [
												"{{HOST_BULK_ADAPTER}}"
											],
											"path": [
												"bulkTransfers",
												"{{bulkTransferId}}",
												"error"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payerfsp Notification",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "3f760d87-41c1-4a06-b6ab-185412b62da6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "aa732ad1-d22c-4d73-a1d7-c15dbcc9263b",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/bulkTransfers/callbacks/\"+pm.variables.get(\"bulkTransferId\"), function (err, response) {",
													"        console.log(response.json())",
													"        if(response.responseSize !== 0) {",
													"            var jsonData = response.json();",
													"            ",
													"            pm.test(\"Trasnfer status is REJECTED\", function () {",
													"            pm.expect(jsonData.data.bulkTransferState).to.eql('REJECTED');",
													"            });",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"            throw new Error('Did not receive response');",
													"            });",
													"            ",
													"        }",
													"    });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_SIMULATOR}}/bulkTransfers/correlationid/{{bulkTransferId}}",
											"host": [
												"{{HOST_SIMULATOR}}"
											],
											"path": [
												"bulkTransfers",
												"correlationid",
												"{{bulkTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Bulk Transfer status - REJECTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "c3428918-6218-42c9-9518-35b4f74d9fbc",
												"exec": [
													"// if (pm.environment.get('CONFIG_GENERATE_NEW_TRANSFER_UUID_ON_PREPARE') === 'true') {",
													"//    var uuid = require('uuid');",
													"//    var generatedUUID = uuid.v4();",
													"//    pm.environment.set('transferId', generatedUUID);",
													"// }",
													"",
													"// if (pm.environment.get('CONFIG_GENERATE_NEW_PREPARE_DATE') === 'true') {",
													"//    pm.environment.set('transferDate', (new Date()).toUTCString());",
													"// }"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "7823a2b9-9d01-462a-a3b5-8c29c638e704",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/bulkTransfers/correlationid/\"+pm.variables.get(\"bulkTransferId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              var jsonData = response.json();",
													"              ",
													"              pm.test(\"Trasnfer status is REJECTED\", function () {",
													"                pm.expect(jsonData.bulkTransferState).to.eql('REJECTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              ",
													"          }",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_BULK_ADAPTER}}/bulkTransfers/{{bulkTransferId}}",
											"host": [
												"{{HOST_BULK_ADAPTER}}"
											],
											"path": [
												"bulkTransfers",
												"{{bulkTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payerfsp position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "58a0d48e-a85c-4dcc-a427-4cfed25b71dd",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payerfsp position after Payee ABORT should be same as position before prepare.\", function () {",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payerfspPositionBeforePrepare')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "21180c3c-f334-494d-8ebb-00486c482b35",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payeefsp position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f3fcbe62-11d9-4c91-bf8b-ef3b6712a0ea",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payeefsp position after Payee ABORT should be same as position before prepare.\", function () {",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payeefspPositionBeforePrepare')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "75f7f516-4ed3-4a00-80b5-87dfffa42d8e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/noresponsepayeefsp/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"noresponsepayeefsp",
												"positions"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "partial_fulfil",
							"item": [
								{
									"name": "Store Payerfsp position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4819afe9-1511-494b-98d7-71ded8ef8796",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payerfspPositionBeforePrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "48794310-6d77-464a-85fd-5685f9fb973c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store Payeefsp position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "74cd8ba6-c236-4c76-9f5c-61dd7669d95b",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payeefspPositionBeforePrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "da92f3ef-ce0d-46f4-8b63-218d3ac54905",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "noresponsepayeefsp"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/noresponsepayeefsp/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"noresponsepayeefsp",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "49c0c60a-90ea-4a19-baaa-673c248a3993",
												"exec": [
													"const uuid = require('uuid');",
													"",
													"const delay = 1000 * 3600 * 24",
													"const bulkTransferId = uuid.v4();",
													"const bulkQuoteId = uuid.v4();",
													"const transferId = uuid.v4();",
													"const transferId2 = uuid.v4();",
													"const now = new Date();",
													"const headerDate = now.toUTCString();",
													"const expirationDate = new Date(now.getTime() + delay).toISOString();",
													"const completedTimestamp = now.toISOString();",
													"",
													"pm.environment.set(\"bulkTransferId\", bulkTransferId);",
													"pm.environment.set(\"bulkQuoteId\", bulkQuoteId);",
													"pm.environment.set(\"transferId\", transferId);",
													"pm.environment.set(\"transferId2\", transferId2);",
													"pm.environment.set(\"headerDate\", headerDate);",
													"pm.environment.set(\"expirationDate\", expirationDate);",
													"pm.environment.set(\"completedTimestamp\", completedTimestamp);",
													"pm.environment.set(\"acceptHeader\", \"application/vnd.interoperability.bulkTransfers+json;version=1\");",
													"pm.environment.set(\"contentType\", \"application/vnd.interoperability.bulkTransfers+json;version=1.0\");",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "0c360d62-ef8b-47f2-9321-54a1e5d1370a",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptHeader}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentType}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{payeefsp}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{ \n    \"bulkTransferId\": \"{{bulkTransferId}}\",\n    \"bulkQuoteId\": \"{{bulkQuoteId}}\",\n    \"payeeFsp\": \"{{payeefsp}}\",\n    \"payerFsp\": \"{{payerFsp}}\",\n    \"individualTransfers\":\n    [ {\n        \"transferId\": \"{{transferId}}\",\n        \"transferAmount\": {\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"{{amount}}\"\n        },\n        \"ilpPacket\": \"{{ilpPacket}}\",\n        \"condition\": \"{{condition}}\",\n        \"extensionList\": { \"extension\": [\n            { \"key\": \"{{extKey1}}t1\", \"value\": \"{{extValue1}}t1\"},\n            { \"key\": \"{{extKey2}}t1\", \"value\": \"{{extValue2}}t1\"}\n        ] }\n      },\n      {\n        \"transferId\": \"{{transferId2}}\",\n        \"transferAmount\": {\n            \"currency\": \"AED\",\n            \"amount\": \"{{amount2}}\"\n        },\n        \"ilpPacket\": \"{{ilpPacket2}}\",\n        \"condition\": \"{{condition2}}\"\n    } ],\n    \"expiration\": \"{{expirationDate}}\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_BULK_ADAPTER}}/bulkTransfers",
											"host": [
												"{{HOST_BULK_ADAPTER}}"
											],
											"path": [
												"bulkTransfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store Payerfsp position after Prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0293d726-0c09-471b-b449-e0c7d6119fe9",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payerfspPositionAfterPrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5c9577b0-861b-451c-8d69-7edef2ed5d36",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payerfsp Notification",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "9083230f-6df5-474b-9acc-636c04762828",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "2b865ce5-cf4c-4fe6-8157-43d7e6f3aab5",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/bulkTransfers/callbacks/\"+pm.variables.get(\"bulkTransferId\"), function (err, response) {",
													"        console.log(response.json())",
													"        if(response.responseSize !== 0) {",
													"            var jsonData = response.json();",
													"            ",
													"            pm.test(\"TraNsfer status is COMPLETED\", function () {",
													"                pm.expect(jsonData.data.bulkTransferState).to.eql('COMPLETED');",
													"            });",
													"            pm.test(\"IndividualTransferResults are sent\", function () {",
													"                pm.expect(jsonData.data.individualTransferResults.length).to.eql(2);",
													"            });",
													"            pm.test(\"First transfer is fulfilled\", function () {",
													"                const transfer = jsonData.data.individualTransferResults.find(t => t.transferId === pm.environment.get('transferId'))",
													"                pm.expect(transfer.fulfilment.length > 0).to.eql(true);",
													"            });",
													"             pm.test(\"Second transfer has error information\", function () {",
													"                const transfer = jsonData.data.individualTransferResults.find(t => t.transferId === pm.environment.get('transferId2'))",
													"                pm.expect(transfer.errorInformation !== undefined).to.eql(true);",
													"            });",
													"",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"            throw new Error('Did not receive response');",
													"            });",
													"        }",
													"    });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_SIMULATOR}}/bulkTransfers/correlationid/{{bulkTransferId}}",
											"host": [
												"{{HOST_SIMULATOR}}"
											],
											"path": [
												"bulkTransfers",
												"correlationid",
												"{{bulkTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Bulk Transfer status - REJECTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "ec4d71f3-8a53-4fb2-b665-b62b30dcf5cf",
												"exec": [
													"// if (pm.environment.get('CONFIG_GENERATE_NEW_TRANSFER_UUID_ON_PREPARE') === 'true') {",
													"//    var uuid = require('uuid');",
													"//    var generatedUUID = uuid.v4();",
													"//    pm.environment.set('transferId', generatedUUID);",
													"// }",
													"",
													"// if (pm.environment.get('CONFIG_GENERATE_NEW_PREPARE_DATE') === 'true') {",
													"//    pm.environment.set('transferDate', (new Date()).toUTCString());",
													"// }"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "0912e32a-6d14-45a1-9fb6-98acefc332f0",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/bulkTransfers/correlationid/\"+pm.variables.get(\"bulkTransferId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              var jsonData = response.json();",
													"              ",
													"              pm.test(\"Trasnfer status is REJECTED\", function () {",
													"                pm.expect(jsonData.bulkTransferState).to.eql('REJECTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              ",
													"          }",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.bulkTransfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_BULK_ADAPTER}}/bulkTransfers/{{bulkTransferId}}",
											"host": [
												"{{HOST_BULK_ADAPTER}}"
											],
											"path": [
												"bulkTransfers",
												"{{bulkTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payerfsp position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b242566c-9fa1-4992-b13e-f03868c0ead2",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payerfsp position after Payee ABORT should be same as position before prepare.\", function () {",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payerfspPositionBeforePrepare')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "984d1ae2-d2fc-42e2-a37f-af822eaa6caf",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payeefsp position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b50c536b-ce21-4163-985e-fc8ebe57a27b",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payeefsp position after Payee ABORT should be same as position before prepare.\", function () {",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payeefspPositionBeforePrepare')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0f5ebe25-bcba-4f9b-8561-186599d291c3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/noresponsepayeefsp/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"noresponsepayeefsp",
												"positions"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "GET Bulk API Health",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "664acb88-f4f7-45de-92cd-241a68246db9",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST_BULK_ADAPTER}}/health",
							"host": [
								"{{HOST_BULK_ADAPTER}}"
							],
							"path": [
								"health"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Quotes",
			"item": [
				{
					"name": "Negative Scenarios",
					"item": [
						{
							"name": "PUT bulkQuotes error",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "af7bf9b9-4d79-49b2-b59d-0613f8ee2b51",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('bulkQuoteId', generatedUUID);",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "c2820fba-17fa-4e5a-9f5d-7f9601e9f80e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{payerfsp}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"errorInformation\": {\n\t\t\"errorCode\": \"5101\",\n\t\t\"errorDescription\": \"Payee transaction limit reached\",\n\t\t\"extensionList\": {\n\t\t\t\"extension\": [{\n\t\t\t\t\"key\": \"errorDetail\",\n\t\t\t\t\"value\": \"This is an abort extension\"\n\t\t\t}]\n\t\t}\n\t}\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/bulkQuotes/{{bulkQuoteId}}/error",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"bulkQuotes",
										"{{bulkQuoteId}}",
										"error"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Positive Scenarios",
					"item": [
						{
							"name": "POST bulkQuotes success",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e33d4025-3ed6-48fa-8a36-225a77d70a69",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('bulkQuoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId1', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId1', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId2', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId2', generatedUUID);",
											"pm.environment.set('quoteExpiration', new Date(new Date().getTime() + 600000));",
											"pm.environment.set('quoteDate', (new Date()).toUTCString());",
											"pm.environment.set('transferAmount', 60.11);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp",
										"type": "text"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp",
										"type": "text"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/bulkQuotes",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"bulkQuoteId\": \"{{bulkQuoteId}}\",\n    \"payer\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"MSISDN\",\n            \"partyIdentifier\": \"{{payerMSISDN}}\",\n            \"fspId\": \"payerfsp\"\n        },\n        \"personalInfo\": {\n        \"complexName\": {\n            \"firstName\": \"Mats\",\n            \"lastName\": \"Hagman\"\n        },\n        \"dateOfBirth\": \"1983-10-25\"\n        }\n    },\n    \"expiration\": \"{{quoteExpiration}}\",\n    \"individualQuotes\":[\n        {\n        \"quoteId\": \"{{quoteId1}}\",\n        \"transactionId\": \"{{transactionId1}}\",\n        \"payee\": {\n            \"partyIdInfo\": {\n            \"partyIdType\": \"MSISDN\",\n            \"partyIdentifier\": \"22556999125\",\n            \"fspId\": \"payeefsp\"\n            }\n        },\n        \"amountType\": \"SEND\",\n        \"amount\": {\n            \"amount\": \"{{transferAmount}}\",\n            \"currency\": \"{{currency}}\"\n        },\n        \"transactionType\": {\n            \"scenario\": \"TRANSFER\",\n            \"initiator\": \"PAYER\",\n            \"initiatorType\": \"CONSUMER\"\n        },\n        \"note\": \"hej\"\n        },\n        {\n        \"quoteId\": \"{{quoteId2}}\",\n        \"transactionId\": \"{{transactionId2}}\",\n        \"payee\": {\n            \"partyIdInfo\": {\n            \"partyIdType\": \"MSISDN\",\n            \"partyIdentifier\": \"22556999125\",\n            \"fspId\": \"payeefsp\"\n            }\n        },\n        \"amountType\": \"SEND\",\n        \"amount\": {\n            \"amount\": \"{{transferAmount}}\",\n            \"currency\": \"{{currency}}\"\n        },\n        \"transactionType\": {\n            \"scenario\": \"TRANSFER\",\n            \"initiator\": \"PAYER\",\n            \"initiatorType\": \"CONSUMER\"\n        },\n        \"note\": \"hej2\"\n        }\n    ]\n}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/bulkQuotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"bulkQuotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get bulkQuotes by ID",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp",
										"type": "text"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp",
										"type": "text"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/bulkQuotes",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/bulkQuotes/{{bulkQuoteId}}",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"bulkQuotes",
										"{{bulkQuoteId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}