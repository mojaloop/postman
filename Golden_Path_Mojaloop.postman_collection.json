{
	"info": {
		"_postman_id": "cf68d0b1-bc62-45e1-bd9f-abf9bd712df6",

		"name": "Golden_Path_Mojaloop",
		"description": "Author: Sridevi Miriyala\nDescription: Golden Path Tests using Mojaloop Simulators",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "funds in before all transfers",
			"item": [
				{
					"name": "Deposit Funds in Settlement Account - SIMPAYER",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const payerfspGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIMPAYER_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYER_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const payerfspGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var payerfspSettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
									"                payerfspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        } ",
									"        var payerfspExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(payerfspSettlementAccountBalanceAfterFundsIn).to.eql(payerfspExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYER_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 3000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIMPAYER_NAME}}",
								"accounts",
								"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - SIMPAYEE",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const payeefspGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIMPAYEE_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(payeefspGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYEE_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const payeefspGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYEE_NAME\")+'/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(payeefspGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var payeefspSettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
									"                payeefspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var payeefspExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIMPAYEE_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(payeefspSettlementAccountBalanceAfterFundsIn).to.eql(payeefspExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYEE_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIMPAYEE_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts/{{{{SIMPAYEE_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIMPAYEE_NAME}}",
								"accounts",
								"{{{{SIMPAYEE_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - SIM1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const testfsp1GetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM1_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(testfsp1GetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM1_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM1_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const testfsp1GetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM1_NAME') + '/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(testfsp1GetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var testfsp1SettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM1_CURRENCY')) {",
									"                testfsp1SettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var testfsp1ExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIM1_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(testfsp1SettlementAccountBalanceAfterFundsIn).to.eql(testfsp1ExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM1_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIM1_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts/{{{{SIM1_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIM1_NAME}}",
								"accounts",
								"{{{{SIM1_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - SIM2",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const testfsp2GetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM2_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(testfsp2GetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM2_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM2_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const testfsp2GetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM2_NAME') + '/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(testfsp2GetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var testfsp2SettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM2_CURRENCY')) {",
									"                testfsp2SettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var testfsp2ExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIM2_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(testfsp2SettlementAccountBalanceAfterFundsIn).to.eql(testfsp2ExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM2_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIM2_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts/{{{{SIM2_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIM2_NAME}}",
								"accounts",
								"{{{{SIM2_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "feature-tests",
			"item": [
				{
					"name": "p2p_money_transfer",
					"item": [
						{
							"name": "p2p_happy_path_RECEIVE_quote",
							"item": [
								{
									"name": "Download JWS Signature Generation Package",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.environment.set(\"jrsassign\", pm.response.text());",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js",
											"protocol": "http",
											"host": [
												"kjur",
												"github",
												"io"
											],
											"path": [
												"jsrsasign",
												"jsrsasign-latest-all-min.js"
											]
										}
									},
									"response": []
								},
								{
									"name": "Add SIMPAYEE_MSISDN to SIMPAYEE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('fullName', 'PayeeFirst PayeeLast');",
													"pm.environment.set('firstName', 'PayeeFirst');",
													"pm.environment.set('middleName', 'PayeeMiddle');",
													"pm.environment.set('lastName', 'PayeeLast');",
													"pm.environment.set('dob', '2010-10-10');"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204, 500]);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"{{fullName}}\",\n    \"firstName\": \"{{firstName}}\",\n    \"middleName\": \"{{middleName}}\",\n    \"lastName\": \"{{lastName}}\",\n    \"dateOfBirth\": \"{{dob}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{SIMPAYEE_MSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{SIMPAYEE_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{SIMPAYEE_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party in payeefsp. So that GET /parties can be successful."
									},
									"response": []
								},
								{
									"name": "Get Party - MSISDN",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check data on payee side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypePartiesRequest')}`, function () {",
													"            pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypePartiesRequest'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept should be ${pm.environment.get('acceptPartiesRequest')}`, function () {",
													"            pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.parties\\+json;version=1(\\.\\d)?/);",
													"        });",
													"        ",
													"        pm.test.skip(`${pm.environment.get('SIMPAYEE_NAME')} FSPIOP-URI to be /parties`, function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties');",
													"        });",
													"        ",
													"        pm.test.skip(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is GET`, function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('GET');",
													"        });",
													"        ",
													"       } else {",
													"           pm.test(`Parties FAILED - ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 2000)",
													"",
													"//Check data on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeParties')}`, function () {",
													"            pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeParties'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        ",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"SIMPAYEE_MSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        //pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /parties/MSISDN/${pm.environment.get(\"pathfinderMSISDN\")}`, function () {",
													"        //    pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"pathfinderMSISDN\"));",
													"        //});",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"        //Checking data",
													"        var jsonData = response.json().data;",
													"       pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedFirstName\"), function () {",
													"           pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedDOB\"));",
													"        });  ",
													"        ",
													"       } else {",
													"           pm.test(`Parties FAILED - ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 2000)",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set('expectedFullName', 'PayeeFirst PayeeLast');",
													"pm.variables.set('expectedFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedLastName', 'PayeeLast');",
													"pm.variables.set('expectedDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptPartiesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypePartiesRequest}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "",
												"value": "",
												"type": "text",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{SIMPAYEE_MSISDN}}",
											"host": [
												"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
											],
											"path": [
												"parties",
												"MSISDN",
												"{{SIMPAYEE_MSISDN}}"
											]
										},
										"description": "Author: Sridevi Miriyala\n\nThe payer is requesting the information of the payee. The response shd include payee's firstname, lastname, DOB."
									},
									"response": []
								},
								{
									"name": "Get SIMPAYER position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransferhp`, jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payerfsp before the transfer and will save this value in a variable  payerfspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Get SIMPAYEE position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransferhp`, jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payeefsp before the transfer and will save this value in a variable  payeefspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
													"                });",
													"                ",
													"               ",
													"                  pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
													"            });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"               pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - RECEIVE",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                ",
													"                 pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
													"            });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payeefspId as request`, function () {",
													"                  pm.expect(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"             pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/ ${pm.environment.get(\"transfer_ID\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       pm.test(`${pm.environment.get('SIMPAYER_NAME')} does not receive additional final notification`, function () {",
													"            pm.expect(response.text()).to.eql('');",
													"        });",
													"       ",
													"      ",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get SIMPAYER position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var expectedamount = Number.parseFloat(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransferhp`)) + Number.parseFloat(10);",
													"//expectedamount = expectedamount.toFixed(2);",
													"console.log(expectedamount);",
													"//console.log(jsonData[0].value);",
													"/*if (pm.environment.get('ENV') === 'uat0') {",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[1].value).to.eql(Number(expectedamount));",
													"});",
													"}else{",
													"    ",
													"    pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[0].value).to.eql(Number(expectedamount));",
													"});",
													"}*/",
													"",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(jsonData[i].value).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payerfsp should change, we will get the current position for payerfsp and compare this value against initial payerfsp position captured in:  payerfspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								},
								{
									"name": "Get SIMPAYEE position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"var expectedamount = Number.parseFloat(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransferhp`)) - Number.parseFloat(10);",
													"//expectedamount = expectedPayerAccountBalanceAfterSettlementx.toFixed(2);",
													"/*console.log(expectedamount);",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(Number(jsonData[0].value)).to.eql(Number(expectedamount));",
													"});*/",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(Number(jsonData[i].value)).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payeefsp should change, we will get the current position for payeefsp and compare this value against initial payeefsp position captured in:  payeefspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								}
							]
						},
						{
							"name": "Transfer_SEND_quote",
							"item": [
								{
									"name": "Get SIMPAYER position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransferhp`, jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payerfsp before the transfer and will save this value in a variable  payerfspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Get SIMPAYEE position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransferhp`, jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payeefsp before the transfer and will save this value in a variable  payeefspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Send Quote - SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
													"                });",
													"                ",
													"                 ",
													"                  pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
													"            });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"              pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/`+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - SEND",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                 pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
													"            });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYEE_NAME')}Id as request`, function () {",
													"                  pm.expect(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"SIMPAYER_CURRENCY\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/{{transfer_ID}}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       pm.test(`${pm.environment.get('SIMPAYEE_NAME')} does not receive additional final notification`, function () {",
													"            pm.expect(response.text()).to.eql('');",
													"        });",
													"       ",
													"      ",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get SIMPAYER position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var expectedamount = Number.parseFloat(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransferhp`)) + Number.parseFloat(10);",
													"//expectedamount = expectedamount.toFixed(2);",
													"console.log(expectedamount);",
													"//console.log(jsonData[0].value);",
													"/*if (pm.environment.get('ENV') === 'uat0') {",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[1].value).to.eql(Number(expectedamount));",
													"});",
													"}else{",
													"    ",
													"    pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[0].value).to.eql(Number(expectedamount));",
													"});",
													"}*/",
													"",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(jsonData[i].value).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payerfsp should change, we will get the current position for payerfsp and compare this value against initial payerfsp position captured in:  payerfspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								},
								{
									"name": "Get SIMPAYEE position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"var expectedamount = Number.parseFloat(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransferhp`)) - Number.parseFloat(10);",
													"//expectedamount = expectedPayerAccountBalanceAfterSettlementx.toFixed(2);",
													"/*console.log(expectedamount);",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(Number(jsonData[0].value)).to.eql(Number(expectedamount));",
													"});*/",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(Number(jsonData[i].value)).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payeefsp should change, we will get the current position for payeefsp and compare this value against initial payeefsp position captured in:  payeefspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								}
							]
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "post_scenarios",
					"item": [
						{
							"name": "positive",
							"item": [
								{
									"name": "Add party to SIMPAYEE - MSISDN",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204,500]);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"PayeeFirst PayeeLast\",\n    \"firstName\": \"PayeeFirst\",\n    \"middleName\": \"PayeeMiddle\",\n    \"lastName\": \"PayeeLast\",\n    \"dateOfBirth\": \"2010-10-10\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{SIMPAYEE_MSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{SIMPAYEE_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{SIMPAYEE_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party"
									},
									"response": []
								},
								{
									"name": "Post scenarios - MSISDN - SIMPAYER to SIMPAYEE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(`Payer name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(`payer idValue is ${pm.environment.get('SIMPAYER_MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('SIMPAYER_MSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.environment.get('SIMPAYEE_MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.environment.get('SIMPAYEE_MSISDN'));",
													"});",
													"",
													"pm.test(`payee fspId is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.fspId).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"});",
													"",
													"pm.test(`payee First name is ${pm.variables.get('expectedPayeeFirstName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.firstName).to.eql(pm.variables.get('expectedPayeeFirstName'));",
													"});   ",
													"",
													"pm.test(`payee Last name is ${pm.variables.get('expectedPayeeLastName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.lastName).to.eql(pm.variables.get('expectedPayeeLastName'));",
													"});",
													"",
													"pm.test(\"payee DOB is 2010-10-10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"  pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json(); ",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													" });  ",
													" ",
													" pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"// pm.test(`quote Id is ${pm.environment.get('quoteId')} `, function () {",
													"//     var jsonData = pm.response.json();",
													"    ",
													"//     pm.expect(jsonData.scenario1.result.quoteResponse.quoteId).to.eql(pm.environment.get('quoteId'));",
													"// });",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"  pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"  ",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote request ILP packet is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"  ",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} Fee amount is 0`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fee currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} Commission amount is 0`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"  ",
													"// Scenario 2 tests",
													"",
													"pm.test(`payer fsp name is ${pm.variables.get('payerName')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													" ",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"   ",
													"pm.test(`Payer MSISDN is ${pm.environment.get('SIMPAYER_MSISDN')} `, function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.from.idValue).to.eql(pm.environment.get('SIMPAYER_MSISDN'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')}ReceiverMSISDN Value is ${pm.environment.get('SIMPAYEE_MSISDN')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idValue).to.eql(pm.environment.get('SIMPAYEE_MSISDN'));",
													"});",
													"",
													"pm.test(`fspId is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.fspId).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeFirst\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeLast \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"Date of Birth of the MSISDN is 2010-10-10 \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"    ",
													"pm.test(\" Transfer amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"   ",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"   ",
													"pm.test(\"note is test payment\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment\");",
													"});",
													"   ",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"  ",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}` , function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"  ",
													"  //Check Headers for parties endpoint on payee side",
													"  setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"        // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"        //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"        // });",
													"        ",
													"         pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypePartiesRequest')}`, function () {",
													"            pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypePartiesRequest'));",
													"        });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} accept should be application/vnd.interoperability.parties+json;version=1.0`, function () {",
													"            pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.parties\\+json;version=1(\\.\\d)?/);",
													"        });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} date cannot be null`, function () {",
													"            pm.expect(headers['date']).to.not.eql(undefined);",
													"        });",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"           ",
													"      }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"       pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeParties')}`, function () {",
													"            pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeParties'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"SIMPAYEE_MSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be pm.environment.get('SIMPAYER_NAME')`, function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /parties/MSISDN/${pm.environment.get(\"SIMPAYEE_MSISDN\")}`, function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"SIMPAYEE_MSISDN\"));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"      //Checking data",
													"      var jsonData = response.json().data;",
													"        pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"        });",
													"        pm.test(\"Expected partyIdentifier is \"+pm.environment.get('SIMPAYEE_MSISDN'), function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('SIMPAYEE_MSISDN'));",
													"        });",
													"        pm.test(`Expected fspId is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"          pm.expect(jsonData.party.partyIdInfo.fspId).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"      pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedPayeeFirstName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedPayeeFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedPayeeLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedPayeeLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"        });  ",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"        }",
													"    });",
													"}, 100)",
													"",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
													"            });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
													"                  pm.expect(jsonData.transferId).to.eql(transferID);",
													"                });",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYER_NAME')} as request`, function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYEE_NAME')} as request`, function () {",
													"                  pm.expect(jsonData.payeeFsp).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"                });",
													"                // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                // });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')} `, function () {",
													"     pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"});",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"SIMPAYEE_FSPIOP_SIGNATURE\"));",
													"            // });",
													"           ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes transfers`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"              pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIMPAYER_NAME}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIMPAYEE_NAME}}",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"{{payerName}}\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{SIMPAYER_MSISDN}}\"\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{SIMPAYEE_MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{SIMPAYER_CURRENCY}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{SIMPAYER_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{SIMPAYER_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "reserve notification positive testfsp1 testfsp2",
							"item": [
								{
									"name": "Add {{testfsp1MSISDN}} to testfsp1",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('fullName', 'Testfsp1First Testfsp1Last');",
													"pm.environment.set('firstName', 'Testfsp1First');",
													"pm.environment.set('middleName', 'Testfsp1Middle');",
													"pm.environment.set('lastName', 'Testfsp1Last');",
													"pm.environment.set('dob', '2010-10-10');"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"const doTest = Number(pm.environment.get('TEST_NOTIFICATIONS'))",
													"console.log(doTest)",
													"const pmProxy = {",
													"    get: function (pm, key) {",
													"        if (key == 'test') {",
													"            return (!doTest ? pm.test.skip : pm.test);",
													"        }",
													"        return pm[key];",
													"    }",
													"};",
													"pm = new Proxy(pm, pmProxy);",
													"",
													"pm.test(\"Successful POST request\", function () {",
													"    console.log('bla')",
													"    pm.expect(pm.response.code).to.be.oneOf([204, 200, 500]);",
													"});",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"{{fullName}}\",\n    \"firstName\": \"{{firstName}}\",\n    \"middleName\": \"{{middleName}}\",\n    \"lastName\": \"{{lastName}}\",\n    \"dateOfBirth\": \"{{dob}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{testfsp1MSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party in payeefsp. So that GET /parties can be successful."
									},
									"response": [
										{
											"name": "An error occured processing the request",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
												},
												"url": {
													"raw": "{{baseUrl}}/repository/parties",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"repository",
														"parties"
													]
												}
											},
											"status": "Internal Server Error",
											"code": 500,
											"_postman_previewlanguage": "Text",
											"header": [
												{
													"key": "Content-Type",
													"value": "text/plain"
												}
											],
											"cookie": [],
											"body": ""
										},
										{
											"name": "The party was created",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
												},
												"url": {
													"raw": "{{baseUrl}}/repository/parties",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"repository",
														"parties"
													]
												}
											},
											"status": "No Content",
											"code": 204,
											"_postman_previewlanguage": "Text",
											"header": [
												{
													"key": "Content-Type",
													"value": "text/plain"
												}
											],
											"cookie": [],
											"body": ""
										}
									]
								},
								{
									"name": "Add {{testfsp2MSISDN}} to testfsp2",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('fullName', 'Testfsp2First Testfsp2Last');",
													"pm.environment.set('firstName', 'Testfsp2First');",
													"pm.environment.set('middleName', 'Testfsp2Middle');",
													"pm.environment.set('lastName', 'Testfsp2Last');",
													"pm.environment.set('dob', '2010-10-10');"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"const doTest = Number(pm.environment.get('TEST_NOTIFICATIONS'))",
													"console.log(doTest)",
													"const pmProxy = {",
													"    get: function (pm, key) {",
													"        if (key == 'test') {",
													"            return (!doTest ? pm.test.skip : pm.test);",
													"        }",
													"        return pm[key];",
													"    }",
													"};",
													"pm = new Proxy(pm, pmProxy);",
													"",
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204, 200, 500]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"{{fullName}}\",\n    \"firstName\": \"{{firstName}}\",\n    \"middleName\": \"{{middleName}}\",\n    \"lastName\": \"{{lastName}}\",\n    \"dateOfBirth\": \"{{dob}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{testfsp2MSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party in payeefsp. So that GET /parties can be successful."
									},
									"response": [
										{
											"name": "The party was created",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
												},
												"url": {
													"raw": "{{baseUrl}}/repository/parties",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"repository",
														"parties"
													]
												}
											},
											"status": "No Content",
											"code": 204,
											"_postman_previewlanguage": "Text",
											"header": [
												{
													"key": "Content-Type",
													"value": "text/plain"
												}
											],
											"cookie": [],
											"body": ""
										},
										{
											"name": "An error occured processing the request",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
												},
												"url": {
													"raw": "{{baseUrl}}/repository/parties",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"repository",
														"parties"
													]
												}
											},
											"status": "Internal Server Error",
											"code": 500,
											"_postman_previewlanguage": "Text",
											"header": [
												{
													"key": "Content-Type",
													"value": "text/plain"
												}
											],
											"cookie": [],
											"body": ""
										}
									]
								},
								{
									"name": "Add party to SIMPAYEE - MSISDN",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const doTest = Number(pm.environment.get('TEST_NOTIFICATIONS'))",
													"console.log(doTest)",
													"const pmProxy = {",
													"    get: function (pm, key) {",
													"        if (key == 'test') {",
													"            return (!doTest ? pm.test.skip : pm.test);",
													"        }",
													"        return pm[key];",
													"    }",
													"};",
													"pm = new Proxy(pm, pmProxy);",
													"",
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204, 500]);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"PayeeFirst PayeeLast\",\n    \"firstName\": \"PayeeFirst\",\n    \"middleName\": \"PayeeMiddle\",\n    \"lastName\": \"PayeeLast\",\n    \"dateOfBirth\": \"2010-10-10\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{testfsp2MSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party"
									},
									"response": []
								},
								{
									"name": "Post scenarios - MSISDN - SIMPAYER to SIMPAYEE - PATCH notification",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"const doTest = Number(pm.environment.get('TEST_NOTIFICATIONS'))",
													"console.log(doTest)",
													"const pmProxy = {",
													"    get: function (pm, key) {",
													"        if (key == 'test') {",
													"            return (!doTest ? pm.test.skip : pm.test);",
													"        }",
													"        return pm[key];",
													"    }",
													"};",
													"pm = new Proxy(pm, pmProxy);",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(`Payer name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(`payer idValue is ${pm.environment.get('testfsp2MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('testfsp2MSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.environment.get('testfsp1MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.environment.get('testfsp1MSISDN'));",
													"});",
													"",
													"pm.test(`payee fspId is testfsp1`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.fspId).to.eql('testfsp1');",
													"});",
													"",
													"pm.test(`payee First name is Testfsp1First`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.firstName).to.eql('Testfsp1First');",
													"});",
													"",
													"pm.test(`payee Last name is Testfsp1Last`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.lastName).to.eql('Testfsp1Last');",
													"});",
													"",
													"pm.test(\"payee DOB is 2010-10-10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"",
													"pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"// pm.test(`quote Id is ${pm.environment.get('quoteId')} `, function () {",
													"//     var jsonData = pm.response.json();",
													"",
													"//     pm.expect(jsonData.scenario1.result.quoteResponse.quoteId).to.eql(pm.environment.get('quoteId'));",
													"// });",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Qupte request ILP packet is not null\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} Fee amount is 0`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fee currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} Commission amount is 0`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"// Scenario 2 tests",
													"",
													"pm.test(`payer fsp name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payer MSISDN is ${pm.environment.get('testfsp2MSISDN')} `, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.from.idValue).to.eql(pm.environment.get('testfsp2MSISDN'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`${pm.environment.get('testfsp1MSISDN')} ReceiverMSISDN Value is ${pm.environment.get('testfsp1MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.to.idValue).to.eql(pm.environment.get('testfsp1MSISDN'));",
													"});",
													"",
													"pm.test(`fspId is testfsp1`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.to.fspId).to.eql('testfsp1');",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeFirst\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.to.firstName).to.eql(\"Testfsp1First\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeLast \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.to.lastName).to.eql(\"Testfsp1Last\");",
													"});",
													"",
													"pm.test(\"Date of Birth of the MSISDN is 2010-10-10 \", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\" Transfer amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"",
													"pm.test(\"note is test payment\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"",
													"//Check Headers for parties endpoint on payee side",
													"setTimeout(function () {",
													"    pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\") + \"/requests/\" + pm.environment.get(\"testfsp1MSISDN\"), function (err, response) {",
													"",
													"        if (response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`On testfsp2 fspiop-source is testfsp2`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');",
													"            });",
													"",
													"            // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"            //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"            // });",
													"",
													"             pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypePartiesRequest')}`, function () {",
													"            pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypePartiesRequest'));",
													"          });",
													"",
													"            pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} accept should be application/vnd.interoperability.parties+json;version=1.1`, function () {",
													"                pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.parties\\+json;version=1(\\.\\d)?/);",
													"            });",
													"",
													"            pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} date cannot be null`, function () {",
													"                pm.expect(headers['date']).to.not.eql(undefined);",
													"            });",
													"",
													"        } else {",
													"            pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"",
													"        }",
													"",
													"    });",
													"}, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"setTimeout(function () {",
													"    pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\") + \"/callbacks/\" + pm.environment.get(\"testfsp1MSISDN\"), function (err, response) {",
													"",
													"        if (response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`On testfsp1 fspiop-source is testfsp1`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');",
													"            });",
													"",
													"            pm.test(`On testfsp2 fspiop-destination is testfsp2`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeParties')}`, function () {",
													"            pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeParties'));",
													"        });",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"",
													"            //Validate protected header inside Signature",
													"            var { signature, protectedHeader } = JSON.parse(headers['fspiop-signature'])",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:', decodedProtectedHeaders)",
													"",
													"            // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"            //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"            // });",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\" + pm.environment.get(\"testfsp1MSISDN\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/' + pm.environment.get(\"testfsp1MSISDN\"));",
													"            });",
													"",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp1');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp2`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp2');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /parties/MSISDN/${pm.environment.get(\"testfsp1MSISDN\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/' + pm.environment.get(\"testfsp1MSISDN\"));",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"",
													"            //Checking data",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"                pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"            });",
													"            pm.test(\"Expected partyIdentifier is \" + pm.environment.get('testfsp1MSISDN'), function () {",
													"                pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('testfsp1MSISDN'));",
													"            });",
													"            pm.test(`Expected fspId is testfsp1`, function () {",
													"                pm.expect(jsonData.party.partyIdInfo.fspId).to.eql('testfsp1');",
													"            });",
													"",
													"            pm.test(\"Expected receiver first name is: Testfsp1First\", function () {",
													"                pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql('Testfsp1First');",
													"            });",
													"            pm.test(\"Expected receiver last name is: Testfsp1Last\", function () {",
													"                pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql('Testfsp1Last');",
													"            });",
													"            pm.test(\"Expected receiver DOB: \" + pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"                pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"            });",
													"",
													"        } else {",
													"            pm.test(\"Parties FAILED - payerFSP\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"        }",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"    pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\") + \"/requests/\" + transferID, function (err, response) {",
													"        if (response.responseSize !== 0) {",
													"",
													"            //Check the Headers",
													"            var headers = response.json().headers;",
													"",
													"            pm.test(`On testfsp1 fspiop-source is SWITCH`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"",
													"            pm.test(`On testfsp1 fspiop-destination is testfsp1`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
													"            });",
													"",
													"            pm.test(`On testfsp1 fspiop-http-method is PATCH`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PATCH');",
													"            });",
													"",
													"",
													"            pm.test(`On testfsp1 fspiop-uri is /transfers`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${transferID}`);",
													"            });",
													"",
													"",
													"            //Check the data",
													"            var jsonData = response.json().data;",
													"            // pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
													"            //   pm.expect(jsonData.transferId).to.eql(transferID);",
													"            // });",
													"            // pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYER_NAME')} as request`, function () {",
													"            //   pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            // });",
													"            // pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYEE_NAME')} as request`, function () {",
													"            //   pm.expect(jsonData.payeeFsp).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            // });",
													"            // pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
													"            //   pm.expect(jsonData.amount.amount).to.eql('10');",
													"            // });",
													"            // pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
													"            //   pm.expect(jsonData.amount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"            // });",
													"            // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"            //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"            // });",
													"            // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"            //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"            // });",
													"            // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"            //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"            // });",
													"",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"",
													"        }",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"    pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\") + \"/callbacks/\" + transferID, function (err, response) {",
													"        if (response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`On testfsp1 fspiop-source is testfsp1`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');",
													"            });",
													"",
													"            pm.test(`On testfsp2 fspiop-destination is testfsp2`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"SIMPAYEE_FSPIOP_SIGNATURE\"));",
													"            // });",
													"",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes transfers`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"                pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"",
													"        }",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.1",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.1",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp2",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp1",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"PayerFirst PayerLast\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\"\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{SIMPAYER_CURRENCY}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										}
									},
									"response": []
								}
							],
							"description": "To execute the tests regarding that scenario, the postman environmental variable TEST_NOTIFICATIONS should be set to \"1\" and testfsp1 and testfsp2 should be set and used.\n\nOn sdk-scheme-adapter instances of testfsp1 and testfsp2 environmental variables should be set to:\n    RESERVE_NOTIFICATION=\"true\"\n    RESOURCE_VERSIONS=\"transfers=1.1,quotes=1.1\"\n",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"",
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						}
					],
					"description": "Author: Sridevi Miriyala\nDescription: Contains scripts that test with post /scenarios on majaloop sim backend"
				},
				{
					"name": "block_transfer",
					"item": [
						{
							"name": "GET limits - SIMPAYER",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"jsonData.forEach( ndcPerCurrency => {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}${ndcPerCurrency.currency}NDC`, `${ndcPerCurrency.limit.value}`)",
											"})",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/limits",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"limits"
									]
								},
								"description": "review the payerfsp limits/NDC"
							},
							"response": []
						},
						{
							"name": "GET limits - SIMPAYEE",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"var payeeNDC = jsonData[0].limit.value",
											"pm.environment.set('payeeNDC',payeeNDC)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/limits",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"limits"
									]
								},
								"description": "review payeefsp limits/NDC"
							},
							"response": []
						},
						{
							"name": "Get SIMPAYER position before TheTransfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"/*var result;",
											"",
											"jsonData.forEach( entry => {(entry.currency === pm.environment.get(\"currency\")) ? result = entry.value: result =",
											" undefined})",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, result);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"*/",
											"",
											"// for (var i in jsonData){",
											"//     if(jsonData[i].currency === pm.environment.get('currency')) {",
											"//   pm.test(\"Atleast one account position should be returned\", function () {",
											"//     pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, jsonData[i].value);",
											"//     pm.expect(jsonData).to.be.not.empty;",
											"//   });",
											"//     }",
											"   ",
											"// }",
											"",
											"jsonData.forEach(positionPerCurrency => {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}${positionPerCurrency.currency}PositionBeforeTransfer`, positionPerCurrency.value);",
											"})",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"positions"
									]
								},
								"description": "view payerfsp current position before sending the transfer"
							},
							"response": []
						},
						{
							"name": "Get SIMPAYEE position before TheTransfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"/*var result;",
											"",
											"jsonData.forEach( entry => {(entry.currency === pm.environment.get(\"currency\")) ? result = entry.value: result =",
											" undefined})",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(\"payeefspPositionBeforeTransfer\", result);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
											"  pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransfer`, jsonData[i].value);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"  });",
											"    }",
											"   ",
											"}",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"positions"
									]
								},
								"description": "Get payeefsp current position before sending the transfer"
							},
							"response": []
						},
						{
							"name": "Send Quote",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
											"                });",
											"                ",
											"            ",
											"                  pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
											"            });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')}  accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
											"            });",
											"           ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Block Transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// pm.test(\"Check that Content-Type is present\", function () {",
											"//     pm.response.to.have.header(\"Content-Type\");",
											"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
											"// });",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              var jsonData = response.json().data;",
											"              var headers = response.json().headers;",
											"              pm.test(\"Error Code should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('4001');",
											"              });",
											"              pm.test(\"Error Description should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payer FSP insufficient liquidity');",
											"              });",
											"              pm.test(\"fspiop-source is switch\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"",
											"            pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(\"accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
											"            });",
											"            ",
											"            pm.test(\"fspiop-signature is present\", function () {",
											"                pm.expect(headers['fspiop-signature']).to.not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"pm.environment.set('transferAmount', 100);",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"pm.environment.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000));",
											"",
											"var payerfspDefCurNDC = `${pm.environment.get('SIMPAYER_NAME')}${pm.environment.get('SIMPAYER_CURRENCY')}NDC`;",
											"var payerfspDefCurPositionBeforeTransfer = `${pm.environment.get('SIMPAYER_NAME')}${pm.environment.get('SIMPAYER_CURRENCY')}PositionBeforeTransfer`;",
											"",
											"var amount = Number(pm.environment.get(payerfspDefCurNDC))-Number(pm.environment.get(payerfspDefCurPositionBeforeTransfer))+100;",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": `${amount}`,",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptTransfersRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/transfers",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								},
								"description": "send a tranfer request with ilp packet and condition that are generated in quotes response along with expiry, fspiop source,fspiop destination, amount and currency."
							},
							"response": []
						},
						{
							"name": "Get SIMPAYER position after the transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"/*pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(jsonData[0].value).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`));",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
											"  pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(jsonData[i].value).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}${pm.environment.get('SIMPAYER_CURRENCY')}PositionBeforeTransfer`));",
											"  });",
											"    }",
											"   ",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"positions"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SIMPAYEE position after the transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"/*pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(Number(jsonData[0].value)).to.eql(Number(pm.environment.get(\"payeefspPositionBeforeTransfer\")));",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
											"  pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(Number(jsonData[i].value)).to.eql(Number(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransfer`)));",
											"  });",
											"    }",
											"   ",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"positions"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThis features testes, if a transfer is blocked when position of a participant exceeds the Net Debit Cap for the transfer amount.\n\nSTEPS:\n\nGET Limits\nGET Positions for payer and payee\nset amount=(NDC-P) + 10\nPOST Quotes - send to payee that responds COMMITTED\nPOST Transfers-Prepare\n      -Payerfsp should get error msg \"insufficient liquidity in payerfsp to perform transfer \" \nGET positions - \n  current payer position = prev position \n  current payee position = prev position \n(Failure of the transfer due to insufficient liquidity from payerfsp, results no change in positions)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "get_transfers",
					"item": [
						{
							"name": "Send Quote",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
											"                });",
											"                ",
											"              ",
											"                  pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
											"            });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be {pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
											"            });",
											"           ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// //Check the request that Switch forwards to payeefsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
											"            });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
											"                });",
											"                ",
											"                ",
											"                //Check the data",
											"                var jsonData = response.json().data;",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
											"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {",
											"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payeefspId as request`, function () {",
											"                  pm.expect(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
											"                  pm.expect(jsonData.amount.amount).to.eql('10');",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
											"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"SIMPAYEE_CURRENCY\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {",
											"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {",
											"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {",
											"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"  });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"           pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptTransfersRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "GET transfer - COMMITTED",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1300)",
											"",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptTransfersRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Source is original receiver",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not null`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Transfer State is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"              });",
											"              ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/{{SIMPAYER_NAME}}/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"//           if(response.responseSize !== 0) {",
											"//             //Checking headers",
											"//             var headers = response.json().headers;",
											"//             pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp accept is empty\", function () {",
											"//                 pm.expect(headers['accept']).to.eql(undefined);",
											"//             });",
											"            ",
											"//         //    pm.test(\"fspiop-signature is returned\", function () {",
											"//          //       pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"SIMPAYEE_FSPIOP_SIGNATURE\"));",
											"//         //    });",
											"        ",
											"//           pm.test(\"fspiop-signature is returned\", function () {",
											"//             pm.expect(headers['fspiop-signature']).to.eql(undefined);",
											"//           });",
											"           ",
											"            ",
											"//          /*   pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
											"//                 pm.expect(headers['fspiop-uri']).to.include('/transfers');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });*/",
											"            ",
											"//             var jsonData = response.json().data;",
											"//             pm.test(\"Error Code should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"//               });",
											"//               pm.test(\"Error Description should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorDescription).to.eql('Provided Transfer ID was not found on the server.');",
											"//               });",
											"//           } else {",
											"//               pm.test(\"Transfer FAILED\", function () {",
											"//                 throw new Error('Did not receive response');",
											"//               });",
											"//               // postman.setNextRequest(null)",
											"//           }",
											"//   });",
											"// }, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptTransfersRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYEE_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						},
						{
							"name": "Source is not part of original sender/receiver",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
											"            });",
											"            ",
											"           pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not null`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Error Code should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"              });",
											"              pm.test(\"Error Description should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Generic client error');",
											"              });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"//           if(response.responseSize !== 0) {",
											"//             //Checking headers",
											"//             var headers = response.json().headers;",
											"//             pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp accept is empty\", function () {",
											"//                 pm.expect(headers['accept']).to.eql(undefined);",
											"//             });",
											"            ",
											"//         //    pm.test(\"fspiop-signature is returned\", function () {",
											"//          //       pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"SIMPAYEE_FSPIOP_SIGNATURE\"));",
											"//         //    });",
											"        ",
											"//           pm.test(\"fspiop-signature is returned\", function () {",
											"//             pm.expect(headers['fspiop-signature']).to.eql(undefined);",
											"//           });",
											"           ",
											"            ",
											"//          /*   pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
											"//                 pm.expect(headers['fspiop-uri']).to.include('/transfers');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });*/",
											"            ",
											"//             var jsonData = response.json().data;",
											"//             pm.test(\"Error Code should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"//               });",
											"//               pm.test(\"Error Description should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorDescription).to.eql('Provided Transfer ID was not found on the server.');",
											"//               });",
											"//           } else {",
											"//               pm.test(\"Transfer FAILED\", function () {",
											"//                 throw new Error('Did not receive response');",
											"//               });",
											"//               // postman.setNextRequest(null)",
											"//           }",
											"//   });",
											"// }, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIM1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptTransfersRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIM1_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						},
						{
							"name": "200 - 3208 - TransferId not found",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}/error`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"nonExistingtransferID\")+'/error');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not null`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Error Code should be returned 3208\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"              });",
											"              pm.test(\"Error Description Transfer ID not found should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Transfer ID not found - Provided Transfer ID was not found on the server.');",
											"              });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptTransfersRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{nonExistingtransferID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{nonExistingtransferID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						}
					]
				},
				{
					"name": "funds_out",
					"item": [
						{
							"name": "Reserve&Commit",
							"item": [
								{
									"name": "Record Funds Out Prepare&Reserve- SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutPrepareReserveTransferId', generatedUUID);",
													"pm.environment.set('fundsOutPrepareReserveAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
													"  method: 'GET',",
													"  header: {",
													"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"      \"FSPIOP-Source\": \"hub_operator\",",
													"      \"Content-Type\": \"application/json\"",
													"  }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for(var i in jsonData) {",
													"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountId`,jsonData[i].id)",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`,jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
													"  method: 'GET',",
													"  header: {",
													"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"      \"FSPIOP-Source\": \"hub_operator\",",
													"      \"Content-Type\": \"application/json\"",
													"  }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for(var i in jsonData) {",
													"        if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutPrepare\",jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": \"hub_operator\",",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutPrepare",
													"        for(var i in jsonData) {",
													"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = -(-Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`))- Number(pm.environment.get(\"fundsOutPrepareReserveAmount\")))",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should decrease by the transfer amount`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutPrepare).to.eql(payerfspExpectedBalance);",
													"          });    ",
													"    ",
													"    });",
													"    ",
													"    const hubGetStatusRequest = {",
													"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutPrepare",
													"        for(var i in jsonData) {",
													"            if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutPrepare\")//-pm.environment.get(\"fundsOutPrepareReserveAmount\")",
													"        pm.test(\"Final Hub Reconciliation Account Balance should stay the same in prepare phase\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutPrepare).to.eql(hubExpectedBalance);",
													"          });  ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"transferId\": \"{{fundsOutPrepareReserveTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsOutPrepareReserve\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsOutPrepareReserveAmount}},\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Prepare&Reserve - transferStatus",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"SIMPAYER_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"SIMPAYER_NAME\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"                ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be RESERVED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"RESERVED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    });",
													"}, 2000);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								},
								{
									"name": "Record Funds Out Commit - SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutCommitTransferId', generatedUUID);",
													"pm.environment.set('fundsOutCommitAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": \"hub_operator\",",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutCommit`, jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": \"hub_operator\",",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutCommit\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutCommit = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutCommit`)//-pm.environment.get(\"fundsOutPrepareAmount\")",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should not change during commit phase`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutCommit).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutCommit = jsonData[i].value",
													"            }",
													"        }",
													"        console.log(`hubReconAccountBalanceBeforeFundsOutCommit: ${Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutCommit\"))}`);",
													"        console.log(`fundsOutCommitAmount: ${Number(pm.environment.get(\"fundsOutCommitAmount\"))}`);",
													"",
													"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutCommit\")) - Number(pm.environment.get(\"fundsOutCommitAmount\"))",
													"        pm.test(\"Final Hub Reconciliation Account Balance should decrease by the transfer amount\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutCommit).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"action\": \"recordFundsOutCommit\",\n  \"reason\": \"Reason for out flow of funds\"\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{{{SIMPAYER_NAME}}SettlementAccountId}}",
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Commit - transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": \"hub_operator\",",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-destination is ${pm.environment.get(\"SIMPAYER_NAME\")}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get(\"SIMPAYER_NAME\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								}
							]
						},
						{
							"name": "Reserve&Abort",
							"item": [
								{
									"name": "Record Funds Out Prepare&Reserve- SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutPrepareReserveTransferId', generatedUUID);",
													"pm.environment.set('fundsOutPrepareReserveAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountId`, jsonData[i].id)",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`, jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutPrepare\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutPrepare",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = -(-Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`)) - Number(pm.environment.get(\"fundsOutPrepareReserveAmount\")))",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should decrease by the transfer amount`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutPrepare).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutPrepare",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutPrepare\")//-pm.environment.get(\"fundsOutPrepareReserveAmount\")",
													"        pm.test(\"Final Hub Reconciliation Account Balance should stay the same in prepare phase\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutPrepare).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"transferId\": \"{{fundsOutPrepareReserveTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsOutPrepareReserve\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsOutPrepareReserveAmount}},\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Prepare&Reserve - transfer status (BUG)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"SIMPAYER_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be RESERVED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"RESERVED\");",
													"              }); ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								},
								{
									"name": "Record Funds Out Abort - SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutCommitAmount', 1000);",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutAbort`, jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutAbort\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutAbort",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutAbort = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`)//-pm.environment.get(\"fundsOutPrepareAmount\")",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should rollback to the value before Prepare`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutAbort).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutAbort = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutAbort\"))",
													"        pm.test(\"Final Hub Reconciliation Account Balance should not change\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutAbort).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"action\": \"recordFundsOutAbort\",\n  \"reason\": \"Reason for out flow of funds\"\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{payerfspSettlementAccountId}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{payerfspSettlementAccountId}}",
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG)Record Funds Out Abort - transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"ABORTED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "funds_in",
					"item": [
						{
							"name": "Record Funds In - prepare",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
											"pm.environment.set('fundsInPrepareAmount', 5000);",
											"",
											"",
											"const payerfspGetStatusRequest = {",
											"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
											"  method: 'GET',",
											"  header: {",
											"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"      \"Content-Type\": \"application/json\"",
											"  }",
											"};",
											"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
											"    console.log(response.json())",
											"    var jsonData = response.json()",
											"    for(var i in jsonData) {",
											"        if((jsonData[i].ledgerAccountType === 'SETTLEMENT') && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}SettlementAccountId`,jsonData[i].id)",
											"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
											"        }",
											"    }",
											"});",
											"",
											"const hubGetStatusRequest = {",
											"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
											"  method: 'GET',",
											"  header: {",
											"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"      \"Content-Type\": \"application/json\"",
											"  }",
											"};",
											"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
											"    console.log(response.json())",
											"    var jsonData = response.json()",
											"    for(var i in jsonData) {",
											"        if((jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
											"        }",
											"    }",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"    const payerfspGetStatusRequest = {",
											"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    };",
											"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
											"        console.log(`${pm.environment.get(\"SIMPAYER_NAME\")} accounts: `,response.json())",
											"        var jsonData = response.json()",
											"        var payerfspSettlementAccountBalanceAfterFundsIn",
											"        for(var i in jsonData) {",
											"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"                payerfspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
											"            }",
											"        }",
											"        var payerfspExpectedBalance = -(-Number(pm.environment.get(`${pm.environment.get(\"SIMPAYER_NAME\")}SettlementAccountBalanceBeforeFundsIn`)) + Number(pm.environment.get('fundsInPrepareAmount')))",
											"        pm.test(`Final ${pm.environment.get(\"SIMPAYER_NAME\")} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
											"            pm.expect(payerfspSettlementAccountBalanceAfterFundsIn).to.eql(payerfspExpectedBalance);",
											"          });    ",
											"    ",
											"    });",
											"    ",
											"    const hubGetStatusRequest = {",
											"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    };",
											"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
											"        console.log('hub accounts balance: ',response.json())",
											"        var jsonData = response.json()",
											"        var currentHubReconAccountBalance",
											"        for(var i in jsonData) {",
											"            if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION'  && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"                hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
											"            }",
											"        }",
											"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\"))+Number(pm.environment.get('fundsInPrepareAmount'))",
											"        console.log(hubExpectedBalance)",
											"        pm.test(\"Final Hub Reconciliation Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
											"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
											"          });  ",
											"    });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": \"{{fundsInPrepareAmount}}\",\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"accounts",
										"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Record Funds In - prepare transfer status",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"    ",
											"    const getTransferResponse = {",
											"      url: pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsInPrepareTransferId\"),",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"SIMPAYER_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"SIMPAYER_NAME\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    }",
											"    pm.sendRequest(getTransferResponse, function (err, response) {",
											"        if(response.responseSize !== 0) {",
											"            ",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-source is switch `, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-destination is ${pm.environment.get(\"SIMPAYER_NAME\")}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get(\"SIMPAYER_NAME\")}`);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-signature is not empty`, function () {",
											"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"                });",
											"            ",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-uri includes /transfers/${pm.environment.get(\"fundsInPrepareTransferId\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsInPrepareTransferId\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data",
											"            pm.test(\"Transfer State should be COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
											"            });   ",
											"            ",
											"        } else {",
											"            pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"            });",
											"            // postman.setNextRequest(null)",
											"        }",
											"    ",
											"    });",
											"}, 4000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptTransfersRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsInPrepareTransferId}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{fundsInPrepareTransferId}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
							},
							"response": []
						}
					]
				},
				{
					"name": "settlement_management",
					"item": [
						{
							"name": "SETTLE  settlement",
							"item": [
								{
									"name": "Setup Settlement",
									"item": [
										{
											"name": "Setup Accounts",
											"item": [
												{
													"name": "Activate currency Account",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"const fsps = [pm.environment.get(\"SIMPAYER_NAME\"),pm.environment.get(\"SIMPAYEE_NAME\"),pm.environment.get(\"SIM1_NAME\"),pm.environment.get(\"SIM2_NAME\")];",
																	"",
																	"pm.response.json().map(participant => {",
																	"    if(fsps.include(participant.name)) {",
																	"       const participantGetRequest = {",
																	"          url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name,",
																	"          method: 'GET',",
																	"          header: {",
																	"              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"              \"Content-Type\": \"application/json\"",
																	"          }",
																	"        };",
																	"        pm.sendRequest(participantGetRequest, function (err, response) {",
																	"            if(response.responseSize !== 0) {",
																	"                response.json().accounts.map(account => {",
																	"                    const url = pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name+'/accounts/'+account.id;",
																	"                    const header =  {",
																	"                          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                          \"Content-Type\": \"application/json\"",
																	"                      };",
																	"                    if(account.currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": true",
																	"                            }",
																	"                        };",
																	"                    } else {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": false",
																	"                            }",
																	"                        };",
																	"                    }",
																	"                })",
																	"            } else {",
																	"                pm.test(\"Request FAILED\", function () {",
																	"                    throw new Error('Did not receive response');",
																	"                });",
																	"                // postman.setNextRequest(null)",
																	"            }",
																	"        }); ",
																	"    }",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "hub_operator",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants"
															]
														}
													},
													"response": []
												}
											],
											"description": "Activate only XOF accounts and disable rest of the accounts"
										},
										{
											"name": "Create Settlement on the current open window",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200 or 400 error window is empty\", function () {",
																	"    if (pm.response.code === 400){",
																	"        pm.expect(pm.response.code).to.equal(400);",
																	"    } else {",
																	"        pm.expect(pm.response.code).to.equal(200);",
																	"    }",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN or current should be empty\", function () {",
																	"    if (pm.response.code === 400) {",
																	"        pm.expect(pm.response.json().errorInformation.errorCode).to.eql('3100');",
																	"        pm.expect(pm.response.json().errorInformation.errorDescription).to.eql('Generic validation error - Window ' + pm.environment.get(\"openWindowID\") + ' is empty');",
																	"        postman.setNextRequest('SIM1_balances_storeAccts');",
																	"    } else {",
																	"        var jsonData = pm.response.json();",
																	"        ",
																	"        pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"        pm.expect(jsonData.settlementWindowId).not.equal(undefined);",
																	"        pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"        pm.environment.set(\"openWindowID\", jsonData.settlementWindowId);",
																	"        console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"        console.log('newOpenWindowID',pm.environment.get(\"openWindowID\"));  ",
																	"    }",
																	"});",
																	"",
																	"// pm.test(\"New window State should be OPEN\", function () {",
																	"//     pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"//     pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"//     pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"//     console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"//     console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"// });"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"settlementModel\": \"DEFERREDNET\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}\n"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												},
												{
													"name": "Prepare Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers recorded for payer\",",
																	"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Reserve Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers reserved\",",
																	"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Commit Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers committed\",",
																	"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Settle Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers settled for payer\",",
																	"                                          \"state\": \"SETTLED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												}
											],
											"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											]
										},
										{
											"name": "Store Settlement&Position Account Balances Before Transfers",
											"item": [
												{
													"name": "SIM1_balances_storeAccts",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM1_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM1_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"    /*        pm.test(\"testfsp1 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM1_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIM2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM2_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM2_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"    /*        pm.test(\"testfsp2 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM2_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYER balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"     /*       pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance is 0`, function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYER_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYEE balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYEE_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYEE_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"       /*     pm.test(\"payeefsp position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYEE_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "HUB balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {",
																	"            pm.environment.set(\"hubReconciliationAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {",
																	"            pm.environment.set(\"hubMultilateralAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"Hub",
																"accounts"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Run Quote & Transfers",
											"item": [
												{
													"name": "Send Quote 1 (SIM1 to SIM2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"  var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM1_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM2_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"60\",",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\") + \"/requests/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"\r",
																	"            //Check the Headers\r",
																	"            var headers = response.json().headers;\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
																	"            });\r",
																	"\r",
																	"          \r",
																	"                  pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"            });\r",
																	"\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null)\r",
																	"        }\r",
																	"    });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\") + \"/callbacks/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"\r",
																	"            var { signature, protectedHeader } = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"\r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:', decodedProtectedHeaders)\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\" + pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/' + pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"\r",
																	"            var jsonData = response.json().data;\r",
																	"\r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response condition is not null\", function () {\r",
																	"                pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"                pm.environment.set(\"condition\", jsonData.condition);\r",
																	"            });\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on Payer side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null);\r",
																	"        }\r",
																	"\r",
																	"    });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 1 (SIM1 to SIM2)",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"              pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"           pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')} `, function () {\r",
																	"     pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
																	"});\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"60\",\r",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptTransfersRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 2 (SIM1 to SIMPAYEE)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM1_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"55\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"              pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"             pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 2 (SIM1 to SIMPAYEE)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"55\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('55');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"         pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')} `, function () {\r",
																	"     pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
																	"});\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptTransfersRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 3 (SIMPAYER to SIM1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM1_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIM1_NAME')\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM1_CURRENCY')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"               pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"           pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp1JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 3 (SIMPAYER to SIM1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM1_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIM1_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM1_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"             pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same payerfspId as request`, function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same testfsp1Id as request`, function () {\r",
																	"                  pm.expect(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"          pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')} `, function () {\r",
																	"     pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
																	"});\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptTransfersRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 4 (SIM2 to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM2_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM2_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"20\",",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM2_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get(\"SIM2_NAME\")}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get(\"SIM2_NAME\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                 pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} fspiop-destination is ${pm.environment.get(\"SIM2_NAME\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get(\"SIM2_NAME\"));\r",
																	"            });\r",
																	"            \r",
																	"              pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get(\"SIM2_NAME\")}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get(\"SIM2_NAME\"));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															},
															{
																"key": "x-forwarded-for",
																"type": "text",
																"value": "34.245.65.70",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 4 (SIM2 to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM2_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIM2_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"20\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM2_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('20');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"              pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')} `, function () {\r",
																	"     pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
																	"});\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptTransfersRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 5 (SIMPAYEE to SIM2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIM2_NAME')\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                 pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"             pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 5 (SIMPAYEE to SIM2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"              pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')} `, function () {\r",
																	"     pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
																	"});\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptTransfersRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 6  (SIMPAYEE to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"               pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 6 (SIMPAYEE to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                 pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
																	"            });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same payeefspId as request`, function () {\r",
																	"                  pm.expect(jsonData.payeeFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same payerfspId as request`, function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('25');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"               pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')} `, function () {\r",
																	"     pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
																	"});\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "{{acceptTransfersRequest}}"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Create Settlement",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN\", function () {",
																	"    console.log(pm.response.json());",
																	"    pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Associated number of participants should be 4 \", function () {",
																	"    pm.expect(jsonData.participants.length).to.eql(4);",
																	"});",
																	"",
																	"for(var j in jsonData.participants) {",
																	"    for(var k in jsonData.participants[j].accounts) {",
																	"        console.log(jsonData.participants[j].accounts[k].id)",
																	"        if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}AccountId`))) {",
																	"            console.log(`${pm.environment.get('SIMPAYER_NAME')}NetSettlementAmount:`,jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}NetSettlementAmount`,jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        } else if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}AccountId`))) {",
																	"            console.log(`${pm.environment.get('SIMPAYEE_NAME')}NetSettlementAmount:`,jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}NetSettlementAmount`,jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        }",
																	"        ",
																	"    }",
																	"}",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"settlementModel\": \"DEFERREDNET\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Store Settlement&Position Account Balances After Transfers",
											"item": [
												{
													"name": "SIM1 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM1_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIM2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM2_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYER balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYER_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYEE balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYEE_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								},
								{
									"name": "Prepare Settlement",
									"item": [
										{
											"name": "Prepare Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers recorded for payer\",",
															"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         console.log(jsonData.participants[j].accounts[k].id)",
															"//         if(jsonData.participants[j].accounts[k].currency === pm.environment.get('currency')) {",
															"//             const participantPutRequest = {",
															"//               url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"//               method: 'PUT',",
															"//               header: {",
															"//                   \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"//                   \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"//                   \"Content-Type\": \"application/json\"",
															"//               },",
															"//               body: {",
															"//                 mode: 'raw',",
															"//                 raw: JSON.stringify(",
															"//                     {",
															"//                       \"participants\": [",
															"//                         {",
															"//                           \"id\": jsonData.participants[j].id,",
															"//                           \"accounts\": [",
															"//                             {",
															"//                               \"id\": jsonData.participants[j].accounts[k].id,",
															"//                               \"reason\": \"Transfers recorded for payer\",",
															"//                               \"state\": \"PS_TRANSFERS_RECORDED\"",
															"//                             }",
															"//                           ]",
															"//                         }",
															"//                       ]",
															"//                     }",
															"//                 )",
															"//               }",
															"//             };",
															"//             pm.sendRequest(participantPutRequest, function (err, response) {",
															"//                 console.log(response.json());",
															"//             });",
															"//         }",
															"",
															"",
															"//     }",
															"// }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RECORDED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RECORDED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         pm.test(`Participant Account ${jsonData.participants[j].accounts[k].id} state is PS_TRANSFERS_RECORDED`, function () {",
															"//             pm.expect(jsonData.participants[j].accounts[k].state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"//         });",
															"//     }",
															"// }",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterPrepare;",
															"var testfsp1PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceAfterTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterPrepare;",
															"var testfsp2PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceAfterTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterPrepare;\r",
															"var payerfspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance before and  after prepare should be the same.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceAfterTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterPrepare;\r",
															"var payeefspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after prepare should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance before and  after prepare should be the same.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceAfterTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Reserve Settlement",
									"item": [
										{
											"name": "Reserve Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers reserved\",",
															"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \" + pm.environment.get('settlementId'), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RESERVED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RESERVED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterReserve;",
															"var testfsp1PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after reserve should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance before and  after reserve should be the same.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceAfterTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterReserve;",
															"var testfsp2PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after reserve should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance after reserve gets increased by its net settlement  amount.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterReserve;\r",
															"var payerfspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance after reserve gets increased by its net settlement  amount.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterReserve;\r",
															"var payeefspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Commit Settlement",
									"item": [
										{
											"name": "Commit Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers committed\",",
															"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_COMMITTED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(xofAccount => {",
															"                        pm.test(`Participant Account ${xofAccount.id} state is PS_TRANSFERS_COMMITTED`, function () {",
															"                            pm.expect(xofAccount.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterCommit;",
															"var testfsp1PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance after commit should be reduced by its net settlement amount.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance before and after commit should be the same.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance after commit should be reduced by its net settlement amount.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "hub account balance check",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var hubReconciliationAccountBalanceAfterCommit;\r",
															"var hubMultilateralAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {\r",
															"            hubReconciliationAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {\r",
															"            hubMultilateralAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"hub reconciliation account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubReconciliationAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubReconciliationAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"hub multilateral account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubMultilateralAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubMultilateralAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"Hub",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Settle Settlement",
									"item": [
										{
											"name": "Settle Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers settled for payer\",",
															"                                          \"state\": \"SETTLED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be SETTLED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"SETTLED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be SETTLED\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"SETTLED\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is SETTLED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"SETTLED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterSettle;",
															"var testfsp1PositionAccountBalanceAfterSettle;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after settle should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterSettle).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance before and  after settle should be the same.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterSettle).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								}
							]
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "transfer_negative_scenarios",
					"item": [
						{
							"name": "fulfil-reserved-v1.0",
							"item": [
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"1\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
													"                });",
													"                ",
													"                  pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
													"            });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"               pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer-Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 1000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"1\",\r",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('validIlpPacket'),\r",
													"  \"condition\": pm.environment.get('validCondition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Fulfill-Reserved",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let retries = 0;",
													"const maxRetries = 6;",
													"",
													"const runTest = () => {",
													"    setTimeout(function () {",
													"        pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\") + \"/callbacks/\" + pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"            if (response.responseSize !== 0) {",
													"                //Check headers",
													"                var headers = response.json().headers;",
													"",
													"                pm.test(\"fspiop-source is source\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
													"                });",
													"",
													"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"",
													"                //Uncomment after JWS is implemented",
													"                // pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
													"                // });",
													"",
													"",
													"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"",
													"                pm.test(\"date header should not be empty\", function () {",
													"                    pm.expect(headers['date']).to.be.not.empty;",
													"                });",
													"                ",
													"                //Check data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"Response error code should be 3300\", function () {",
													"                    pm.expect(jsonData.errorInformation.errorCode).to.eql('3303');",
													"                });",
													"                pm.test(\"Response error description should be contain validation\", function () {",
													"                    pm.expect(jsonData.errorInformation.errorDescription).to.include('Transfer expired');",
													"                });",
													"                // pm.test(\"Response should be timeout error information\", function () {",
													"                //     pm.expect(jsonData).to.deep.eql({",
													"                //         errorInformation: {",
													"                //             errorCode: \"3300\",",
													"                //             errorDescription: \"Generic expired error\"",
													"                //         }",
													"                //     });",
													"                // });",
													"            } else {",
													"                if (retries < maxRetries) {",
													"                    console.log('retrying...', ++retries)",
													"                    runTest()",
													"                    return;",
													"                }",
													"                pm.test(\"Transfer FAILED\", function () {",
													"                    throw new Error('Did not receive response');",
													"                });",
													"            }",
													"        }",
													"        );",
													"    }, 2000)",
													"}",
													"runTest()",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"fulfilment\": pm.environment.get('validFulfillment'),",
													"  \"transferState\": \"RESERVED\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferResponse\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers/{{transfer_ID}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferResponse}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"",
													"   pm.variables.set('transferDate', (new Date()).toUTCString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Check headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"fspiop-source is switch\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
													"                });",
													"                ",
													"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                 pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"                ",
													"                pm.test(\"date header should not be empty\", function () {",
													"                    pm.expect(headers['date']).to.be.not.empty;",
													"                });",
													"                ",
													"                pm.test(\"accept header should not be sent in the response\", function () {",
													"                    pm.expect(headers['accept']).to.eql(undefined);",
													"                });",
													"                ",
													"                pm.test(\"fspiop-signature is not null\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"                ",
													"                pm.test(\" fspiop-http-method is PUT\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"                });",
													"                ",
													"                pm.test(` fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
													"                });",
													"                ",
													"             //Check data    ",
													"              var jsonData = response.json().data;",
													"              pm.test(\"Response errorCode should be 3303\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3303');",
													"              });",
													"              pm.test(\"Response errorDescription should be Transfer expired\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Transfer expired');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "payee_invalid_fulfillment",
							"item": [
								{
									"name": "Store SIMPAYER position",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, position.value);",
													"    })",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store SIMPAYEE position",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransfer`, position.value);",
													"    })",
													"    ",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
													"                });",
													"                ",
													"                  pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
													"            });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"               pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"10\",\r",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Payee Invalid Fulfillment",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"//TODO Need to doublecheck ML Backend functionality in the new release",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"//             //Checking headers",
													"//             var headers = response.json().headers;",
													"//             pm.test(\"payeefsp fspiop-source is switch \", function () {",
													"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-destination is noresponsepayeefsp\", function () {",
													"//                 pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp accept is empty\", function () {",
													"//                 pm.expect(headers['accept']).to.eql(undefined);",
													"//             });",
													"            ",
													"            ",
													"//             pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"//                 pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-signature is not null\", function () {",
													"//                 pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
													"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"//             });",
													"            ",
													"//             var jsonData = response.json().data;",
													"//             pm.test(\"Response Error Code is 3100\", function () {",
													"//               pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"//             });",
													"//             pm.test(\"Response Error Description is Generic validation error - invalid fulfilment\", function () {",
													"//               pm.expect(jsonData.errorInformation.errorDescription).to.eql('Generic validation error - invalid fulfilment');",
													"//             });",
													"//           } else {",
													"//               pm.test(\"Transfer FAILED\", function () {",
													"//                 throw new Error('Did not receive response on payer side');",
													"//               });",
													"//               // postman.setNextRequest(null)",
													"//           }",
													"//   });",
													"// }, 3000)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"fulfilment\": \"{{invalidFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"COMMITTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Transfer status on SIMPAYER - ABORTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"",
													"   var uuid = require('uuid');",
													"   var generatedUUID = uuid.v4();",
													"   pm.variables.set('transferId', generatedUUID);",
													"",
													"   pm.variables.set('transferDate', (new Date()).toUTCString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
													"// });",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"transfer_ID\"), function (err, response) {",
													"          if(response !== null) {",
													"              var jsonData = response.json().data;",
													"              ",
													"              pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"              });",
													"              pm.test(\"Extension List value is 3100: Generic validation error - invalid fulfilment\", function () {",
													"                pm.expect(jsonData.extensionList.extension[0].value).to.eql('3100: Generic validation error - invalid fulfilment');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 3000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check SIMPAYER & SIMPAYEE position",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position after transfer and after Payee ABORT should be same as position before transfer.`, function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`)));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 10000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "payee_abort_v1.1",
							"item": [
								{
									"name": "Store SIMPAYER position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforePrepare`, jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store NORESPONSE_SIMPAYEE position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(`${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}PositionBeforePrepare`, jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{NORESPONSE_SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{NORESPONSE_SIMPAYEE_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"",
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transfer_ID', generatedUUID);",
													"pm.environment.set('transferDate', (new Date()).toUTCString());",
													"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));",
													"pm.environment.set('transferAmount', 99);",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
													"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
													"  \"amount\": {",
													"    \"amount\": `${pm.environment.get('transferAmount')}`,",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
													"  \"condition\": pm.environment.get('validCondition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store SIMPAYER position after Prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionAfterPrepare`, jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send SIMPAYEE Abort - should do nothing but log in fulfil handler",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// pm.test(\"Status code is 200\", function () {",
													"//     pm.response.to.have.status(200);",
													"// });",
													"",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/correlationid/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"//               var jsonData = response.json();",
													"//               pm.test(\"Response code should be ABORTED\", function () {",
													"//                 pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"//               });",
													"//           } else {",
													"//               pm.test(\"Transfer FAILED\", function () {",
													"//                 throw new Error('Did not receive response');",
													"//               });",
													"              ",
													"//           }",
													"//   });",
													"// }, 5000)",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"\r",
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());\r",
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"fulfilment\": pm.environment.get('validFulfillment'),\r",
													"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),\r",
													"  \"transferState\": \"ABORTED\"\r",
													"}\r",
													"\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"fulfillResponse\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true,
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "{{contentTypeTransfers}}"
											},
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fulfillResponse}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check SIMPAYER position after Abort to wrong url",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position after Payee ABORT should be same as position after prepare.`, function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAfterPrepare`)));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Fulfill-Reject",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());\r",
													"\r",
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"\t\"errorInformation\": {\r",
													"\t\t\"errorCode\": \"5101\",\r",
													"\t\t\"errorDescription\": \"Payee transaction limit reached\",\r",
													"\t\t\"extensionList\": {\r",
													"\t\t\t\"extension\": [{\r",
													"\t\t\t\t\"key\": \"errorDetail\",\r",
													"\t\t\t\t\"value\": \"This is an abort extension\"\r",
													"\t\t\t}]\r",
													"\t\t}\r",
													"\t}\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"fulfillResponse\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('NORESPONSE_SIMPAYEE_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"//               //Check headers",
													"//               var headers = response.json().headers;",
													"              ",
													"//                 pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
													"//                     pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
													"//                 });",
													"                ",
													"//                 pm.test(\"fspiop-destination is payerfsp\", function () {",
													"//                     pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('payerfsp'));",
													"//                 });",
													"                ",
													"//                 //Uncomment after JWS is implemented",
													"//                 // pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"//                 //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
													"//                 // });",
													"                ",
													"                ",
													"//                 pm.test(\"payeefsp content-type is same as sent in the request\", function () {",
													"//                     pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
													"//                 });",
													"                ",
													"//                 pm.test(\"date header should not be empty\", function () {",
													"//                     pm.expect(headers['date']).to.be.not.empty;",
													"//                 });",
													"                ",
													"//                 pm.test(\"accept header should not be sent in the response\", function () {",
													"//                     pm.expect(headers['accept']).to.eql(undefined);",
													"//                 });",
													"                ",
													"//               //Check data",
													"//               var jsonData = response.json().data;",
													"//               console.log('== response ==', jsonData)",
													"//               pm.test(\"Response Error Code is 5101\", function () {",
													"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
													"//               });",
													"              ",
													"//               pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
													"//                 pm.expect(jsonData.errorInformation.errorDescription).to.include('Payee transaction limit reached');",
													"//                 //pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
													"//               });",
													"              ",
													"//           } else {",
													"//               pm.test(\"Transfer FAILED\", function () {",
													"//                 throw new Error('Did not receive response');",
													"//               });",
													"              ",
													"//           }",
													"//   });",
													"// }, 5000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true
										}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "{{contentTypeTransfers}}"
											},
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{fulfillResponse}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}",
												"error"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Transfer status - ABORTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"if (pm.environment.get('CONFIG_GENERATE_NEW_TRANSFER_UUID_ON_PREPARE') === 'true') {",
													"   var uuid = require('uuid');",
													"   var generatedUUID = uuid.v4();",
													"   pm.environment.set('transferId', generatedUUID);",
													"}",
													"",
													"if (pm.environment.get('CONFIG_GENERATE_NEW_PREPARE_DATE') === 'true') {",
													"   pm.environment.set('transferDate', (new Date()).toUTCString());",
													"}"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
													"// });",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              var jsonData = response.json().data;",
													"              ",
													"              pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              ",
													"          }",
													"   });",
													"}, 5000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check SIMPAYER position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position after Payee ABORT should be same as position before prepare.`, function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforePrepare`)));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check NORESPONSE_SIMPAYEE position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(`${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')} position after Payee ABORT should be same as position before prepare.`, function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get(`${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}PositionBeforePrepare`)));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{NORESPONSE_SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{NORESPONSE_SIMPAYEE_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								}
							]
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "duplicate_handling",
					"item": [
						{
							"name": "transfers",
							"item": [
								{
									"name": "original_transfer_at_committed",
									"item": [
										{
											"name": "Send Quote - RECEIVE",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var navigator = {}; ",
															"var window = {}; ",
															"eval(pm.environment.get('jrsassign'));",
															"",
															"",
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"generatedUUID = uuid.v4();",
															"pm.environment.set('transactionId', generatedUUID);",
															"",
															"pm.variables.set('quoteDate', (new Date()).toUTCString());",
															"pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
															"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
															"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
															"var sHeader = JSON.stringify(oHeader);",
															"console.log(`sHeader: ${sHeader}`)",
															"",
															"var objPayload = {",
															"  \"quoteId\": pm.environment.get('quoteId'),",
															"  \"transactionId\": pm.environment.get('transactionId'),",
															"  \"payer\": {",
															"    \"partyIdInfo\": {",
															"      \"partyIdType\": \"MSISDN\",",
															"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
															"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
															"    },",
															"    \"personalInfo\": {",
															"      \"complexName\": {",
															"        \"firstName\": \"Mats\",",
															"        \"lastName\": \"Hagman\"",
															"      },",
															"      \"dateOfBirth\": \"1983-10-25\"",
															"    }",
															"  },",
															"  \"payee\": {",
															"    \"partyIdInfo\": {",
															"      \"partyIdType\": \"MSISDN\",",
															"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
															"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
															"    }",
															"  },",
															"  \"amountType\": \"RECEIVE\",",
															"  \"amount\": {",
															"    \"amount\": \"1\",",
															"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
															"  },",
															"  \"transactionType\": {",
															"    \"scenario\": \"TRANSFER\",",
															"    \"initiator\": \"PAYER\",",
															"    \"initiatorType\": \"CONSUMER\"",
															"  },",
															"  \"note\": \"hej\"",
															"}",
															"",
															"var sPayload = JSON.stringify(objPayload)",
															"console.log(`sPayload: ${sPayload}`)",
															"pm.variables.set(\"quoteRequest\", sPayload);",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
															"console.log(`token: ${token}`)",
															"",
															"// var encodedHeaders = btoa(sHeader)",
															"",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
															"// var token = JSON.stringify(ofspiopSignature)",
															"",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');",
															"",
															"const signatureObject = {",
															"    signature: signature.replace('\"', ''),",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
															"};",
															"",
															"console.log(JSON.stringify(signatureObject))",
															"",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
															"          if(response.responseSize !== 0) {",
															"              ",
															"              //Check the Headers",
															"              var headers = response.json().headers;",
															"              ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
															"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
															"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
															"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
															"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
															"            });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
															"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
															"                });",
															"                ",
															"          } else {",
															"              pm.test(\"Quote FAILED\", function () {",
															"                throw new Error('Did not receive request on payee side');",
															"              });",
															"              // postman.setNextRequest(null)",
															"          }",
															"   });",
															"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
															"      if(response.responseSize !== 0) {",
															"          //Checking headers",
															"            var headers = response.json().headers;",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
															"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
															"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
															"                pm.expect(headers['accept']).to.eql(undefined);",
															"            });",
															"            ",
															"            ",
															"            ",
															"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
															"            // var strData = JSON.stringify(response.json().data)",
															"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
															"            // console.log(`token: ${token}`)",
															"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
															"            // console.log(`isValid: ${isValid}`)",
															"            // pm.test(\"Check if the response is JWS valid\", function () {",
															"            //     pm.expect(isValid).to.eql(true);",
															"            // });",
															"            ",
															"            //Validate protected header inside Signature",
															"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
															"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
															"            ",
															"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
															"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
															"            });",
															"            ",
															"",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
															"            });",
															"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
															"            });",
															"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
															"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
															"            });",
															"           ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
															"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
															"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
															"            });",
															"            ",
															"            var jsonData = response.json().data;",
															"            ",
															"            pm.test(\"Response quoteId is  null\", function () {",
															"                pm.expect(jsonData.quoteId).to.eql(undefined);",
															"                ",
															"            });",
															"          ",
															"            pm.test(\"Response ilpPacket is not null\", function () {",
															"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
															"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
															"            });",
															"       ",
															"           pm.test(\"Response condition is not null\", function () {",
															"               pm.expect(jsonData.condition).not.equal(undefined);",
															"               pm.environment.set(\"condition\", jsonData.condition);",
															"           });",
															"      } else {",
															"          pm.test(\"Quote FAILED\", function () {",
															"            throw new Error('Did not receive response on Payer side');",
															"           });",
															"           // postman.setNextRequest(null);",
															"      }",
															"       ",
															"   });",
															"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{SIMPAYER_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "{{acceptQuotesRequest}}"
													},
													{
														"key": "Content-Type",
														"value": "{{contentTypeQuotesRequest}}"
													},
													{
														"key": "Date",
														"value": "{{quoteDate}}"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{SIMPAYER_NAME}}"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "{{SIMPAYEE_NAME}}"
													},
													{
														"key": "FSPIOP-Signature",
														"type": "text",
														"value": "{{fspiopSignature}}"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"type": "text",
														"value": "POST"
													},
													{
														"key": "FSPIOP-URI",
														"type": "text",
														"value": "/quotes"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{quoteRequest}}"
												},
												"url": {
													"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
													"host": [
														"{{HOST_QUOTING_SERVICE}}"
													],
													"path": [
														"quotes"
													]
												}
											},
											"response": []
										},
										{
											"name": "Send Transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 202\", function () {\r",
															"    pm.response.to.have.status(202);\r",
															"});\r",
															"\r",
															"// //Check the request that Switch forwards to payeefsp\r",
															"setTimeout(function () {\r",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
															"          if(response.responseSize !== 0) {\r",
															"              \r",
															"              //Check the Headers\r",
															"              var headers = response.json().headers;\r",
															"              \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
															"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
															"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
															"                });\r",
															"                \r",
															"                 pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
															"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
															"            });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {\r",
															"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
															"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {\r",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {\r",
															"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
															"                });\r",
															"                \r",
															"                \r",
															"                //Check the data\r",
															"                var jsonData = response.json().data;\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {\r",
															"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {\r",
															"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payeefspId as request`, function () {\r",
															"                  pm.expect(pm.environment.get('SIMPAYEE_NAME'));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {\r",
															"                  pm.expect(jsonData.amount.amount).to.eql('1');\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {\r",
															"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {\r",
															"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {\r",
															"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {\r",
															"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
															"                });\r",
															"                \r",
															"          } else {\r",
															"              pm.test(\"Transfer FAILED\", function () {\r",
															"                throw new Error('Did not receive response on payee side');\r",
															"              });\r",
															"              // postman.setNextRequest(null)\r",
															"          }\r",
															"  });\r",
															"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
															"\r",
															"//Check the callback response that Switch forwards to payerfsp\r",
															"setTimeout(function () {\r",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
															"          if(response.responseSize !== 0) {\r",
															"            //Checking headers\r",
															"            var headers = response.json().headers;\r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')} `, function () {\r",
															"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
															"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {\r",
															"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {\r",
															"                pm.expect(headers['accept']).to.eql(undefined);\r",
															"            });\r",
															"            \r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
															"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {\r",
															"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
															"            });\r",
															"            \r",
															"            var jsonData = response.json().data;\r",
															"            pm.test(\"Response data does not have transferId\", function () {\r",
															"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
															"            });\r",
															"            pm.test(\"Response status is COMMITTED\", function () {\r",
															"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
															"            });\r",
															"            pm.test(\"Response fulfillment is not null\", function () {\r",
															"                pm.expect(jsonData.fulfilment).not.eql(undefined);\r",
															"                pm.environment.set('DupTransferFulfillment',jsonData.fulfilment)\r",
															"            });\r",
															"          } else {\r",
															"              pm.test(\"Transfer FAILED\", function () {\r",
															"                throw new Error('Did not receive response on payer side');\r",
															"              });\r",
															"              // postman.setNextRequest(null)\r",
															"          }\r",
															"   });\r",
															"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var navigator = {}; //fake a navigator object for the lib\r",
															"var window = {}; //fake a window object for the lib\r",
															"eval(pm.environment.get('jrsassign'));\r",
															"\r",
															"var uuid = require('uuid');\r",
															"var generatedUUID = uuid.v4();\r",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
															"\r",
															"\r",
															"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
															"\r",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
															"\r",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
															"var sHeader = JSON.stringify(oHeader);\r",
															"console.log(`sHeader: ${sHeader}`)\r",
															"\r",
															"var objPayload = {\r",
															"  \"transferId\": pm.environment.get('transfer_ID'),\r",
															"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
															"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
															"  \"amount\": {\r",
															"    \"amount\": \"1\",\r",
															"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
															"  },\r",
															"  \"expiration\": pm.environment.get('transferExpiration'),\r",
															"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
															"  \"condition\": pm.environment.get('condition')\r",
															"}\r",
															"var sPayload = JSON.stringify(objPayload)\r",
															"console.log(`sPayload: ${sPayload}`)\r",
															"pm.variables.set(\"transferRequest\", sPayload);\r",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
															"//console.log(`token: ${token}`)\r",
															"\r",
															"// var encodedHeaders = btoa(sHeader)\r",
															"\r",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
															"// var token = JSON.stringify(ofspiopSignature)\r",
															"\r",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
															"\r",
															"const signatureObject = {\r",
															"    signature: signature.replace('\"', ''),\r",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
															"};\r",
															"\r",
															"console.log(JSON.stringify(signatureObject))\r",
															"\r",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{SIMPAYER_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "{{acceptTransfersRequest}}",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "{{contentTypeTransfersRequest}}",
														"type": "text"
													},
													{
														"key": "Date",
														"value": "{{transferDate}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{SIMPAYER_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "{{SIMPAYEE_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Signature",
														"value": "{{fspiopSignature}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-URI",
														"value": "/transfers",
														"type": "text"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"value": "POST",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{transferRequest}}"
												},
												"url": {
													"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
													"host": [
														"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
													],
													"path": [
														"transfers"
													]
												}
											},
											"response": []
										},
										{
											"name": "Duplicate Transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
															"          if(response.responseSize !== 0) {",
															"           var jsonData = response.json().data;",
															"              var headers = response.json().headers",
															"              pm.test(\"Response data does not have transferId\", function () {",
															"               pm.expect(jsonData.transferId).to.eql(undefined);",
															"             });",
															"          ",
															"              pm.test(\"fspiop-source is switch\", function () {",
															"                pm.expect(headers['fspiop-source']).to.eql('switch');",
															"              });",
															"              ",
															"              pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"              });",
															"              ",
															"              pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
															"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
															"            });",
															"            ",
															"                ",
															"                pm.test(\"accept is empty\", function () {",
															"                    pm.expect(headers['accept']).to.eql(undefined);",
															"                });",
															"                ",
															"                pm.test(\"fspiop-signature is not null\", function () {",
															"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
															"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
															"                });",
															"              ",
															"               //Check data    ",
															"             ",
															"              ",
															"              pm.test(\"Response State is COMMITTED\", function () {",
															"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
															"              });",
															"              ",
															"              pm.test(\"Response fulfillmet is same as sent in request'\", function () {",
															"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get('DupTransferFulfillment'));",
															"              });",
															"              ",
															"              ",
															"          } else {",
															"              pm.test(\"Transfer FAILED\", function () {",
															"                throw new Error('Did not receive response on payer side');",
															"              });",
															"              // postman.setNextRequest(null)",
															"          }",
															"   });",
															"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var navigator = {}; //fake a navigator object for the lib\r",
															"var window = {}; //fake a window object for the lib\r",
															"eval(pm.environment.get('jrsassign'));\r",
															"\r",
															"var uuid = require('uuid');\r",
															"var generatedUUID = uuid.v4();\r",
															"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
															"\r",
															"\r",
															"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
															"\r",
															"//pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
															"\r",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
															"var sHeader = JSON.stringify(oHeader);\r",
															"console.log(`sHeader: ${sHeader}`)\r",
															"\r",
															"var objPayload = {\r",
															"  \"transferId\": pm.environment.get('transfer_ID'),\r",
															"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
															"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
															"  \"amount\": {\r",
															"    \"amount\": \"1\",\r",
															"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
															"  },\r",
															"  \"expiration\": pm.environment.get('transferExpiration'),\r",
															"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
															"  \"condition\": pm.environment.get('condition')\r",
															"}\r",
															"var sPayload = JSON.stringify(objPayload)\r",
															"console.log(`sPayload: ${sPayload}`)\r",
															"pm.variables.set(\"transferRequest\", sPayload);\r",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
															"//console.log(`token: ${token}`)\r",
															"\r",
															"// var encodedHeaders = btoa(sHeader)\r",
															"\r",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
															"// var token = JSON.stringify(ofspiopSignature)\r",
															"\r",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
															"\r",
															"const signatureObject = {\r",
															"    signature: signature.replace('\"', ''),\r",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
															"};\r",
															"\r",
															"console.log(JSON.stringify(signatureObject))\r",
															"\r",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{SIMPAYER_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "{{acceptTransfersRequest}}",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "{{contentTypeTransfersRequest}}",
														"type": "text"
													},
													{
														"key": "Date",
														"value": "{{transferDate}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{SIMPAYER_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "{{SIMPAYEE_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Signature",
														"value": "{{fspiopSignature}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-URI",
														"value": "/transfers",
														"type": "text"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"value": "POST",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{transferRequest}}"
												},
												"url": {
													"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
													"host": [
														"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
													],
													"path": [
														"transfers"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "fulfill_commit",
									"item": [
										{
											"name": "positive",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
																	"                });",
																	"                ",
																	"              pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"           pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                //Uncomment after JWS is implemented",
																	"                // pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
																	"                //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
																	"                // });",
																	"                ",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Duplicate Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"//pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`);",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload);",
																	"console.log(`sPayload: ${sPayload}`);",
																	"pm.variables.set(\"transferResponse2\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"            //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"               pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
																	"            });",
																	"            ",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse2}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														},
														"description": "Author: Sridevi Miriyala\n\nTo test this feature, since there is no simulator as noresponsepayeefsp, the endpoints for it is set to payeefsp's endpoint. so in the tests, you get the response from payeefsp/callbacks and do assertions."
													},
													"response": []
												},
												{
													"name": "Check Transfer status",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"",
																	"   pm.variables.set('transferDate', (new Date()).toUTCString());",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"            //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
																	"            });",
																	"            ",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\" fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(` fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1300)",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "negative",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"             pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"             //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not empty`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri contains /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
																	"            });",
																	"                ",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              ",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Invalid Duplicate Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.variables.set(\"updatedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('invalidFulfillment'),",
																	"  \"completedTimestamp\": pm.variables.get('updatedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"             //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not empty`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"               pm.test(`content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
																	"            });",
																	"            ",
																	"                ",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              ",
																	"              pm.test(\"Response Error Code is 3106\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Modified request'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Modified request');",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												}
											]
										}
									],
									"description": "Send a transfer-prepare from payerfsp to payeefsp\nDo not send transfer-fulfil from payeefsp.\n\nSend a duplicate transfer-prepare with same params.\ncheck the simulator logs to make sure that there should not be any response for the duplicate transfer when the actual transfer is not at terminal state which means neither committed nor aborted but in process.\n\nThis is same as sending duplicate transfer when actual transfer is at ABORTED state.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "fulfill_reject",
									"item": [
										{
											"name": "positive",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
																	"                });",
																	"                ",
																	"                   pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
																	"            });",
																	"            ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                 pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"name": "Content-Type",
																"type": "text",
																"value": "{{contentTypeTransfersRequest}}"
															},
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}/error",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Duplicate Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{dateHeader}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "negative",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
																	"                });",
																	"                ",
																	"                 pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"              pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptQuotesRequest}}"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeQuotesRequest}}"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                  pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}/error",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Invalid Duplicate Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"This is an invalid duplicate request\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                 pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
																	"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
																	"            });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "{{contentTypeTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Accept",
																"value": "{{acceptTransfersRequest}}",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{dateHeader}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												}
											]
										}
									],
									"description": "Send a transfer-prepare from payerfsp to payeefsp\nDo not send transfer-fulfil from payeefsp.\n\nSend a duplicate transfer-prepare with same params.\ncheck the simulator logs to make sure that there should not be any response for the duplicate transfer when the actual transfer is not at terminal state which means neither committed nor aborted but in process.\n\nThis is same as sending duplicate transfer when actual transfer is at ABORTED state.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "Active_Inactive_participants",
					"item": [
						{
							"name": "089 - Active and inactive participant",
							"item": [
								{
									"name": "Update participant (SIM2 to inactive)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": false\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}"
											]
										},
										"description": "Inactives participant testfsp4"
									},
									"response": []
								},
								{
									"name": "(BUG) Send Quote fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\") + \"/callbacks/\" + pm.environment.get(\"quoteId\"), function (err, response) {",
													"        if (response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is switch`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"",
													"              pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"",
													"",
													"",
													"            var { signature, protectedHeader } = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:', decodedProtectedHeaders)",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\" + pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/' + pm.environment.get(\"quoteId\") + '/error');",
													"            });",
													"",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be switch\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('switch');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}/error`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}/error`);",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"",
													"            var jsonData = response.json().data;",
													"",
													"            pm.test(\"Error code is 3201\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3201');",
													"            });",
													"",
													"            pm.test(`Error Description is Destination FSP Error - '${pm.environment.get('SIM2_NAME')}' is inactive`, function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported participant');",
													"            });",
													"",
													"        } else {",
													"            pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive response on Payer side');",
													"            });",
													"            // postman.setNextRequest(null);",
													"        }",
													"",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Send Transfer fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            ",
													"            pm.test(\"accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}/error}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
													"            });",
													"            ",
													"            pm.test(\"fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Error code is 3100\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"            });",
													"           ",
													"           pm.test(`Error Description is Generic validation error - Participant ${pm.environment.get('SIM2_NAME')} is inactive`, function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include(`Generic validation error - Participant ${pm.environment.get('SIM2_NAME')} is inactive`);",
													"           });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update participant (SIM2 to active)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n              \"isActive\": true\r\n            }"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}"
											]
										},
										"description": "Reactivate participant testfsp4"
									},
									"response": []
								},
								{
									"name": "Send Quote (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"  var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
													"                });\r",
													"                \r",
													"                  pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
													"            });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Quote FAILED\", function () {\r",
													"                throw new Error('Did not receive request on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
													"      if(response.responseSize !== 0) {\r",
													"          //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"             pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            \r",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
													"            // var strData = JSON.stringify(response.json().data)\r",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
													"            // console.log(`token: ${token}`)\r",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
													"            // console.log(`isValid: ${isValid}`)\r",
													"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
													"            //     pm.expect(isValid).to.eql(true);\r",
													"            // });\r",
													"            \r",
													"            //Validate protected header inside Signature\r",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
													"            \r",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
													"            });\r",
													"           \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\")`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            \r",
													"            pm.test(\"Response quoteId is  null\", function () {\r",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
													"                \r",
													"            });\r",
													"          \r",
													"            pm.test(\"Response ilpPacket is not null\", function () {\r",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
													"            });\r",
													"       \r",
													"           pm.test(\"Response condition is not null\", function () {\r",
													"               pm.expect(jsonData.condition).not.equal(undefined);\r",
													"               pm.environment.set(\"condition\", jsonData.condition);\r",
													"           });\r",
													"      } else {\r",
													"          pm.test(\"Quote FAILED\", function () {\r",
													"            throw new Error('Did not receive response on Payer side');\r",
													"           });\r",
													"           // postman.setNextRequest(null);\r",
													"      }\r",
													"       \r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"60\",\r",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"// //Check the request that Switch forwards to testfsp2\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                 pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
													"            });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
													"                });\r",
													"                \r",
													"                \r",
													"                //Check the data\r",
													"                var jsonData = response.json().data;\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
													"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"  });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
													"\r",
													"//Check the callback response that Switch forwards to testfsp1\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"            //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"             pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            pm.test(\"Response data does not have transferId\", function () {\r",
													"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
													"            });\r",
													"            pm.test(\"Response status is COMMITTED\", function () {\r",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
													"            });\r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payer side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "090 - Active and inactive participants accounts",
							"item": [
								{
									"name": "3. Get SIM2 Participant Account",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
													"    .forEach(curAccount => {",
													"        if(curAccount.ledgerAccountType === \"POSITION\") {",
													"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}PositionAccountId`, curAccount.id);",
													"            ",
													"        }",
													"    })",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}",
												"accounts"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update SIM2 to inactive_XOF account",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": false\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts/{{{{SIM2_NAME}}PositionAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}",
												"accounts",
												"{{{{SIM2_NAME}}PositionAccountId}}"
											]
										},
										"description": "inactives testfsp4 position account"
									},
									"response": []
								},
								{
									"name": "Send Quote fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\") + \"/callbacks/\" + pm.environment.get(\"quoteId\"), function (err, response) {",
													"        if (response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is switch`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"",
													"              pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"",
													"",
													"",
													"            var { signature, protectedHeader } = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:', decodedProtectedHeaders)",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}/error`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}/error`);",
													"            });",
													"",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('switch');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}/error`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}/error`);",
													"            });",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"",
													"            var jsonData = response.json().data;",
													"",
													"            //TODO: Update test and leave only 3201 code once SDK is updated",
													"            pm.test(\"Error code is 3201 or 5000\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.be.oneOf(['3201', '5000']);",
													"            });",
													"",
													"            pm.test(\"Error Description is Unsupported participant\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported participant ');",
													"            });",
													"",
													"        } else {",
													"            pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive response on Payer side');",
													"            });",
													"            // postman.setNextRequest(null);",
													"        }",
													"",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Send Transfer fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            ",
													"           pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
													"            });",
													"            ",
													"            ",
													"            pm.test(\"accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}/error`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get(\"transfer_ID\")}/error`);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Error code is 3100\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"            });",
													"           ",
													"           pm.test(\"Error Description is GENERIC VALIDATION ERROR \", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include(`Generic validation error - Participant ${pm.environment.get('SIM2_NAME')} ${pm.environment.get('SIM2_CURRENCY')} account is inactive`);",
													"           });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update participant (SIM2 to active) account",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": true\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts/{{{{SIM2_NAME}}PositionAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}",
												"accounts",
												"{{{{SIM2_NAME}}PositionAccountId}}"
											]
										},
										"description": "inactives testfsp4 position account"
									},
									"response": []
								},
								{
									"name": "Send Quote (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"  var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);\r",
													"                });\r",
													"                \r",
													"                  pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));\r",
													"            });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Quote FAILED\", function () {\r",
													"                throw new Error('Did not receive request on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
													"      if(response.responseSize !== 0) {\r",
													"          //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"              pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            \r",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
													"            // var strData = JSON.stringify(response.json().data)\r",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
													"            // console.log(`token: ${token}`)\r",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
													"            // console.log(`isValid: ${isValid}`)\r",
													"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
													"            //     pm.expect(isValid).to.eql(true);\r",
													"            // });\r",
													"            \r",
													"            //Validate protected header inside Signature\r",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
													"            \r",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
													"            });\r",
													"           \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            \r",
													"            pm.test(\"Response quoteId is  null\", function () {\r",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
													"                \r",
													"            });\r",
													"          \r",
													"            pm.test(\"Response ilpPacket is not null\", function () {\r",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
													"            });\r",
													"       \r",
													"           pm.test(\"Response condition is not null\", function () {\r",
													"               pm.expect(jsonData.condition).not.equal(undefined);\r",
													"               pm.environment.set(\"condition\", jsonData.condition);\r",
													"           });\r",
													"      } else {\r",
													"          pm.test(\"Quote FAILED\", function () {\r",
													"            throw new Error('Did not receive response on Payer side');\r",
													"           });\r",
													"           // postman.setNextRequest(null);\r",
													"      }\r",
													"       \r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"60\",\r",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"// //Check the request that Switch forwards to testfsp2\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));\r",
													"            });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
													"                });\r",
													"                \r",
													"                \r",
													"                //Check the data\r",
													"                var jsonData = response.json().data;\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
													"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"  });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
													"\r",
													"//Check the callback response that Switch forwards to testfsp1\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"            //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"              pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get(\"transfer_ID\")}`);\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            pm.test(\"Response data does not have transferId\", function () {\r",
													"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
													"            });\r",
													"            pm.test(\"Response status is COMMITTED\", function () {\r",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
													"            });\r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payer side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptTransfersRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeTransfersRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "api-tests",
			"item": [
				{
					"name": "admin-api-tests",
					"item": [
						{
							"name": "Get participants List",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Participant",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Hub Account",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"Hub",
										"accounts"
									]
								}
							},
							"response": []
						},
						{
							"name": "11. Get Endpoints",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Cache-Control",
										"value": "no-cache"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"endpoints"
									]
								},
								"description": "Generated from a curl request: \ncurl -i -X POST     http://test-central-ledger.mojaloop.test/admin/participants/testfsp2/initialPositionAndLimits     -H 'Cache-Control: no-cache'     -H 'Content-Type: application/json'     -d '{\n    \\\"currency\\\": \\\"USD\\\",\n    \\\"limit\\\": {\n      \\\"type\\\": \\\"NET_DEBIT_CAP\\\",\n      \\\"value\\\": 1000\n    },\n    \\\"initialPosition\\\": 0\n  }'"
							},
							"response": []
						},
						{
							"name": "Get - limits - All FSPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									},
									{
										"key": "currency",
										"value": "{{SIMPAYER_CURRENCY}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/limits?type=NET_DEBIT_CAP",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"limits"
									],
									"query": [
										{
											"key": "currency",
											"value": "{{SIMPAYER_CURRENCY}}",
											"disabled": true
										},
										{
											"key": "type",
											"value": "NET_DEBIT_CAP"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "reset NDC",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{hub_operator}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"currency\": \"{{currency}}\",\n  \"limit\": {\n    \"type\": \"NET_DEBIT_CAP\",\n    \"value\": 100000,\n    \"alarmPercentage\":20\n  }\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/limits",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"payerfsp",
										"limits"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SIMPAYER position",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.variables.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, jsonData[0].value);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{hub_operator}}"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"positions"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThese are the requests that only HUB operator can run.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Quotes",
					"item": [
						{
							"name": "FN, LN",
							"item": [
								{
									"name": "Send Quote - payerFN empty",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"       \"firstName\":\"\",",
													"       \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3102\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Missing Payer firstName\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Generic validation error - /requestBody/payer/personalInfo/complexName/firstName must NOT have fewer than 1 characters`);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - payerLN empty",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\":\"\"",
													"       ",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3102\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR Description is Missing Payer lastName\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Generic validation error - /requestBody/payer/personalInfo/complexName/lastName must NOT have fewer than 1 characters`);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Invalid payerLN (not a string)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"@#4768\"",
													"       ",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed syntax - Lastname\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote Payer personal info empty",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"   \"personalInfo\": \"\"",
													"  }, ",
													"    ",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Missing Payer personalInfo\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Malformed syntax - /requestBody/payer/personalInfo must be object`);",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - String payerFN (Mats123@#$)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"     \"personalInfo\": {",
													"      \"complexName\": {",
													"         \"firstName\": \"Mats12@#$3\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"    ",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR Description is Malformed Payer firstName\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								}
							]
						},
						{
							"name": "DOB",
							"item": [
								{
									"name": "Send Quote - Malformed DOB1",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-25-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "RECEIVE Quote - empty string in DOB",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													" //pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"  //  var jsonData = pm.response.json();",
													"   // pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Malformed syntax - Malformed Payer dateOfBirth`);",
													"//});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - null DOB_string",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"null\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - null DOB",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": null",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - invalid DOB format",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983/10/25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Malformed DOB3",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"       \"dateOfBirth\": \"abc@3#\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Malformed DOB2",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"       \"dateOfBirth\": \"83-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Generic validation error\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "SettlementWindows",
					"item": [
						{
							"name": "200 - ValidRequest - closedWindowById",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"//if the settlements tests are not success then these tests may fail",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Expected Settlement Window Id should be: \"+pm.variables.get(\"closedWindowID\"), function () {",
											"    pm.expect(jsonData.settlementWindowId).to.eql(pm.variables.get(\"closedWindowID\"));",
											"});",
											"",
											"pm.test(\"Expected Settlement State should be SETTLED\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"SETTLED\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{hub_operator}}"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{closedWindowID}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{closedWindowID}}"
									]
								},
								"description": "Happy path test"
							},
							"response": []
						},
						{
							"name": "200 - Window- state (OPEN)-643a",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is OPEN\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('OPEN');",
											"    });",
											"}",
											"pm.environment.set(\"openSettlementWindowId\",jsonData[0].settlementWindowId);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "OPEN",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "400 - Bad Request-CloseWindow",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"state\": \"CLOSE\",\n  \"reason\": \"TESTING\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openSettlementWindowId}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{openSettlementWindowId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "200 - param - state (SETTLED)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is SETTLED\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('SETTLED');",
											"    });",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=SETTLED",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "SETTLED",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala"
				}
			]
		},
		{
			"name": "bug_fixes",
			"item": [
				{
					"name": "Tests for Bugfix #998 - Quoting service not using most recent endpoint",
					"item": [
						{
							"name": "Add payeefsp request URL - QUOTES PUT with incorrect endpoint",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_QUOTES\",\n  \"value\": \"{{SIMPAYEE_CALLBACK_URL}}/incorrectpayeefsp\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"endpoints"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND should not get callback",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"",
											"//Check Data on payee side - payeefsp should not receive any data as we added the incorrectpayeefsp as endpoint in the previous step",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          ",
											"            pm.test(\"Test Failed\", function () {",
											"                throw new Error('Recieved request at payeefsp, so failed');",
											"            });",
											"          ",
											"      } else {",
											"          pm.test(\"Test Passed - Because didn't get request at payeefsp request URL\", function () {",
											"            //Do nothing",
											"           });",
											"",
											"      }",
											"       ",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/quotes",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add payeefsp request URL - QUOTES PUT with correct endpoint",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_QUOTES\",\n  \"value\": \"{{SIMPAYEE_CALLBACK_URL}}\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"endpoints"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND should get callback",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"//Check Data on payee side - payeefsp should get request now as we updated the correct endpoint in the previous step",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            pm.test(\"Test Passed, request received at payeefsp\", function () {",
											"            //Do Nothing",
											"           });",
											"          ",
											"      } else {",
											"            pm.test(\"Test Failed\", function () {",
											"                throw new Error('Did not get response, so failed');",
											"            });",
											"      }",
											"       ",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/quotes",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Tests for Bugfix #981 - Fix 500 http code instead of 400",
					"item": [
						{
							"name": "Add Participant - Duplicate account",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Generic client error for duplicate currency\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic client error');",
											"});",
											"",
											"pm.test(\"Check Error code 3000\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"{{SIMPAYER_NAME}}\",\n  \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add non existing Participant",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Generic ID not found - non existing participant\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic ID not found');",
											"});",
											"",
											"pm.test(\"Check Error code 3200\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3200');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/xyz",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"xyz"
									]
								}
							},
							"response": [
								{
									"name": "Get Participant",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "http://{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{participant}}",
											"protocol": "http",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{participant}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Connection",
											"value": "keep-alive",
											"name": "Connection",
											"description": "Options that are desired for the connection"
										},
										{
											"key": "Content-Length",
											"value": "251",
											"name": "Content-Length",
											"description": "The length of the response body in octets (8-bit bytes)"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8",
											"name": "Content-Type",
											"description": "The mime type of this content"
										},
										{
											"key": "Date",
											"value": "Wed, 22 Aug 2018 15:25:18 GMT",
											"name": "Date",
											"description": "The date and time that the message was sent"
										},
										{
											"key": "Server",
											"value": "nginx/1.13.8",
											"name": "Server",
											"description": "A name for the server"
										},
										{
											"key": "accept-ranges",
											"value": "bytes",
											"name": "accept-ranges",
											"description": "Content-Types that are acceptable"
										},
										{
											"key": "cache-control",
											"value": "no-cache",
											"name": "cache-control",
											"description": "Tells all caching mechanisms from server to client whether they may cache this object. It is measured in seconds"
										}
									],
									"cookie": [],
									"body": "{\"name\":\"testfsp\",\"id\":\"test-central-ledger.mojaloop.test/participants/testfsp\",\"created\":\"2018-08-22T08:16:50.000Z\",\"isActive\":1,\"links\":{\"self\":\"test-central-ledger.mojaloop.test/participants/testfsp\"},\"currencies\":[{\"currency\":\"USD\",\"isActive\":1}]}"
								}
							]
						},
						{
							"name": "Add Participant - Invalid Currency",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax - malformed currency\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"payer10\",\n  \"currency\": \"A#\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Tests for Bugfix #1331 - 405 status code - unsupported method",
					"item": [
						{
							"name": "Post Party Receiver - Unsupported Method",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
											"    pm.test(\"Status code is 404\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"} else {",
											"    const jsonData = pm.response.json();",
											"",
											"    pm.test(\"Status code is 405\", function () {",
											"        pm.response.to.have.status(405);",
											"    });",
											"",
											"    pm.test(\"Check Method Not Allowed\", function () {",
											"        pm.expect(jsonData.errorInformation.errorDescription).to.include('Method Not Allowed');",
											"    });",
											"",
											"    pm.test(\"Check Error code 3000\", function () {",
											"        pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set('expectedFullName', 'Siabelo Maroka');",
											"pm.variables.set('expectedFirstName', 'Siabelo');",
											"pm.variables.set('expectedLastName', 'Maroka');",
											"pm.variables.set('expectedDOB', '1973-03-03');",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "{{acceptPartiesRequest}}"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "{{contentTypePartiesRequest}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{dateHeader}}"
									}
								],
								"url": {
									"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{SIMPAYER_MSISDN}}",
									"host": [
										"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
									],
									"path": [
										"parties",
										"MSISDN",
										"{{SIMPAYER_MSISDN}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Quote - Unsupported Method",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
											"    pm.test(\"Status code is 404\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"} else {",
											"    const jsonData = pm.response.json();",
											"",
											"    pm.test(\"Status code is 405\", function () {",
											"        pm.response.to.have.status(405);",
											"    });",
											"",
											"    pm.test(\"Check Delete Quotes - 'Method Not Allowed' \", function () {",
											"        pm.expect(jsonData.errorInformation.errorDescription).to.include('Method Not Allowed');",
											"    });",
											"",
											"    pm.test(\"Check Error code 3000\", function () {",
											"        pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"    });",
											"}",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptPartiesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypePartiesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Transfer - Unsupported method",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
											"    pm.test(\"Status code is 404\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"} else {",
											"    const jsonData = pm.response.json();",
											"",
											"    pm.test(\"Status code is 405\", function () {",
											"        pm.response.to.have.status(405);",
											"    });",
											"",
											"    pm.test(\"Check Method Not Allowed\", function () {",
											"        pm.expect(jsonData.errorInformation.errorDescription).to.include('Method Not Allowed');",
											"    });",
											"",
											"    pm.test(\"Check Error code 3000\", function () {",
											"        pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"    });",
											"}",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptPartiesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypePartiesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Test for Bugfix #1378 - extension list missing",
					"item": [
						{
							"name": "Send Quote_SEND  - with wrong content version",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});",
											"",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=3.2"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND  - with wrong accept header version",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});",
											"",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.4"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Test for Bugfix #849 - missing ID for transfers and quotes",
					"item": [
						{
							"name": "Check transfers/ Missing ID #849",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
											"    pm.test(\"Status code is 404\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"} else {",
											"    const jsonData = pm.response.json();",
											"",
											"    pm.test(\"Status code is 404\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"",
											"    pm.test(\"Check ID missing\", function () {",
											"        pm.expect(jsonData.errorInformation.errorDescription).to.include('Unknown URI');",
											"    });",
											"",
											"    pm.test(\"Check Error code 3002\", function () {",
											"        pm.expect(jsonData.errorInformation.errorCode).to.eql('3002');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{SIMPAYEE_NAME}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"fulfilment\": \"{{validFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"COMMITTED\"\n}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Check quotes/ Missing ID #849",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
											"    pm.test(\"Status code is 404\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"} else {",
											"    const jsonData = pm.response.json();",
											"",
											"    pm.test(\"Status code is 404\", function () {",
											"        pm.response.to.have.status(404);",
											"    });",
											"",
											"    pm.test(\"Check ID missing\", function () {",
											"        pm.expect(jsonData.errorInformation.errorDescription).to.include('Unknown URI');",
											"    });",
											"",
											"    pm.test(\"Check Error code 3002\", function () {",
											"        pm.expect(jsonData.errorInformation.errorCode).to.eql('3002');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"fulfilment\": \"{{validFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"COMMITTED\"\n}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/quotes",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Test for 4 decimal points #949",
					"item": [
						{
							"name": "Send Quote - SEND",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('transferAmount', 60.1234);",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": `${pm.variables.get('transferAmount')}`,",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.quotes\\+json;version=1(\\.\\d)?/);",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
											"            });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"             pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
											"            });",
											"           ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/`+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"",
											"            pm.test(\"Send Quote Amount in 4 decimal returned\", function () {",
											"                pm.expect(+jsonData.transferAmount.amount).equal(pm.variables.get(\"transferAmount\"));",
											"            });",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Transfer - SEND",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// //Check the request that Switch forwards to payeefsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                  pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be ${pm.environment.get('contentTypeTransfersRequest')}`, function () {",
											"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfersRequest'));",
											"            });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.transfers\\+json;version=1(\\.\\d)?/);",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
											"                });",
											"                ",
											"                ",
											"                //Check the data",
											"                var jsonData = response.json().data;",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
											"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {",
											"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYEE_NAME')}Id as request`, function () {",
											"                  pm.expect(`${pm.environment.get('SIMPAYEE_NAME')}`);",
											"                });",
											"",
											"                pm.test(\"Send Transfer Amount in 4 decimal returned\", function () {",
											"                pm.expect(+jsonData.amount.amount).equal(pm.variables.get(\"transferAmount\"));",
											"                ",
											"                });",
											"",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
											"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"SIMPAYER_CURRENCY\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {",
											"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {",
											"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {",
											"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"  });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.1`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/{{transfer_ID}}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"       pm.test(`${pm.environment.get('SIMPAYEE_NAME')} does not receive additional final notification`, function () {",
											"            pm.expect(response.text()).to.eql('');",
											"        });",
											"       ",
											"      ",
											"    });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"pm.variables.set('transferAmount', 60.1234);",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": `${pm.variables.get('transferAmount')}`,",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Test for Bugfix #742 - Error code check",
					"item": [
						{
							"name": "Check Error 2001 Internal server error #742",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Check Malformed syntax error \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check currency is included in the Error description\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('currency');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"payer10\",\n  \"currency\": \"A#\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3003 Add Party information error #742",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Check ID missing\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Add Party information error');",
											"});",
											"",
											"pm.test(\"Check Error code 3003\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3003');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"{{SIMPAYER_NAME}}\",\n  \"currency\": \"{{NOT_EXISTING_HUB_ACCOUNT_CURRENCY}}\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3100  validation error#742",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Generic validation error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error');",
											"});",
											"",
											"pm.test(\"Check payerFsp1 is included in Error description\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('payerFsp1');",
											"});",
											"",
											"pm.test(\"Check Error code 3100\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payerFsp1\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/transfers",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3101 Malformed syntax #742",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Transfer Id is included in error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Transfer Id');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID')+'+1',",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3102  Missing mandatory element#742",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Missing mandatory element\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element');",
											"});",
											"",
											"pm.test(\"Check valid Payee FSP missing \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Payee FSP');",
											"});",
											"",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeTransfersRequest}}"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/transfers",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Tests for Bugfix #990 and #1016 - Quotes",
					"item": [
						{
							"name": "Check duplicate quote before and after expiration",
							"item": [
								{
									"name": "Send Quote_SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 3000))",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote_SEND - 12 - Validate Within Expire Time w Duplicate Quote Id Copy",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response)  {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"            var jsonData = response.json().data;",
													"",
													"            console.log(jsonData)",
													"            ",
													"            pm.test(\"Check Modified request - Duplicate Quote before expire time\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Modified request');",
													"            });",
													"            ",
													"            pm.test(\"Check Error code 3106\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
													"            });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote_SEND - 12 - Validate After Expire Time w Duplicate Quote Id",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response)  {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Check Modified request - Duplicate Quote before expire time\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Modified request');",
													"            });",
													"            ",
													"            pm.test(\"Check Error code 3106\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
													"            });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						},
						{
							"name": "bug8-DuplicateQuoteId",
							"item": [
								{
									"name": "Send Quote_SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the request that Switch forwards to payeefsp",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payeefsp/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"              ",
													"//               //Check the Headers",
													"//               var headers = response.json().headers;",
													"              ",
													"//                 pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"//                     pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp fspiop-destination is payerfsp\", function () {",
													"//                     pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"//                     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"//                     pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"//                     pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"//                 });",
													"                ",
													"//           } else {",
													"//               pm.test(\"Quote FAILED\", function () {",
													"//                 throw new Error('Did not receive request on payee side');",
													"//               });",
													"//               postman.setNextRequest(null)",
													"//           }",
													"//   });",
													"// }, 1100)",
													"",
													"// //Check Data on payer side",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/callbacks/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"//       if(response.responseSize !== 0) {",
													"//           //Checking headers",
													"//             var headers = response.json().headers;",
													"//             pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
													"//                 pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"//                 pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp accept is empty\", function () {",
													"//                 pm.expect(headers['accept']).to.eql(undefined);",
													"//             });",
													"            ",
													"            ",
													"            ",
													"//             //Validate protected header inside Signature",
													"//             var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"//             var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"//             console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"//             // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"//             //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"//             // });",
													"            ",
													"//             pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"//             });",
													"            ",
													"",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"//             });",
													"           ",
													"//             pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"//                 pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"//             });",
													"            ",
													"//             var jsonData = response.json().data;",
													"            ",
													"//           pm.test(\"Response fees is returned\", function () {",
													"//                 pm.expect(jsonData.payeeFspFee.amount).equal(\"1\");",
													"                ",
													"//             });",
													"//             pm.test(\"Response Commission is returned\", function () {",
													"//                 pm.expect(jsonData.payeeFspCommission.amount).equal(\"1\");",
													"                ",
													"//             });",
													"            ",
													"//             pm.test(\"Response ilpPacket is not undefined\", function () {",
													"//                 pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"//                 pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"//             });",
													"       ",
													"//           pm.test(\"Response condition is not undefined\", function () {",
													"//               pm.expect(jsonData.condition).not.equal(undefined);",
													"//               pm.environment.set(\"condition\", jsonData.condition);",
													"//           });",
													"//       } else {",
													"//           pm.test(\"Quote FAILED\", function () {",
													"//             throw new Error('Did not receive response');",
													"//           });",
													"",
													"//       }",
													"       ",
													"//   });",
													"// }, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote_SEND - 8 - Duplicate QuoteId",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check Data on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Check Modified request - Duplicate Quote\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Modified request');",
													"            });",
													"            ",
													"            pm.test(\"Check Error code 3106\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
													"            });",
													"            ",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"",
													"      }",
													"       ",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "{{acceptQuotesRequest}}"
											},
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "{{contentTypeQuotesRequest}}"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Send Quote_SEND - Missing content-type version",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Missing mandatory element\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 6a - Invalid Content Type - application/json",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Missing mandatory element\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 6b - Invalid Content Type - xml",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Invalid content Type - Check XML type \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported Media Type');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "application/xml"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 6c - Invalid Content Type - empty body",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Invalid content Type - Check XML type \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported Media Type');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "application/xml"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payer PartyIdType",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdType\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdType');",
											"});        ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payer PartyIdentifier",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdentifier\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdentifier');",
											"});        ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payee PartyIdentifier",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdentifier\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdentifier');",
											"});        ",
											"",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payee PartyIdType",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdType\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdType');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 9- Destination FSP NOT FOUND",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"console.log(\"Test - FSP not found\")",
											"",
											"//Check Data on payer side",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response)  {",
											"      if(response.responseSize !== 0) {",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Check Destination FSP Error - Unsupported participant\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Destination FSP Error - Unsupported participant ');",
											"            });",
											"            ",
											"            pm.test(\"Check Error code 3201\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3201');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"",
											"      }",
											"       ",
											"  });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefspNOTFOUND"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 10 - PayeePartyIdentifier NOT FOUND",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": \"\",",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Generic Validation Error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error');",
											"});          ",
											"",
											"pm.test(\"Check partyIdentifier is included in Error description\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdentifier');",
											"});     ",
											"            ",
											"pm.test(\"Check Error code 3100\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "QuotesByID - 11 - Missing Condition Field",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferAmount\": {",
											"  \"amount\": \"11\",",
											"  \"currency\": \"XOF\" },",
											"  \"payeeReceiveAmount\": {",
											"  \"amount\": \"11\",",
											"  \"currency\": \"XOF\"   },",
											"  \"payeeFspCommission\": {",
											"   \"currency\": \"XOF\",",
											"   \"amount\": \"1\"",
											" },",
											"  \"expiration\": \"2019-10-14T20:19:20.741Z\",",
											"  \"ilpPacket\": \"AQAAAAAAAADIEHByaXZhdGUucGF5ZWVmc3CCAiB7InRyYW5zYWN0aW9uSWQiOiIyZGY3NzRlMi1mMWRiLTRmZjctYTQ5NS0yZGRkMzdhZjdjMmMiLCJxdW90ZUlkIjoiMDNhNjA1NTAtNmYyZi00NTU2LThlMDQtMDcwM2UzOWI4N2ZmIiwicGF5ZWUiOnsicGFydHlJZEluZm8iOnsicGFydHlJZFR5cGUiOiJNU0lTRE4iLCJwYXJ0eUlkZW50aWZpZXIiOiIyNzcxMzgwMzkxMyIsImZzcElkIjoicGF5ZWVmc3AifSwicGVyc29uYWxJbmZvIjp7ImNvbXBsZXhOYW1lIjp7fX19LCJwYXllciI6eyJwYXJ0eUlkSW5mbyI6eyJwYXJ0eUlkVHlwZSI6Ik1TSVNETiIsInBhcnR5SWRlbnRpZmllciI6IjI3NzEzODAzOTExIiwiZnNwSWQiOiJwYXllcmZzcCJ9LCJwZXJzb25hbEluZm8iOnsiY29tcGxleE5hbWUiOnt9fX0sImFtb3VudCI6eyJjdXJyZW5jeSI6IlVTRCIsImFtb3VudCI6IjIwMCJ9LCJ0cmFuc2FjdGlvblR5cGUiOnsic2NlbmFyaW8iOiJERVBPU0lUIiwic3ViU2NlbmFyaW8iOiJERVBPU0lUIiwiaW5pdGlhdG9yIjoiUEFZRVIiLCJpbml0aWF0b3JUeXBlIjoiQ09OU1VNRVIiLCJyZWZ1bmRJbmZvIjp7fX19\"",
											"} ",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"// TODO: uncommented before run in OSS env",
											"// var jsonData = pm.response.json();",
											"            ",
											"// pm.test(\"Check Missing conditional Field- condition is required\", function () {",
											"//     pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element');",
											"// });            ",
											"            ",
											"// pm.test(\"Check Error code 3102\", function () {",
											"//     pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"// });",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": ""
									},
									{
										"key": "Accept-Encoding",
										"value": "gzip, deflate",
										"disabled": true
									},
									{
										"key": "Cache-Control",
										"value": "no-cache"
									},
									{
										"key": "Connection",
										"value": "keep-alive"
									},
									{
										"key": "Content-Length",
										"value": "1117",
										"disabled": true
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
									},
									{
										"key": "Host",
										"value": "http://localhost:3002",
										"disabled": true
									},
									{
										"key": "Postman-Token",
										"value": "a1c5eda9-20eb-4041-8e1a-134f266dee23,a25e5bc7-0cee-4720-9d34-ffd28d08c908",
										"disabled": true
									},
									{
										"key": "User-Agent",
										"value": "PostmanRuntime/7.17.1",
										"disabled": true
									},
									{
										"key": "cache-control",
										"value": "no-cache",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/febf8cff-f0b8-4a09-9a17-e22401fe4332",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"febf8cff-f0b8-4a09-9a17-e22401fe4332"
									]
								}
							},
							"response": []
						},
						{
							"name": "QuotedById - 13a- 400- Missing Accept header",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Malformed syntax - Invalid accept header\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax - Invalid accept header');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('quoteDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{SIMPAYEE_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/07e92ea7-d655-4f88-925c-4aeefcee80f6",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"07e92ea7-d655-4f88-925c-4aeefcee80f6"
									]
								},
								"description": "The HTTP request GET /quotes/<ID> is used to get information regarding an earlier created or requested quote. The <ID> in the URI should contain the quoteId that was used for the creation of the quote."
							},
							"response": []
						},
						{
							"name": "QuotesById - 13b - 400-Missing FSPIOP-Source header",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
											"    pm.test(\"Status code is 403\", function () {",
											"        pm.response.to.have.status(403);",
											"    });",
											"} else {",
											"    pm.test(\"Status code is 400\", function () {",
											"        pm.response.to.have.status(400);",
											"    });",
											"",
											"    var jsonData = pm.response.json();",
											"",
											"    pm.test(\"Missing mandatory element error\", function () {",
											"        pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"    });",
											"",
											"    pm.test(\"Error message fspiop-source is required\", function () {",
											"        pm.expect(jsonData.errorInformation.errorDescription).to.include('fspiop-source');",
											"    });",
											"",
											"    pm.test(\"Check Error code 3102\", function () {",
											"        pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('quoteDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{SIMPAYEE_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/07e92ea7-d655-4f88-925c-4aeefcee80f6",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"07e92ea7-d655-4f88-925c-4aeefcee80f6"
									]
								},
								"description": "The HTTP request GET /quotes/<ID> is used to get information regarding an earlier created or requested quote. The <ID> in the URI should contain the quoteId that was used for the creation of the quote."
							},
							"response": []
						},
						{
							"name": "QuotesById - 13c - 400-Missing Date header (BUG)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});",
											"",
											"pm.test(\"Error message date is required\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date');",
											"}); ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('quoteDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "{{contentTypeQuotesRequest}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{SIMPAYEE_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/07e92ea7-d655-4f88-925c-4aeefcee80f6",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"07e92ea7-d655-4f88-925c-4aeefcee80f6"
									]
								},
								"description": "The HTTP request GET /quotes/<ID> is used to get information regarding an earlier created or requested quote. The <ID> in the URI should contain the quoteId that was used for the creation of the quote."
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 14 - Incorrect Switch Version Header",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "{{acceptQuotesRequest}}"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=9.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								},
								"description": "Check POST/Quote  with incorrect switch version header\n\nExpectation : 400 with error code 3001"
							},
							"response": []
						}
					]
				},
				{
					"name": "Check Settlements Error #956",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Check Malformed syntax in settlements\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
									"});",
									"",
									"pm.test(\"Check Error code 3101\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?participantId=0&state=open",
							"host": [
								"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
							],
							"path": [
								"settlementWindows"
							],
							"query": [
								{
									"key": "participantId",
									"value": "0"
								},
								{
									"key": "state",
									"value": "open",
									"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
								},
								{
									"key": "fromDateTime",
									"value": "",
									"disabled": true
								},
								{
									"key": "toDateTime",
									"value": "",
									"disabled": true
								}
							]
						},
						"description": "State, OPEN is case sensitive.\nTocheck invalid request I have provided state = \"open\""
					},
					"response": []
				},
				{
					"name": "Check FSPIOP Headers from Switch #883",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"",
									"setTimeout(function () {",
									"  partyId = pm.variables.get(\"InexistentPartyId\");",
									"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"InexistentPartyId\"), function (err, response) {",
									"      responseBody = response.json();",
									"      pm.test(\"Expect simulator to return response\", () => {",
									"          pm.expect(response.responseSize).to.be.above(0);",
									"      })",
									"      pm.test(`Expect FSPIO-URI header to be /parties/MSISDN/${partyId}/error`, function () {",
									"          pm.expect(responseBody.headers).to.have.property(\"fspiop-uri\");",
									"          pm.expect(responseBody.headers[\"fspiop-uri\"]).to.equal(`/parties/MSISDN/${partyId}/error`);",
									"        });",
									"        pm.test(\"Expected FSPIO-HTTP-Method header to be PUT\", function () {",
									"            pm.expect(responseBody.headers).to.have.property(\"fspiop-http-method\");",
									"            pm.expect(responseBody.headers[\"fspiop-http-method\"]).to.equal(\"PUT\");",
									"        });",
									"        pm.test(\"Expected error code is 3204\", function () {",
									"            pm.expect(responseBody.data.errorInformation.errorCode).to.equal(\"3204\");",
									"        });",
									"        pm.test(\"Expected error description - party not Found\", function () {",
									"            pm.expect(responseBody.data.errorInformation.errorDescription).to.equal(\"Party not found\");",
									"        });",
									"    });",
									"}, 2000)",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('dateHeader', (new Date()).toUTCString());",
									"pm.variables.set('InexistentPartyId', 1999999)",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "{{acceptPartiesRequest}}"
							},
							{
								"key": "Date",
								"type": "text",
								"value": "{{dateHeader}}"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{SIMPAYER_NAME}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "{{contentTypePartiesRequest}}"
							}
						],
						"url": {
							"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{InexistentPartyId}}",
							"host": [
								"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
							],
							"path": [
								"parties",
								"MSISDN",
								"{{InexistentPartyId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check FSPIOP Headers from ML-API-Adapter #1032",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", () => {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"//Check the callback response that Switch forwards to payerfsp",
									"setTimeout(function () {",
									"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
									"          if(response.responseSize !== 0) {",
									"            //Checking headers",
									"            var headers = response.json().headers;",
									"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
									"                pm.expect(headers['fspiop-source']).to.eql('switch');",
									"            });",
									"            ",
									"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is payerfsp`, function () {",
									"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
									"            });",
									"            ",
									"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be ${pm.environment.get('contentTypeTransfers')}`, function () {  ",
									"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeTransfers'));",
									"            });",
									"            ",
									"            ",
									"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
									"                pm.expect(headers['accept']).to.eql(undefined);",
									"            });",
									"            ",
									"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
									"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
									"                });",
									"            ",
									"            ",
									"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}`, function () {",
									"                console.log(headers['fspiop-uri'])",
									"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
									"            });",
									"            ",
									"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
									"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"            });",
									"            ",
									"            var jsonData = response.json().data;",
									"",
									"            pm.test(\"Response data does not have transferId\", function () {",
									"               pm.expect(jsonData.transferId).to.eql(undefined);",
									"            });",
									"",
									"            pm.test(\"Error code is 3100\", function () {",
									"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
									"            });",
									"          } else {",
									"              pm.test(\"Transfer FAILED\", function () {",
									"                throw new Error('Did not receive response on payer side');",
									"              });",
									"              // postman.setNextRequest(null)",
									"          }",
									"   });",
									"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('transfer_ID', generatedUUID);",
									"pm.variables.set('transferDate', (new Date()).toUTCString());",
									"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 200))",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"transferId\": pm.environment.get('transfer_ID'),",
									"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
									"  \"payeeFsp\": \"payeefspNOTFOUND\",",
									"  \"amount\": {",
									"    \"amount\": \"10\",",
									"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
									"  },",
									"  \"expiration\": pm.environment.get('transferExpiration'),",
									"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
									"  \"condition\": pm.environment.get('condition')",
									"}",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"transferRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
									"//console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "{{acceptTransfersRequest}}"
							},
							{
								"key": "Content-Type",
								"value": "{{contentTypeTransfersRequest}}"
							},
							{
								"key": "Date",
								"value": "{{transferDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "{{SIMPAYER_NAME}}"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefspNOTFOUND"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							},
							{
								"key": "FSPIOP-URI",
								"type": "text",
								"value": "/transfers"
							},
							{
								"key": "FSPIOP-HTTP-Method",
								"type": "text",
								"value": "POST"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{transferRequest}}"
						},
						"url": {
							"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
							"host": [
								"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
							],
							"path": [
								"transfers"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "transaction-request-service",
			"item": [
				{
					"name": "received State",
					"item": [
						{
							"name": "Payee initiate request",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"            ",
											"            pm.test(\"transactionId matches\", function () {",
											"                pm.expect(data['transactionRequestId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"            });",
											"         ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is POST\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"        ",
											"                ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"transactionRequestState is RECEIVED\", function () {",
											"                pm.expect(data['transactionRequestState']).to.eql('RECEIVED');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);",
											"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"CUSTOM_SUBSCENARIO\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n     \"expiration\": \"{{transferExpiration}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "send RECEIVED state",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"            ",
											"            pm.test(\"transactionId matches\", function () {",
											"                pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"            });",
											"                ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/transactionRequests/{{transactionRequestId}}",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "PUT",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionId\": \"{{transactionRequestId}}\",\n    \"transactionRequestState\": \"RECEIVED\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check transactionRequest state",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            console.log(data);",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"            ",
											"            pm.test(\"transactionId matches\", function () {",
											"                pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"            });",
											"                ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"transactionRequestState is RECEIVED\", function () {",
											"                pm.expect(data['transactionRequestState']).to.eql('RECEIVED');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/transactionRequests",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "GET",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "rejected State",
					"item": [
						{
							"name": "Payee initiate request",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"            ",
											"            console.log(pm.environment.get(\"transactionRequestId\"))",
											"            pm.test(\"transactionId matches\", function () {",
											"                pm.expect(data['transactionRequestId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"            });",
											"            console.log((data['transactionRequestId']))",
											"                ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is POST\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"        ",
											"                ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"transactionRequestState is RECEIVED\", function () {",
											"                pm.expect(data['transactionRequestState']).to.eql('RECEIVED');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);",
											"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"CUSTOM_SUBSCENARIO\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n     \"expiration\": \"{{transferExpiration}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "send REJECTED state",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"            ",
											"            pm.test(\"transactionId matches\", function () {",
											"                pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"            });",
											"                ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/transactionRequests/{{transactionRequestId}}",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "PUT",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionId\": \"{{transactionRequestId}}\",\n    \"transactionRequestState\": \"REJECTED\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check transactionRequest state",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            const responseJson = response.json()",
											"            const headers = responseJson.headers",
											"            const data = responseJson.data",
											"            ",
											"            console.log(data);",
											"            ",
											"            pm.test(\"Callback received in the Simulator\", function () {",
											"                pm.expect(data).not.equal(undefined);",
											"            });",
											"            ",
											"            pm.test(\"transactionId matches\", function () {",
											"                pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"            });",
											"                ",
											"            pm.test(\"fspiop-source is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-destination is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            pm.test(\"content-type is same as sent in the request\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"transactionRequestState is REJECTED\", function () {",
											"                pm.expect(data['transactionRequestState']).to.eql('REJECTED');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Transaction Request FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"      }",
											"       ",
											"  });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/transactionRequests",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "GET",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "error framework",
					"item": [
						{
							"name": "Check unknown transactionID - error code and description",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"PAYEERSP_SDK_INBOUND_URL\")+\"/transactionRequests/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             console.log(data);",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(undefined);",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"Check ID missing\", function () {",
											"//                 pm.expect(data.errorInformation.errorDescription).to.include('Transaction request ID not found ');",
											"//             });",
											"",
											"//             pm.test(\"Check Error code 3003\", function () {",
											"//                 pm.expect(data.errorInformation.errorCode).to.eql('3206');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{transactionRequestDate}}"
									},
									{
										"key": "fspiop-source",
										"type": "text",
										"value": "{{payeefsp}}"
									},
									{
										"key": "fspiop-destination",
										"type": "text",
										"value": "{{payerfsp}}"
									},
									{
										"key": "fspiop-signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									},
									{
										"key": "fspiop-uri",
										"type": "text",
										"value": "/transactionRequests"
									},
									{
										"key": "fspiop-http-method",
										"type": "text",
										"value": "GET"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "3100 - Missing body",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax error \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax ');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Missing Date ",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});",
											"",
											"pm.test(\"Error message date is required\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date');",
											"});",
											"",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"locally defined sub-scenario\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n    \"expiration\": \"2016-05-24T08:38:08.699-04:00\",\n    \"extensionList\": {\n        \"extension\": [\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            },\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Wrong content version ",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});",
											"",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=4.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"locally defined sub-scenario\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n    \"expiration\": \"2016-05-24T08:38:08.699-04:00\",\n    \"extensionList\": {\n        \"extension\": [\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            },\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Unsupported Media Type",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax - Unsupported Media Type\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax - Unsupported Media Type');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+xml;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"locally defined sub-scenario\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n    \"expiration\": \"2016-05-24T08:38:08.699-04:00\",\n    \"extensionList\": {\n        \"extension\": [\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            },\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "authorizations",
					"item": [
						{
							"name": "Error framework",
							"item": [
								{
									"name": "Check retriesLeft missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element'&&'retriesLeft');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authenticationType missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element'&&'authenticationType');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check currency missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element'&&'currency');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check retriesLeft with non-number ",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Malformed syntax \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax '&&'retriesLeft');",
													"});",
													"",
													"pm.test(\"Check Error code 3101\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=g&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "g"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check retriesLeft with floating number",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Malformed syntax with floating retriesLeft\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('retriesLeft');",
													"});",
													"",
													"pm.test(\"Check Error code 3101\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=1.5&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "1.5"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check wrong authentication type",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Generic validation error \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error '&&'authenticationType');",
													"});",
													"",
													"pm.test(\"Check Error code 3100\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=XTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "XTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check accept header missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element - Accept \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Accept is required');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept-encoding": true,
											"accept": true
										}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check date missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error '&&'date');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}",
												"disabled": true
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check fspiop-source missing (check)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400 in the absense of wso2, \", function () {",
													"    pm.response.to.have.status(403);",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}",
												"disabled": true
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check ID missingv-Unknown URI",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													"",
													"// const jsonData = pm.response.json();",
													"",
													"// pm.test(\"Check Unknown URI \", function () {",
													"//     pm.expect(jsonData.errorInformation.errorDescription).to.include('Unknown URI');",
													"// });",
													"",
													"// pm.test(\"Check Error code 3002\", function () {",
													"//     pm.expect(jsonData.errorInformation.errorCode).to.eql('3002');",
													"// });"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check content-type missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization -Missing mandatory element-  Content-type \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Content-type');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transactionRequests+json;version=3.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Authorizations  - Unacceptable content version",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 406\", function () {",
													"    pm.response.to.have.status(406);",
													"});",
													"",
													"pm.test(\"Check authorization - Unacceptable version requested  \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested ');",
													"});",
													"",
													"pm.test(\"Check authorization - Unacceptable version requested  - Error code 3001\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=4.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Authorizatons - wrong responseType",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"WHAT\"\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authentication missing - 400 - 3102 Error code",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element - authentication \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('authentication');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authenticationValue missing - 400 - 3102 Error code",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element - authenticationValue \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('authenticationValue');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "PUT"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check responseType missing - 400 - 3102 Error code",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element  - responseType \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('responseType');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  }\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with content-type header missing (check)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization -Missing mandatory element-  Content-type \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql('Malformed syntax - Invalid content-type header');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-length": true,
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with date header missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - date is required \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date'&&'Missing mandatory element');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with fspiop header missing (check)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// const jsonData = pm.response.json();",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(403);",
													"});",
													"",
													"",
													"",
													"// pm.test(\"Check authorization - Missing mandatory element - fspiop-source missing\", function () {",
													"//     pm.expect(jsonData.errorInformation.errorDescription).to.include('fspiop-source');",
													"// });",
													"",
													"// pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"//     pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"// });"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with accept header missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - accept header missing\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('accept' && '');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3101\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						},
						{
							"name": "authorizations",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/authorizations",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "GET",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"authorizations",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "authenticationType",
											"value": "OTP"
										},
										{
											"key": "retriesLeft",
											"value": "2"
										},
										{
											"key": "amount",
											"value": "102"
										},
										{
											"key": "currency",
											"value": "USD"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "authorizations",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/authorizations",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "PUT",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"authorizations",
										"{{transactionRequestId}}"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "quoting_service",
			"item": [
				{
					"name": "Check Send Quote",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"//Check Data on payer side",
									"setTimeout(function () {",
									"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
									"      if(response.responseSize !== 0) {",
									"            var jsonData = response.json().data;",
									"            pm.test(\"Check send Quote Amount\", function () {",
									"                pm.expect(+jsonData.transferAmount.amount).equal(pm.environment.get(\"transferAmount\"));",
									"            });",
									"            ",
									"      } else {",
									"          pm.test(\"Quote FAILED\", function () {",
									"            throw new Error('Did not receive response');",
									"          });",
									"      }",
									"       ",
									"  });",
									"}, 1000)",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
									"      \"fspId\": \"payerfsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": pm.environment.get('transferAmount'),",
									"    \"currency\": pm.environment.get('currency')",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "{{acceptQuotesRequest}}"
							},
							{
								"key": "Content-Type",
								"value": "{{contentTypeQuotesRequest}}"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}"
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Quote(BUG)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"// //Check Data on payer side",
									"// setTimeout(function () {",
									"//   pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
									"//       if(response.responseSize !== 0) {",
									"//             var jsonData = response.json().data;",
									"//             var headers = response.json().headers;",
									"            ",
									"//             pm.test(\"Send Quote Amount in 4 decimal returned\", function () {",
									"//                 pm.expect(+jsonData.transferAmount.amount).equal(pm.environment.get(\"transferAmount\"));",
									"//             });",
									"            ",
									"//                 //Check the Headers",
									"//                 pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
									"//                     pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
									"//                 });",
									"                ",
									"//                 pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
									"//                     pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
									"//                 });",
									"                ",
									"//                 pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
									"//                     pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"//                 });",
									"                ",
									"//                 pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
									"//                     pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
									"//                 });",
									"            ",
									"//       } else {",
									"//           pm.test(\"Quote FAILED\", function () {",
									"//             throw new Error('Did not receive response');",
									"//           });",
									"//       }",
									"       ",
									"//   });",
									"// }, 1000)"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// var uuid = require('uuid');",
									"// var generatedUUID = uuid.v4();",
									"",
									"// pm.environment.set('quoteId', generatedUUID);",
									"// generatedUUID = uuid.v4();",
									"// pm.environment.set('transactionId', generatedUUID);",
									"// pm.environment.set('transferAmount', 60.1234);",
									"// pm.environment.set('quoteDate', (new Date()).toUTCString());",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "{{acceptQuotesRequest}}"
							},
							{
								"key": "Content-Type",
								"value": "{{contentTypeQuotesRequest}}"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes/{{quoteId}}",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes",
								"{{quoteId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Send Quote - Missing Date",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"            ",
									"pm.test(\"Missing mandatory element error\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
									"});",
									"",
									"pm.test(\"Error message date is required\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date');",
									"});  ",
									"",
									"pm.test(\"Check Error code 3102\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
									"      \"fspId\": \"payerfsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": pm.environment.get('transferAmount'),",
									"    \"currency\": pm.environment.get('currency')",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "{{acceptQuotesRequest}}"
							},
							{
								"key": "Content-Type",
								"value": "{{contentTypeQuotesRequest}}"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}",
								"disabled": true
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}"
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Send Quote - Missing Accept Header",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"            ",
									"pm.test(\"Check Missing mandatory element - Invalid accept header\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax - Invalid accept header');",
									"});            ",
									"            ",
									"pm.test(\"Check Error code 3101\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
									"      \"fspId\": \"payerfsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": pm.environment.get('transferAmount'),",
									"    \"currency\": pm.environment.get('currency')",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "{{contentTypeQuotesRequest}}"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}"
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Quote - Missing content type",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Check Missing mandatory element\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element');",
									"});",
									"",
									"pm.test(\"Check Error code 3102\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "{{acceptQuotesRequest}}"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+json;version=1.0",
								"disabled": true
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes/{{quoteId}}",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes",
								"{{quoteId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Quote - Invalid content type ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Check Malformed syntax\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
									"});",
									"",
									"pm.test(\"Check Error code 3101\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "{{acceptQuotesRequest}}"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+xml;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes/{{quoteId}}",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes",
								"{{quoteId}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "p2p_on_us_transfers",
			"item": [
				{
					"name": "Add {{payeefspMSISDN}} to payeefsp",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set('fullName', 'PayeeFirst PayeeLast');",
									"pm.environment.set('firstName', 'PayeeFirst');",
									"pm.environment.set('middleName', 'PayeeMiddle');",
									"pm.environment.set('lastName', 'PayeeLast');",
									"pm.environment.set('dob', '2010-10-10');",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Successful POST request\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([204, 500]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"displayName\": \"{{fullName}}\",\n    \"firstName\": \"{{firstName}}\",\n    \"middleName\": \"{{middleName}}\",\n    \"lastName\": \"{{lastName}}\",\n    \"dateOfBirth\": \"{{dob}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{payeefspMSISDN}}\"\n}"
						},
						"url": {
							"raw": "{{PAYEEFSP_BACKEND_TESTAPI_URL}}/repository/parties",
							"host": [
								"{{PAYEEFSP_BACKEND_TESTAPI_URL}}"
							],
							"path": [
								"repository",
								"parties"
							]
						},
						"description": "Create a party in payeefsp. So that GET /parties can be successful."
					},
					"response": []
				},
				{
					"name": "Register Participant {{pathfinderMSISDN}} against MSISDN Simulator for PayeeFSP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.participants+json;version=1.0"
							},
							{
								"key": "Connection",
								"value": "keep-alive"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.participants+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{transferDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payeefsp"
							},
							{
								"key": "Postman-Token",
								"value": "7aa4c9f3-1738-49f0-8904-7821e2336692,4127ff87-7d17-483c-8e3e-f0b562a16d84"
							},
							{
								"key": "User-Agent",
								"value": "PostmanRuntime/7.11.0"
							},
							{
								"key": "accept-encoding",
								"value": "gzip, deflate"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fspId\": \"payeefsp\",\n    \"currency\": \"USD\"\n}"
						},
						"url": {
							"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/participants/MSISDN/{{pathfinderMSISDN}}",
							"host": [
								"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
							],
							"path": [
								"participants",
								"MSISDN",
								"{{pathfinderMSISDN}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Send Quote_SEND",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var navigator = {}; ",
									"var window = {}; ",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"// pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"// pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"// pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"// console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
									"      \"fspId\": \"payerfsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": \"{{transferAmount}}\",",
									"    \"currency\": \"{{currency}}\"",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"// console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"// console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"const ON_US_TRANSFERS_ENABLED = pm.environment.get(\"ON_US_TRANSFERS_ENABLED\") && (pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===\"true\" || pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===true || pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===\"1\") ? true : false",
									"",
									"//Check the request that Switch forwards to payeefsp",
									"setTimeout(function () {",
									"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
									"          if(response.responseSize !== 0) {",
									"              ",
									"              //Check the Headers",
									"              var headers = response.json().headers;",
									"              ",
									"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
									"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
									"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
									"                });",
									"",
									"                console.log(headers['fspiop-signature'])",
									"                console.log(pm.environment.get(\"fspiop-signature\"))",
									"                ",
									"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
									"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
									"                });",
									"                ",
									"               pm.test(`payeefsp content-type should be ${pm.environment.get('contentTypeQuotesRequest')}`, function () {",
									"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotesRequest'));",
									"            });",
									"                ",
									"          } else {",
									"              pm.test(\"Quote FAILED\", function () {",
									"                throw new Error('Did not receive request on payee side');",
									"              });",
									"              postman.setNextRequest(null)",
									"          }",
									"   });",
									"}, 1100)",
									"",
									"//Check Data on payer side",
									"if (ON_US_TRANSFERS_ENABLED) {",
									"    setTimeout(function () {",
									"    pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
									"        if(response.responseSize !== 0) {",
									"            //Checking headers",
									"                var headers = response.json().headers;",
									"                pm.test(\"payeefsp fspiop-source is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(`payeefsp content-type should be ${pm.environment.get('contentTypeQuotes')}`, function () {",
									"                pm.expect(headers['content-type']).to.eql(pm.environment.get('contentTypeQuotes'));",
									"            });",
									"                ",
									"                ",
									"                pm.test(\"payeefsp accept is empty\", function () {",
									"                    pm.expect(headers['accept']).to.eql(undefined);",
									"                });",
									"                ",
									"                //Validate protected header inside Signature",
									"                var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
									"                var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
									"                console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
									"                ",
									"                pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
									"                    pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
									"                });",
									"                ",
									"",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payeefsp\", function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payeefsp');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
									"                    pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
									"                });",
									"            ",
									"                pm.test(\"payeefsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
									"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
									"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"                });",
									"                ",
									"                var jsonData = response.json().data;",
									"                ",
									"                pm.test(\"Response fees is returned\", function () {",
									"                    pm.expect(jsonData.payeeFspFee.amount).equal(\"3\");",
									"                    ",
									"                });",
									"                pm.test(\"Response Commission is returned\", function () {",
									"                    pm.expect(jsonData.payeeFspCommission.amount).equal(\"3\");",
									"                    ",
									"                });",
									"                ",
									"                pm.test(\"Response ilpPacket is not undefined\", function () {",
									"                    pm.expect(jsonData.ilpPacket).not.equal(undefined);",
									"                    pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
									"                });",
									"        ",
									"                pm.test(\"Response condition is not undefined\", function () {",
									"                    pm.expect(jsonData.condition).not.equal(undefined);",
									"                    pm.environment.set(\"condition\", jsonData.condition);",
									"            });",
									"        } else {",
									"            pm.test(\"Quote FAILED\", function () {",
									"                throw new Error('Did not receive response');",
									"            });",
									"",
									"        }",
									"        ",
									"    });",
									"    }, 1000)",
									"}",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{SIMPAYER_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "{{acceptQuotesRequest}}"
							},
							{
								"key": "Content-Type",
								"value": "{{contentTypeQuotesRequest}}"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"value": "{{fspiopSignature}}",
								"type": "text"
							},
							{
								"key": "FSPIOP-HTTP-Method",
								"value": "POST",
								"type": "text"
							},
							{
								"key": "FSPIOP-URI",
								"value": "/quotes",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}"
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "tear_down_setup",
			"item": [
				{
					"name": "remove-un_necessary-environment-vars",
					"item": [
						{
							"name": "Sample request",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.environment.unset('jrsassign');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "google.com",
									"host": [
										"google",
										"com"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
					"",
					"    // Get Token for Hub Operator",
					"    let authHeader = btoa(`${pm.environment.get('HUB_OPERATOR_CONSUMER_KEY')}:${pm.environment.get('HUB_OPERATOR_CONSUMER_SECRET')}`);",
					"    let getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('HUB_OPERATOR_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for SIMPAYER",
					"    authHeader = btoa(`${pm.environment.get('SIMPAYER_CONSUMER_KEY')}:${pm.environment.get('SIMPAYER_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIMPAYER_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for SIMPAYEE",
					"    authHeader = btoa(`${pm.environment.get('SIMPAYEE_CONSUMER_KEY')}:${pm.environment.get('SIMPAYEE_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIMPAYEE_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for SIM1",
					"    authHeader = btoa(`${pm.environment.get('SIM1_CONSUMER_KEY')}:${pm.environment.get('SIM1_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIM1_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for SIM2",
					"    authHeader = btoa(`${pm.environment.get('SIM2_CONSUMER_KEY')}:${pm.environment.get('SIM2_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIM2_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for SIM3",
					"    authHeader = btoa(`${pm.environment.get('SIM3_CONSUMER_KEY')}:${pm.environment.get('SIM3_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIM3_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for SIM4",
					"    authHeader = btoa(`${pm.environment.get('SIM4_CONSUMER_KEY')}:${pm.environment.get('SIM4_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIM4_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for NoResponsePayeeFSP",
					"    authHeader = btoa(`${pm.environment.get('NORESPONSE_SIMPAYEE_CONSUMER_KEY')}:${pm.environment.get('NORESPONSE_SIMPAYEE_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('NORESPONSE_SIMPAYEE_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"}",
					"",
					"if(!pm.environment.get('jrsassign')) {",
					"    pm.sendRequest('http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js', function (err, response) {",
					"        pm.environment.set('jrsassign', response.text());",
					"    });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}