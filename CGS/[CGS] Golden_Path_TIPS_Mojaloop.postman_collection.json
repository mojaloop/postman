{
	"info": {
		"_postman_id": "994ccc77-c890-4eb0-b817-551abc3a326e",
		"name": "[CGS] Golden_Path_TIPS_Mojaloop",
		"description": "Author: Sridevi Miriyala\nDescription: Golden Path Tests using Mojaloop Simulators",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "feature-tests",
			"item": [
				{
					"name": "settlement_management",
					"item": [
						{
							"name": "get parties MSISDNs",
							"item": [
								{
									"name": "Get Party - payerfsp",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check data on payee side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"payeefsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payeefsp accept should be application/vnd.interoperability.parties+json;version=1\", function () {",
													"            pm.expect(headers['accept']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        ",
													"        pm.test.skip(\"payeefsp FSPIOP-URI to be /parties\", function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties');",
													"        });",
													"        ",
													"        pm.test.skip(\"payeefsp fspiop-http-method is GET\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('GET');",
													"        });",
													"        ",
													"        ",
													"        ",
													"       } else {",
													"           pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check data on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp accept is empty\", function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        ",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        //pm.test(\"payerfsp FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"pathfinderMSISDN\"), function () {",
													"        //    pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"pathfinderMSISDN\"));",
													"        //});",
													"        ",
													"        pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"        //Checking data",
													"        var jsonData = response.json().data;",
													"       pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedFirstName\"), function () {",
													"           pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedDOB\"));",
													"        });  ",
													"        ",
													"       } else {",
													"           pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 200)",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set('expectedFullName', 'PayeeFirst PayeeLast');",
													"pm.variables.set('expectedFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedLastName', 'PayeeLast');",
													"pm.variables.set('expectedDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.parties+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.parties+json;version=1.0"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "",
												"type": "text",
												"value": "",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{payerfspMSISDN}}",
											"host": [
												"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
											],
											"path": [
												"parties",
												"MSISDN",
												"{{payerfspMSISDN}}"
											]
										},
										"description": "Author: Sridevi Miriyala\n\nThe payer is requesting the information of the payee. The response shd include payee's firstname, lastname, DOB."
									},
									"response": []
								}
							]
						},
						{
							"name": "[new sims] quotes and transfers",
							"item": [
								{
									"name": "POST /scenarios testfsp1  -> testfsp2 w2w",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(\"payer idValue is 27713803914\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('testfsp1MSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.variables.get('testfsp2MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.variables.get('testfsp2MSISDN'));",
													"});",
													"",
													"",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"  pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json(); ",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													" });  ",
													" ",
													" pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment 2020-06-19 11:52AM\");",
													"});",
													"",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"  pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Qupte request ILP packet is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"  ",
													"pm.test(\"Payeefsp Fee amount is 0\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(\"PayeeFSP fee currency is \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\" Payeefsp Commission amount is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"// Scenario 2 tests",
													"",
													" ",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"   ",
													"",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"    ",
													"pm.test(\" Transfer amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"   ",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"   ",
													"pm.test(\"note is test payment\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment 2020-06-19 11:52AM\");",
													"});",
													"   ",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"  ",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('currency')}` , function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"  ",
													"  //Check Headers for parties endpoint on payee side",
													"//   setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"//       if(response.responseSize !== 0) { ",
													"//                  //Checking headers",
													"//         var headers = response.json().headers;",
													"//         pm.test(\"On payerfsp fspiop-source is payerfsp\", function () {",
													"//             pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"//         });",
													"        ",
													"//         // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"//         //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"//         // });",
													"        ",
													"//         pm.test(\"On goldenpayeefsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"//             pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"//         });",
													"        ",
													"//         pm.test(\"On goldenpayeefsp accept should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"//             pm.expect(headers['accept']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"//         });",
													"        ",
													"//         pm.test(\"On goldenpayeefsp date cannot be null\", function () {",
													"//             pm.expect(headers['date']).to.not.eql(undefined);",
													"//         });",
													"        ",
													"//       } else {",
													"//           pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"//             throw new Error('Did not receive response');",
													"//           });",
													"           ",
													"//       }",
													"      ",
													"//     });",
													"// }, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"/*setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp accept is empty\", function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        pm.test(\"payerfsp FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"        pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"      //Checking data",
													"      var jsonData = response.json().data;",
													"        pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"        });",
													"        pm.test(\"Expected partyIdentifier is \"+pm.environment.get('payeefspMSISDN'), function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('payeefspMSISDN'));",
													"        });",
													"        pm.test(\"Expected fspId is payeefsp\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.fspId).to.eql('payeefsp');",
													"        });",
													"        ",
													"      pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedPayeeFirstName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedPayeeFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedPayeeLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedPayeeLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"        });  ",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"        }",
													"    });",
													"}, 100)",
													"*/",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"/*setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"On payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"On payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(transferID);",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect(jsonData.payeeFsp).to.eql('payeefsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                // });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"payeefsp_fspiop_signature\"));",
													"            // });",
													"           ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"              pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													"*/"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{testfsp1}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{testfsp2}}",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1Fname testfsp1Lname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-19 11:52AM\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										},
										"description": "customized  'payer -> testfsp1'  payment\ncustomized  'payer -> testfsp1'"
									},
									"response": []
								},
								{
									"name": "POST /scenarios payer(wallet) -> payee(wallet)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(`Payer name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(\"payer idValue is 44123456789\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.variables.get('payeefspMSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"payee fspId is payeefsp\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"payee First name is PayeeFirst\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});   ",
													"",
													"pm.test(\"payee Last name is PayeeLast\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"payee DOB is 2010-10-10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"  pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json(); ",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													" });  ",
													" ",
													" pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"// pm.test(`quote Id is ${pm.environment.get('quoteId')} `, function () {",
													"//     var jsonData = pm.response.json();",
													"    ",
													"//     pm.expect(jsonData.scenario1.result.quoteResponse.quoteId).to.eql(pm.environment.get('quoteId'));",
													"// });",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"  pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Qupte request ILP packet is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"  ",
													"pm.test(\"Payeefsp Fee amount is 0\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(\"PayeeFSP fee currency is \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\" Payeefsp Commission amount is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"// Scenario 2 tests",
													"",
													"pm.test(\"payer fsp nameis:${pm.environment.get('payerName')\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													" ",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"   ",
													"pm.test(`Payer MSISDN is ${pm.environment.get('payerfspMSISDN')} `, function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.from.idValue).to.eql(pm.variables.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`goldenpayeefspReceiverMSISDN Value is ${pm.environment.get('payeefspMSISDN')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"fspId is payeefsp\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeFirst\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeLast \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"Date of Birth of the MSISDN is 2010-10-10 \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"    ",
													"pm.test(\" Transfer amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"   ",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"   ",
													"pm.test(\"note is test payment\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment\");",
													"});",
													"   ",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"  ",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('currency')}` , function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"  ",
													"  //Check Headers for parties endpoint on payee side",
													"  setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"        //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"        // });",
													"        ",
													"        pm.test(\"On goldenpayeefsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp accept should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['accept']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp date cannot be null\", function () {",
													"            pm.expect(headers['date']).to.not.eql(undefined);",
													"        });",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"           ",
													"      }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp accept is empty\", function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        pm.test(\"payerfsp FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"        pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"      //Checking data",
													"      var jsonData = response.json().data;",
													"        pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"        });",
													"        pm.test(\"Expected partyIdentifier is \"+pm.environment.get('payeefspMSISDN'), function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('payeefspMSISDN'));",
													"        });",
													"        pm.test(\"Expected fspId is payeefsp\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.fspId).to.eql('payeefsp');",
													"        });",
													"        ",
													"      pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedPayeeFirstName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedPayeeFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedPayeeLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedPayeeLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"        });  ",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"        }",
													"    });",
													"}, 100)",
													"",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"On payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"On payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(transferID);",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect(jsonData.payeeFsp).to.eql('payeefsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                // });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"payeefsp_fspiop_signature\"));",
													"            // });",
													"           ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"              pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{payeefsp}}",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1: payer(wallet) -> payee(wallet)\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"payerfspFname payerfspLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{payerfspMSISDN}}\"\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{payeefspMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"499\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{PAYERFSP_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{PAYERFSP_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /scenarios   payerfsp -> testfsp1",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(`Payer name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(\"payer idValue is 44123456789\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.variables.get('payeefspMSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"payee fspId is payeefsp\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"payee First name is PayeeFirst\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});   ",
													"",
													"pm.test(\"payee Last name is PayeeLast\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"payee DOB is 2010-10-10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"  pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json(); ",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													" });  ",
													" ",
													" pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"// pm.test(`quote Id is ${pm.environment.get('quoteId')} `, function () {",
													"//     var jsonData = pm.response.json();",
													"    ",
													"//     pm.expect(jsonData.scenario1.result.quoteResponse.quoteId).to.eql(pm.environment.get('quoteId'));",
													"// });",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"  pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Qupte request ILP packet is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"  ",
													"pm.test(\"Payeefsp Fee amount is 0\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(\"PayeeFSP fee currency is \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\" Payeefsp Commission amount is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"// Scenario 2 tests",
													"",
													"pm.test(\"payer fsp nameis:${pm.environment.get('payerName')\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													" ",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"   ",
													"pm.test(`Payer MSISDN is ${pm.environment.get('payerfspMSISDN')} `, function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.from.idValue).to.eql(pm.variables.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`goldenpayeefspReceiverMSISDN Value is ${pm.environment.get('payeefspMSISDN')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"fspId is payeefsp\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeFirst\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeLast \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"Date of Birth of the MSISDN is 2010-10-10 \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"    ",
													"pm.test(\" Transfer amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"   ",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"   ",
													"pm.test(\"note is test payment\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment\");",
													"});",
													"   ",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"  ",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('currency')}` , function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"  ",
													"  //Check Headers for parties endpoint on payee side",
													"  setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"        //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"        // });",
													"        ",
													"        pm.test(\"On goldenpayeefsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp accept should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['accept']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp date cannot be null\", function () {",
													"            pm.expect(headers['date']).to.not.eql(undefined);",
													"        });",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"           ",
													"      }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp accept is empty\", function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        pm.test(\"payerfsp FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"        pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"      //Checking data",
													"      var jsonData = response.json().data;",
													"        pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"        });",
													"        pm.test(\"Expected partyIdentifier is \"+pm.environment.get('payeefspMSISDN'), function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('payeefspMSISDN'));",
													"        });",
													"        pm.test(\"Expected fspId is payeefsp\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.fspId).to.eql('payeefsp');",
													"        });",
													"        ",
													"      pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedPayeeFirstName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedPayeeFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedPayeeLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedPayeeLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"        });  ",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"        }",
													"    });",
													"}, 100)",
													"",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"On payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"On payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(transferID);",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect(jsonData.payeeFsp).to.eql('payeefsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                // });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"payeefsp_fspiop_signature\"));",
													"            // });",
													"           ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"              pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{payeefsp}}",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"payerfspFname payerfspLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{payerfspMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-10 10:48pm\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{PAYERFSP_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{PAYERFSP_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										},
										"description": "customized  'payer -> testfsp1'  payment\n, customized  'payer -> testfsp1'"
									},
									"response": []
								},
								{
									"name": "POST /scenarios payerfsp  -> testfsp1 (bank)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(`Payer name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(\"payer idValue is 44123456789\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.variables.get('payeefspMSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"payee fspId is payeefsp\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"payee First name is PayeeFirst\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});   ",
													"",
													"pm.test(\"payee Last name is PayeeLast\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"payee DOB is 2010-10-10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"  pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json(); ",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													" });  ",
													" ",
													" pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"// pm.test(`quote Id is ${pm.environment.get('quoteId')} `, function () {",
													"//     var jsonData = pm.response.json();",
													"    ",
													"//     pm.expect(jsonData.scenario1.result.quoteResponse.quoteId).to.eql(pm.environment.get('quoteId'));",
													"// });",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"  pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Qupte request ILP packet is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"  ",
													"pm.test(\"Payeefsp Fee amount is 0\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(\"PayeeFSP fee currency is \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\" Payeefsp Commission amount is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"// Scenario 2 tests",
													"",
													"pm.test(\"payer fsp nameis:${pm.environment.get('payerName')\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													" ",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"   ",
													"pm.test(`Payer MSISDN is ${pm.environment.get('payerfspMSISDN')} `, function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.from.idValue).to.eql(pm.variables.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`goldenpayeefspReceiverMSISDN Value is ${pm.environment.get('payeefspMSISDN')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"fspId is payeefsp\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeFirst\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeLast \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"Date of Birth of the MSISDN is 2010-10-10 \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"    ",
													"pm.test(\" Transfer amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"   ",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"   ",
													"pm.test(\"note is test payment\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment\");",
													"});",
													"   ",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"  ",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('currency')}` , function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"  ",
													"  //Check Headers for parties endpoint on payee side",
													"  setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"        //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"        // });",
													"        ",
													"        pm.test(\"On goldenpayeefsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp accept should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['accept']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp date cannot be null\", function () {",
													"            pm.expect(headers['date']).to.not.eql(undefined);",
													"        });",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"           ",
													"      }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp accept is empty\", function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        pm.test(\"payerfsp FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"        pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"      //Checking data",
													"      var jsonData = response.json().data;",
													"        pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"        });",
													"        pm.test(\"Expected partyIdentifier is \"+pm.environment.get('payeefspMSISDN'), function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('payeefspMSISDN'));",
													"        });",
													"        pm.test(\"Expected fspId is payeefsp\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.fspId).to.eql('payeefsp');",
													"        });",
													"        ",
													"      pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedPayeeFirstName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedPayeeFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedPayeeLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedPayeeLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"        });  ",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"        }",
													"    });",
													"}, 100)",
													"",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"On payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"On payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(transferID);",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect(jsonData.payeeFsp).to.eql('payeefsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                // });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"payeefsp_fspiop_signature\"));",
													"            // });",
													"           ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"              pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{testfsp1}}",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"payerfspFname payerfspLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{payerfspMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp1bankMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-10 11:02pm\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{PAYERFSP_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{PAYERFSP_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										},
										"description": "customized  'payer -> testfsp1'  payment\ncustomized  'payer -> testfsp1'"
									},
									"response": []
								}
							]
						},
						{
							"name": "CGS  And Interchange Fee Settlements",
							"item": [
								{
									"name": "settlement || position Account Balances Before Transfers",
									"item": [
										{
											"name": "testfsp1 balances",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp1SettleAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp1PositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"    /*        pm.test(\"testfsp1 position account balance is 0\", function () {",
															"                pm.expect(curAccount.value).to.eql(0);",
															"            });*/",
															"        }",
															"    })",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 balances",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp2SettleAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp2PositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"    /*        pm.test(\"testfsp2 position account balance is 0\", function () {",
															"                pm.expect(curAccount.value).to.eql(0);",
															"            });*/",
															"        }",
															"    })",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp3 balances",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp3SettleAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp3PositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"    /*        pm.test(\"testfsp2 position account balance is 0\", function () {",
															"                pm.expect(curAccount.value).to.eql(0);",
															"            });*/",
															"        }",
															"    })",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp3/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp3",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp4 balances",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp4SettleAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp4PositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"    /*        pm.test(\"testfsp2 position account balance is 0\", function () {",
															"                pm.expect(curAccount.value).to.eql(0);",
															"            });*/",
															"        }",
															"    })",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp4/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp4",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp balances",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"payerfspSettleAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"payerfspPositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"     /*       pm.test(\"payerfsp position account balance is 0\", function () {",
															"                pm.expect(curAccount.value).to.eql(0);",
															"            });*/",
															"        }",
															"    })",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp balances",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"payeefspSettleAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"payeefspPositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"       /*     pm.test(\"payeefsp position account balance is 0\", function () {",
															"                pm.expect(curAccount.value).to.eql(0);",
															"            });*/",
															"        }",
															"    })",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "HUB balances",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {",
															"            pm.environment.set(\"hubReconciliationAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {",
															"            pm.environment.set(\"hubMultilateralAccountBalanceBeforeTransfer\", curAccount.value);",
															"        }",
															"    })",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"Hub",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Existing Open Window(quotes and transfers)",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "payerfsp"
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Close any window before transfers",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "get initial position: testfsp1, testfsp2, testfsp3, testfsp4",
									"item": [
										{
											"name": "Get testfsp1 position before win1 transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"  pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"for (var i in jsonData) {",
															"  if (jsonData[i].currency === pm.environment.get('currency')) {",
															"    pm.test(\"Atleast one account position should be returned\", function () {",
															"      pm.environment.set(\"testfsp1PositionBefore\", jsonData[i].value);",
															"      pm.expect(jsonData).to.be.not.empty;",
															"    });",
															"  }",
															"",
															"}",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"positions"
													]
												},
												"description": "We will capture the initial position for Payeefsp before the transfer and will save this value in a variable  payeefspPositionBeforeTransferhp"
											},
											"response": []
										},
										{
											"name": "Get testfsp2  position before  win1 transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"  pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"for (var i in jsonData) {",
															"  if (jsonData[i].currency === pm.environment.get('currency')) {",
															"    pm.test(\"Atleast one account position should be returned\", function () {",
															"      pm.environment.set(\"testfsp2PositionBefore\", jsonData[i].value);",
															"      pm.expect(jsonData).to.be.not.empty;",
															"    });",
															"  }",
															"",
															"}",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"positions"
													]
												},
												"description": "We will capture the initial position for Payeefsp before the transfer and will save this value in a variable  payeefspPositionBeforeTransferhp"
											},
											"response": []
										},
										{
											"name": "Get testfsp3  position before win1 transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"  pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"",
															"",
															"for (var i in jsonData) {",
															"  if (jsonData[i].currency === pm.environment.get('currency')) {",
															"    pm.test(\"Atleast one account position should be returned\", function () {",
															"      pm.environment.set(\"testfsp3PositionBefore\", jsonData[i].value);",
															"      pm.expect(jsonData).to.be.not.empty;",
															"    });",
															"  }",
															"",
															"}",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp3/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp3",
														"positions"
													]
												},
												"description": "We will capture the initial position for Payerfsp before the transfer and will save this value in a variable  payerfspPositionBeforeTransferhp"
											},
											"response": []
										},
										{
											"name": "Get testfsp4 position before  win1 transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"  pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"",
															"",
															"for (var i in jsonData) {",
															"  if (jsonData[i].currency === pm.environment.get('currency')) {",
															"    pm.test(\"Atleast one account position should be returned\", function () {",
															"      pm.environment.set(\"testfsp4PositionBefore\", jsonData[i].value);",
															"      pm.expect(jsonData).to.be.not.empty;",
															"    });",
															"  }",
															"",
															"}",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp4/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp4",
														"positions"
													]
												},
												"description": "We will capture the initial position for Payerfsp before the transfer and will save this value in a variable  payerfspPositionBeforeTransferhp"
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "[new sims]  transfers, positions CGS Window1 tests (OTC-649, OTC-645)",
									"item": [
										{
											"name": "testfsp1/accounts (settlement,...) balances BEFORE",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp1SettlementBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp1PositionBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp1InterchFeeBalanceBefore\", curAccount.value);",
															"        }",
															"    })",
															"    ",
															"console.log('extracted testfsp1 settlement balance before transfers',pm.environment.get(\"testfsp1SettlementBalanceBefore\"));",
															"",
															"console.log('extracted testfsp1 positions balance before transfers',pm.environment.get(\"testfsp1PositionBalanceBefore\"));",
															"",
															"console.log('extracted testfsp1 interchange fee balance before transfers',pm.environment.get(\"testfsp1InterchFeeBalanceBefore\"));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2/accounts (settlement,...) balances BEFORE",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp2SettlementBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp2PositionBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp2InterchFeeBalanceBefore\", curAccount.value);",
															"        }",
															"    })",
															"    ",
															"console.log('extracted testfsp2 settlement balance before transfers',pm.environment.get(\"testfsp2SettlementBalanceBefore\"));",
															"",
															"console.log('extracted testfsp2 positions balance before transfers',pm.environment.get(\"testfsp2PositionBalanceBefore\"));",
															"",
															"console.log('extracted testfsp2 interchange fee balance before transfers',pm.environment.get(\"testfsp2InterchFeeBalanceBefore\"));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp3/accounts (settlement,...) balances BEFORE",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp3SettlementBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp3PositionBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp3InterchFeeBalanceBefore\", curAccount.value);",
															"        }",
															"    })",
															"    ",
															"console.log('extracted testfsp3 settlement balance before transfers',pm.environment.get(\"testfsp3SettlementBalanceBefore\"));",
															"",
															"console.log('extracted testfsp3 positions balance before transfers',pm.environment.get(\"testfsp3PositionBalanceBefore\"));",
															"",
															"console.log('extracted testfsp3 interchange fee balance before transfers',pm.environment.get(\"testfsp3InterchFeeBalanceBefore\"));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp3/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp3",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp4/accounts (settlement,...) balances BEFORE",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp4SettlementBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp4PositionBalanceBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp4InterchFeeBalanceBefore\", curAccount.value);",
															"        }",
															"    })",
															"    ",
															"console.log('extracted testfsp4 settlement balance before transfers',pm.environment.get(\"testfsp4SettlementBalanceBefore\"));",
															"",
															"console.log('extracted testfsp4 positions balance before transfers',pm.environment.get(\"testfsp4PositionBalanceBefore\"));",
															"",
															"console.log('extracted testfsp4 interchange fee balance before transfers',pm.environment.get(\"testfsp4InterchFeeBalanceBefore\"));"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp4/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp4",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w SEND [15.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfer testfsp3 to testfsp1 wallet-to-wallet"
											},
											"response": []
										},
										{
											"name": "[negative] POST /scenarios testfsp3  -> testfsp1 w2w SEND",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"result.statusCode == 400\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.statusCode).to.eql(400);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "request that is supposed to fail; transfer without idType"
											},
											"response": []
										},
										{
											"name": "testfsp1/accounts (settlement, position) AFTER [15.00 TZS] transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp1SettlementBalanceAfter\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp1PositionBalanceAfter\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp1InterchFeeBalanceAfterTransfer1\", curAccount.value);",
															"        }",
															"    })",
															"",
															"var transferAmount = 15;",
															"var testfsp1SettlementBalanceAfterExpected = Number.parseFloat(pm.environment.get(\"testfsp1SettlementBalanceBefore\")) + Number.parseFloat(transferAmount);",
															"",
															" testfsp1SettlementBalanceAfterExpected = testfsp1SettlementBalanceAfterExpected.toFixed(2);",
															"",
															"var testfsp1SettlementBalanceAfterActual = Number.parseFloat(pm.environment.get(\"testfsp1SettlementBalanceAfter\")).toFixed(2);",
															"",
															"console.log('extracted testfsp1 settlement balance before transfers',pm.environment.get(\"testfsp1SettlementBalanceBefore\"));",
															"console.log('extracted testfsp1 settlement balance after transfers ACTUAL',pm.environment.get(\"testfsp1SettlementBalanceAfter\"));",
															"console.log('calculated testfsp1 settlement balance before transfers '+pm.environment.get(\"testfsp1SettlementBalanceBefore\") +' transfer amount +'+transferAmount, testfsp1SettlementBalanceAfterExpected);",
															"",
															"console.log('test fsp1 positions account before',pm.environment.get(\"testfsp1PositionBalanceBefore\"));",
															"console.log('test fsp1 positions account after',pm.environment.get(\"testfsp1PositionBalanceAfter\"));",
															"",
															"",
															"pm.test(\"Check that settlement account value changes by transfer amount \"+transferAmount, ",
															"    function () {",
															"            pm.expect(Number(testfsp1SettlementBalanceAfterExpected)).to.eql(Number(testfsp1SettlementBalanceAfterActual));",
															"        });",
															"pm.test(\"Check that position account value remains unchanged\", ",
															"function () {",
															"            pm.expect(Number(pm.environment.get(\"testfsp1PositionBalanceBefore\"))).to.eql(Number(pm.environment.get(\"testfsp1PositionBalanceAfter\")));",
															"        });       ",
															"",
															"// check for interchage fee change",
															"console.log('test fsp1 interchange fee account value after transfer 1',pm.environment.get(\"testfsp1InterchFeeBalanceAfterTransfer1\"));",
															" ",
															"var testfsp1_actual_interchange_transfer1 =  Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceAfterTransfer1\")) - Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceBefore\"))",
															"testfsp1_actual_interchange_transfer1 = testfsp1_actual_interchange_transfer1.toFixed(2);",
															"var testfsp1_expected_interchange_transfer1 = -0.09; ",
															"",
															"pm.test(\"check that interchange fee have been changed by \"+testfsp1_expected_interchange_transfer1,",
															"function () {",
															"            pm.expect(Number(testfsp1_actual_interchange_transfer1)).to.eql(Number(testfsp1_expected_interchange_transfer1));",
															"        });  "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												},
												"description": "account vals tests AFTER single transfer"
											},
											"response": []
										},
										{
											"name": "testfsp3/accounts (settlement, position) AFTER [15.00 TZS] transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp3SettlementBalanceAfterTransfer1\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp3PositionBalanceAfterTransfer1\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp3InterchFeeBalanceAfterTransfer1Transfer1\", curAccount.value);",
															"        }",
															"    })",
															"",
															"var transferAmount = 15;",
															"var testfsp3SettlementBalanceAfterExpected = Number.parseFloat(pm.environment.get(\"testfsp3SettlementBalanceBefore\")) - Number.parseFloat(transferAmount);",
															"",
															" testfsp3SettlementBalanceAfterExpected = testfsp3SettlementBalanceAfterExpected.toFixed(2);",
															"",
															"var testfsp3SettlementBalanceAfterActual = Number.parseFloat(pm.environment.get(\"testfsp3SettlementBalanceAfterTransfer1\")).toFixed(2);",
															"",
															"console.log('extracted testfsp3 settlement balance before transfers',pm.environment.get(\"testfsp3SettlementBalanceBefore\"));",
															"console.log('extracted testfsp3 settlement balance after first transfer ACTUAL',testfsp3SettlementBalanceAfterActual);",
															"console.log('calculated testfsp3 settlement balance before transfers '+pm.environment.get(\"testfsp3SettlementBalanceBefore\") +' transfer amount -'+transferAmount, testfsp3SettlementBalanceAfterExpected);",
															"",
															"console.log('test fsp3 positions account before',pm.environment.get(\"testfsp3PositionBalanceBefore\"));",
															"console.log('test fsp3 positions account after',pm.environment.get(\"testfsp3PositionBalanceAfterTransfer1\"));",
															"",
															"",
															"pm.test(\"Check that settlement account value changes by transfer amount \"+transferAmount, ",
															"    function () {",
															"            pm.expect(Number(testfsp3SettlementBalanceAfterExpected)).to.eql(Number(testfsp3SettlementBalanceAfterActual));",
															"        });",
															"pm.test(\"Check that position account value remains unchanged\", ",
															"function () {",
															"            pm.expect(Number(pm.environment.get(\"testfsp3PositionBalanceBefore\"))).to.eql(Number(pm.environment.get(\"testfsp3PositionBalanceAfterTransfer1\")));",
															"        });       ",
															"",
															"// check for interchage fee change",
															"console.log('test fsp1 interchange fee account value after transfer 1',pm.environment.get(\"testfsp3InterchFeeBalanceAfterTransfer1Transfer1\"));",
															" ",
															"var testfsp3_actual_interchange_transfer1 =  Number.parseFloat(pm.environment.get(\"testfsp3InterchFeeBalanceAfterTransfer1Transfer1\")) - Number.parseFloat(pm.environment.get(\"testfsp3InterchFeeBalanceBefore\"))",
															"testfsp3_actual_interchange_transfer1 = testfsp3_actual_interchange_transfer1.toFixed(2);",
															"var testfsp3_expected_interchange_transfer1 = 0.09; ",
															"",
															"pm.test(\"check that interchange fee have been changed by \"+testfsp3_expected_interchange_transfer1,",
															"function () {",
															"            pm.expect(Number(testfsp3_actual_interchange_transfer1)).to.eql(Number(testfsp3_expected_interchange_transfer1));",
															"        });  "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp3/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp3",
														"accounts"
													]
												},
												"description": "account vals tests AFTER single transfer"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 b2b SEND [87.88 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2BankFname testfsp2Bankname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp2bankMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Bank\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp1bankMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"87.88\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "testfsp2/accounts (settlement) after b2b transfer [87.88 TZS]",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp2SettlementBalanceAfterB2B\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp2PositionBalanceAfterB2B\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp2InterchFeeBalanceAfterB2B\", curAccount.value);",
															"        }",
															"    })",
															"    ",
															"console.log('extracted testfsp2 settlement balance after B2B transfer',pm.environment.get(\"testfsp2SettlementBalanceAfterB2B\"));",
															"",
															"console.log('extracted testfsp2 positions balance after B2B transfer',pm.environment.get(\"testfsp2PositionBalanceAfterB2B\"));",
															"",
															"",
															"// check for interchage fee change",
															"",
															"console.log('extracted testfsp2 interchange fee  balance after B2B transfer',pm.environment.get(\"testfsp2InterchFeeBalanceAfterB2B\"));",
															" ",
															"var testfsp2_actual_interchange_B2B =  Number.parseFloat(pm.environment.get(\"testfsp2InterchFeeBalanceAfterB2B\")) - Number.parseFloat(pm.environment.get(\"testfsp2InterchFeeBalanceBefore\"))",
															"testfsp2_actual_interchange_B2B = testfsp2_actual_interchange_B2B.toFixed(2);",
															"var testfsp2_expected_interchange_b2b = 0.00; ",
															"",
															"pm.test(\"check that interchange fee have been changed by \"+testfsp2_expected_interchange_b2b,",
															"function () {",
															"            pm.expect(Number(testfsp2_actual_interchange_B2B)).to.eql(Number(testfsp2_expected_interchange_b2b));",
															"        });  "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1/accounts (settlement, position) after b2b transfer [87.88 TZS]",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp1SettlementBalanceAfterB2B\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp1PositionBalanceAfterB2B\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp1InterchFeeBalanceAfterB2B\", curAccount.value);",
															"        }",
															"    })",
															"    ",
															"console.log('extracted testfsp1 settlement balance after B2B transfer',pm.environment.get(\"testfsp1SettlementBalanceAfterB2B\"));",
															"",
															"console.log('extracted testfsp1 positions balance after B2B transfer',pm.environment.get(\"testfsp1PositionBalanceAfterB2B\"));",
															"",
															"// check for interchage fee change",
															"console.log('extracted testfsp1 interchange fee  balance after B2B transfer',pm.environment.get(\"testfsp1InterchFeeBalanceAfterB2B\"));",
															" ",
															"var testfsp1_actual_interchange_b2b_transfer =  Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceAfterB2B\")) - Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceAfterTransfer1\"))",
															"testfsp1_actual_interchange_b2b_transfer = testfsp1_actual_interchange_b2b_transfer.toFixed(2);",
															"var testfsp1_expected_interchange_b2b = 0.00; ",
															"",
															"pm.test(\"check that interchange fee have been changed by \"+testfsp1_expected_interchange_b2b,",
															"function () {",
															"            pm.expect(Number(testfsp1_actual_interchange_b2b_transfer)).to.eql(Number(testfsp1_expected_interchange_b2b));",
															"        });  "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												},
												"description": "accounts values after bank-to-bank transfer"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp1  -> testfsp4 w2w SEND [158.36 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1Fname testfsp1Lname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"158.36\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp1 -> to testfsp4 wallet-to-wallet extension type"
											},
											"response": []
										},
										{
											"name": "testfsp1/accounts (settlement, position) after  [158.36 TZS] w2w transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp1SettlementBalanceAfterTransfer2\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp1PositionBalanceAfterTransfer2\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp1InterchFeeBalanceAfterTransfer2\", curAccount.value);",
															"        }",
															"    })",
															"",
															"var transferAmount = 158.36;",
															"var testfsp1SettlementBalanceAfterExpected = Number.parseFloat(pm.environment.get(\"testfsp1SettlementBalanceAfterB2B\")) - Number.parseFloat(transferAmount);",
															"",
															" testfsp1SettlementBalanceAfterExpected = testfsp1SettlementBalanceAfterExpected.toFixed(2);",
															"",
															"var testfsp1SettlementBalanceAfterActual = Number.parseFloat(pm.environment.get(\"testfsp1SettlementBalanceAfterTransfer2\")).toFixed(2);",
															"",
															"console.log('extracted testfsp1 settlement balance before second transfer',pm.environment.get(\"testfsp1SettlementBalanceAfter\"));",
															"console.log('extracted testfsp1 settlement balance after transfers ACTUAL',pm.environment.get(\"testfsp1SettlementBalanceAfterTransfer2\"));",
															"console.log('calculated testfsp1 settlement balance after second transfer '+pm.environment.get(\"testfsp1SettlementBalanceAfter\") +' transfer amount -'+transferAmount, testfsp1SettlementBalanceAfterExpected);",
															"",
															"console.log('test fsp1 positions account before 2nd transfer',pm.environment.get(\"testfsp1PositionBalanceAfter\"));",
															"console.log('test fsp1 positions account after 2nd transfer',pm.environment.get(\"testfsp1PositionBalanceAfterTransfer2\"));",
															"",
															"",
															"pm.test(\"Check that settlement account value changes by transfer amount -\"+transferAmount, ",
															"    function () {",
															"            pm.expect(Number(testfsp1SettlementBalanceAfterExpected)).to.eql(Number(testfsp1SettlementBalanceAfterActual));",
															"        });",
															"pm.test(\"Check that position account value remains unchanged\", ",
															"function () {",
															"            pm.expect(Number(pm.environment.get(\"testfsp1PositionBalanceAfter\"))).to.eql(Number(pm.environment.get(\"testfsp1PositionBalanceAfterTransfer2\")));",
															"        });       ",
															"",
															"// check for interchage fee change",
															"console.log('test fsp1 interchange fee account value after transfer 2',pm.environment.get(\"testfsp1InterchFeeBalanceAfterTransfer2\"));",
															" ",
															"var testfsp1_actual_interchange_transfer2 =  Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceAfterTransfer2\")) - Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceAfterTransfer1\"))",
															"testfsp1_actual_interchange_transfer2 = testfsp1_actual_interchange_transfer2.toFixed(2);",
															"var testfsp1_expected_interchange_transfer2 = 0.95; ",
															"",
															"pm.test(\"check that interchange fee have been changed by \"+testfsp1_expected_interchange_transfer2,",
															"function () {",
															"            pm.expect(Number(testfsp1_actual_interchange_transfer2)).to.eql(Number(testfsp1_expected_interchange_transfer2));",
															"        });  "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												},
												"description": "getting account values"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w SEND [211.15 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"211.15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w RECEIVE [14.21 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"14.21\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp4  -> testfsp1 w2w RECEIVE [150 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp4WalletFname testfsp4WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"150\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"extracting window in open state\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															" });",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get testfsp1 position AFTER transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"",
															"// var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp1PositionBefore\")) - Number.parseFloat(15) + Number.parseFloat(158.36) - Number.parseFloat(87.88) - Number.parseFloat(211.15) - Number.parseFloat(14.21) - Number.parseFloat(150);",
															"",
															"var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp1PositionBefore\"));",
															"//expectedamount = expectedamount.toFixed(2);",
															"",
															"for (var i in jsonData) {",
															"    if (jsonData[i].currency === pm.environment.get('currency')) {",
															"        pm.test(\"Position value should be the same after transfer\", function () {",
															"            pm.expect(Number(jsonData[i].value)).to.eql(Number(expectedamount));",
															"        });",
															"    }",
															"",
															"}"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"positions"
													]
												},
												"description": "check that position changed by sum of aggregates of transfers from window1."
											},
											"response": []
										},
										{
											"name": "Get testfsp2 position AFTER transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"// var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp2PositionBefore\")) + Number.parseFloat(87.88) + Number.parseFloat(211.15) + Number.parseFloat(14.21);",
															"var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp2PositionBefore\"));",
															"// expectedamount = expectedamount.toFixed(2);",
															"console.log(expectedamount);",
															"",
															"",
															"for (var i in jsonData) {",
															"    if (jsonData[i].currency === pm.environment.get('currency')) {",
															"       pm.test(\"Position value should be the same after transfer\", function () {",
															"            pm.expect(jsonData[i].value).to.eql(Number(expectedamount));",
															"        });",
															"    }",
															"",
															"}"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"positions"
													]
												},
												"description": "check that position changed by sum of aggregates of transfers from window1."
											},
											"response": []
										},
										{
											"name": "Get testfsp3 position AFTER transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"// var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp3PositionBefore\")) + Number.parseFloat(15);",
															"var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp3PositionBefore\"));",
															"// expectedamount = expectedamount.toFixed(2);",
															"console.log(expectedamount);",
															"",
															"",
															"for (var i in jsonData) {",
															"    if (jsonData[i].currency === pm.environment.get('currency')) {",
															"       pm.test(\"Position value should be the same after transfer\", function () {",
															"            pm.expect(jsonData[i].value).to.eql(Number(expectedamount));",
															"        });",
															"    }",
															"",
															"}"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp3/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp3",
														"positions"
													]
												},
												"description": "check that position changed by sum of aggregates of transfers from window1."
											},
											"response": []
										},
										{
											"name": "Get testfsp4 position AFTER transfers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"// var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp4PositionBefore\")) + Number.parseFloat(150) - Number.parseFloat(158.36);",
															"var expectedamount = Number.parseFloat(pm.environment.get(\"testfsp4PositionBefore\"));",
															"// expectedamount = expectedamount.toFixed(2);",
															"console.log(expectedamount);",
															"",
															"",
															"for (var i in jsonData) {",
															"    if (jsonData[i].currency === pm.environment.get('currency')) {",
															"       pm.test(\"Position value should be the same after transfer\", function () {",
															"            pm.expect(jsonData[i].value).to.eql(Number(expectedamount));",
															"        });",
															"    }",
															"",
															"}"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "hub_operator"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp4/positions",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp4",
														"positions"
													]
												},
												"description": "check that position changed by sum of aggregates of transfers from window1."
											},
											"response": []
										},
										{
											"name": "testfsp1 (settlement) accounts vals AFTER",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp1SettlementBalanceAfter\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp1PositionBalanceAfter\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp1InterchFeeBalanceAfter\", curAccount.value);",
															"        }",
															"    })",
															"     ",
															"// settlement account balance verification (testfsp1)    ",
															"var testfsp1SettlementBalanceAfterExpected = Number.parseFloat(pm.environment.get(\"testfsp1SettlementBalanceBefore\")) + Number.parseFloat(15) - Number.parseFloat(158.36) + Number.parseFloat(87.88) + Number.parseFloat(211.15) + Number.parseFloat(14.21) + Number.parseFloat(150);",
															"testfsp1SettlementBalanceAfterExpected = testfsp1SettlementBalanceAfterExpected.toFixed(2);",
															"",
															"//@TODO adjust rounding balance (2 decimals || 3 decimals after the point).",
															"var testfsp1SettlementBalanceAfterActual = Number.parseFloat(pm.environment.get(\"testfsp1SettlementBalanceAfter\")).toFixed(2);",
															"",
															"console.log('extracted testfsp1 settlement balance before transfers',pm.environment.get(\"testfsp1SettlementBalanceBefore\"));",
															"console.log('extracted testfsp1 settlement balance after transfers ACTUAL',pm.environment.get(\"testfsp1SettlementBalanceAfter\"));",
															"console.log('extracted testfsp1 settlement balance after transfers EXPECTED',testfsp1SettlementBalanceAfterExpected);",
															"",
															"console.log('test fsp1 interchange fee balance before',pm.environment.get(\"testfsp1InterchFeeBalanceBefore\"));",
															"console.log('test fsp1 interchange fee balance after',pm.environment.get(\"testfsp1InterchFeeBalanceAfter\"));",
															"",
															"pm.test(\"Check that settlement account value changed after transfers\", ",
															"    function () {",
															"            pm.expect(Number(testfsp1SettlementBalanceAfterExpected)).to.eql(Number(testfsp1SettlementBalanceAfterActual));",
															"        });",
															"",
															"// interchange_fee changes verification (testfsp1)",
															"var aggregates_fee = Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceAfter\")) - Number.parseFloat(pm.environment.get(\"testfsp1InterchFeeBalanceBefore\"));",
															"aggregates_fee = aggregates_fee.toFixed(2);",
															"",
															"var testfsp1_aggregate_interchange_fee_expected = -1.40;",
															"",
															"testfsp1_aggregate_interchange_fee_expected = Number.parseFloat(testfsp1_aggregate_interchange_fee_expected).toFixed(2);",
															"",
															"pm.test(\"check agregates for interchange fees calculated correctly\", ",
															"        function () {",
															"                pm.expect(aggregates_fee).to.eql(testfsp1_aggregate_interchange_fee_expected);",
															"        });",
															"   "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 (settlement) accounts vals AFTER",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp2SettlementBalanceAfter\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp2PositionBalanceAfter\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"INTERCHANGE_FEE\") {",
															"            pm.environment.set(\"testfsp2InterchFeeBalanceAfter\", curAccount.value);",
															"        }",
															"    })",
															"     ",
															"",
															"var testfsp2SettlementBalanceAfterExpected = Number.parseFloat(pm.environment.get(\"testfsp2SettlementBalanceBefore\")) + Number.parseFloat(87.88) + Number.parseFloat(211.15) + Number.parseFloat(14.21);",
															"// testfsp2SettlementBalanceAfterExpected = testfsp2SettlementBalanceAfterExpected.toFixed(2);",
															"",
															"var testfsp2SettlementBalanceAfterActual = Number.parseFloat(pm.environment.get(\"testfsp2SettlementBalanceAfter\"));",
															"",
															"console.log('extracted testfsp2 settlement balance before transfers',pm.environment.get(\"testfsp2SettlementBalanceBefore\"));",
															"console.log('extracted testfsp2 settlement balance after transfers ACTUAL',pm.environment.get(\"testfsp2SettlementBalanceAfter\"));",
															"",
															"console.log('testfsp2 settlement balance after transfers EXPECTED',testfsp2SettlementBalanceAfterExpected);",
															"",
															"console.log('test fsp2 interchange fee balance before',pm.environment.get(\"testfsp2InterchFeeBalanceBefore\"));",
															"console.log('test fsp2 interchange fee balance after',pm.environment.get(\"testfsp2InterchFeeBalanceAfter\"));",
															"",
															"",
															"        // pm.test(\"Check that settlement account value changed after transfers\", function () {",
															"        //     pm.expect(Number(testfsp1SettlementBalanceAfterExpected)).to.eql(Number(testfsp1SettlementBalanceAfterActual));",
															"        // });",
															"",
															"var aggregates_fee = Number.parseFloat(pm.environment.get(\"testfsp2InterchFeeBalanceAfter\"))-Number.parseFloat(pm.environment.get(\"testfsp2InterchFeeBalanceBefore\"));",
															"aggregates_fee = aggregates_fee.toFixed(2);",
															"",
															"pm.test(\"check agregates for interchange fees calculated correctly\", function () {",
															"            pm.expect(aggregates_fee).to.eql(Number.parseFloat(1.36).toFixed(2));",
															"        });",
															"    "
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp3 (settlement) accounts vals AFTER",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"/*",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp3SettlementBalanceValueBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp3PositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"",
															"        }",
															"    })",
															"",
															"    ",
															"console.log('extracted testfsp3 settlement balannce before transfers',pm.environment.get(\"testfsp3SettlementBalanceValueBefore\"));",
															"*/"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp3/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp3",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp4 (settlement) accounts vals AFTER",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"/*",
															"var jsonData = pm.response.json();",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            pm.environment.set(\"testfsp3SettlementBalanceValueBefore\", curAccount.value);",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            pm.environment.set(\"testfsp3PositionAccountBalanceBeforeTransfer\", curAccount.value);",
															"",
															"        }",
															"    })",
															"",
															"    ",
															"console.log('extracted testfsp3 settlement balannce before transfers',pm.environment.get(\"testfsp3SettlementBalanceValueBefore\"));",
															"*/"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp4/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp4",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Interchange-Fee Settlement for a single Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.environment.set(\"settlementId\", pm.response.json().id);",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"settlementModel\": \"InterchangeFee\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n  \t{\n  \t\t\"id\":{{openWindowID}}\n  \t}\n  ]\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Close any window before transfers",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "[new sims] new transfers window1",
									"item": [
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w SEND [15.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfer testfsp3 to testfsp1 wallet-to-wallet"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp1  -> testfsp4 w2w SEND [158.36 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1Fname testfsp1Lname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"158.36\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp1 -> to testfsp4 wallet-to-wallet extension type"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 b2b SEND [87.88 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2BankFname testfsp2Bankname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp2bankMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Bank\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp1bankMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"87.88\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w SEND [211.15 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"211.15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet 2020-06-26 11:52AM\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w RECEIVE [14.21 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"14.21\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp4  -> testfsp1 w2w RECEIVE [150 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp4WalletFname testfsp4WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"150\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (bank-to-bank)"
											},
											"response": []
										}
									]
								},
								{
									"name": "Close window1",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"New window State should be OPEN\", function () {",
															"    pm.expect(pm.response.json().state).to.eql('OPEN');",
															"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
															"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
															"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
															"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "[new sims] new transfers window2",
									"item": [
										{
											"name": "POST /scenarios testfsp3  -> testfsp4 w2w SEND [45.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"45\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfer testfsp3 to testfsp4 wallet-to-wallet"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp4  -> testfsp2 w2w SEND [34.55 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp4WalletFname testfsp4WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"34.55\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp4 -> to testfsp2 wallet-to-wallet extension type"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp2 b2b SEND [22.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3BankFname testfsp3Bankname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp3bankMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Bank\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp2bankMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"22\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp2 w2w SEND [788.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"788\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp2, wallet-to-wallet SEND {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w RECEIVE [22.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"22\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w RECEIVE [333.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"333\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										}
									]
								},
								{
									"name": "Close window2",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"New window State should be OPEN\", function () {",
															"    pm.expect(pm.response.json().state).to.eql('OPEN');",
															"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
															"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
															"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
															"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "[new sims] new transfers window3",
									"item": [
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w SEND [56.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"56\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfer testfsp3 to testfsp4 wallet-to-wallet"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w SEND [44.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"44\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp4 -> to testfsp2 wallet-to-wallet extension type"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp1  -> testfsp2 b2b SEND [89.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1BankFname testfsp1BankLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp1bankMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Bank\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp2bankMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"89\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp4  -> testfsp1 w2w SEND [99.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp4WalletFname testfsp4WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"99\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp2, wallet-to-wallet SEND {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w RECEIVE [14.21 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"14.21\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w RECEIVE [110.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"110\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										}
									]
								},
								{
									"name": "Close window3",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"New window State should be OPEN\", function () {",
															"    pm.expect(pm.response.json().state).to.eql('OPEN');",
															"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
															"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
															"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
															"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "[new sims] new transfers window4",
									"item": [
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w SEND [15.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfer testfsp3 to testfsp4 wallet-to-wallet"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp1 -> testfsp2 w2w SEND [158.36 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1Fname testfsp1Lname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"158.36\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp4 -> to testfsp2 wallet-to-wallet extension type"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp1  -> testfsp4 b2b SEND [211.15 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1BankFname testfsp1BankLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp1bankMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Bank\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp4bankMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"211.15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp1  -> testfsp2 w2w SEND [211.15 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1Fname testfsp1Lname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"211.15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp2, wallet-to-wallet SEND {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w RECEIVE [14.21 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"14.21\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp1 w2w RECEIVE [150.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"150\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										}
									]
								},
								{
									"name": "Close window4",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"New window State should be OPEN\", function () {",
															"    pm.expect(pm.response.json().state).to.eql('OPEN');",
															"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
															"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
															"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
															"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "[new sims] new transfers window5",
									"item": [
										{
											"name": "POST /scenarios testfsp2  -> testfsp3 w2w SEND [15.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp4  -> testfsp1 w2w SEND [158.36 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp4WalletFname testfsp4WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"158.36\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp4 -> to testfsp2 wallet-to-wallet extension type"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp1  -> testfsp3 b2b SEND [211.15 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp1BankFname testfsp1BankLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp1bankMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Bank\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestfsp3bankMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"211.15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP1_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP1_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (bank-to-bank)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp2 w2w SEND [211.15 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"211.15\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp2, wallet-to-wallet SEND {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp2 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp3  -> testfsp1 w2w RECEIVE [14.21 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp3}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp3WalletFname testfsp3WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp3MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp1MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"14.21\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp3 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP3_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP3_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp3 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										},
										{
											"name": "POST /scenarios testfsp2  -> testfsp4 w2w RECEIVE [150.00 TZS]",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//date for transfer note (dynamically generated)",
															"const dateNow= new Date();",
															"pm.environment.set('currentDate', dateNow.toISOString());",
															"postman.setGlobalVariable(\"currentDate2\", dateNow.toLocaleDateString());",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"//pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"//pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"//pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"pm.test(\"transfer state is completed\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp2}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp4}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"testfsp2WalletFname testfsp2WalletLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp2MSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{testfsp4MSISDN}}\"\n            },\n            \"amountType\": \"RECEIVE\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"150\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"from testfsp2 to testfsp1, wallet-to-wallet RECEIVE {{currentDate}}\",\n            \"homeTransactionId\": \"123ABCfdafar353533\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{TESTFSP2_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{TESTFSP2_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending transfers from testfsp2 to testfsp1 (wallet-to-wallet)"
											},
											"response": []
										}
									]
								},
								{
									"name": "Close window5",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close Existing Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"New window State should be OPEN\", function () {",
															"    pm.expect(pm.response.json().state).to.eql('OPEN');",
															"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
															"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
															"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
															"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows",
														"{{openWindowID}}"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "Create Settlement for previously  closed 4 windows",
									"item": [
										{
											"name": "Get Existing Open Window",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"State should be OPEN\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData[0].state).to.eql('OPEN');",
															"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
															"    pm.environment.set(\"closed_win_prev_prev_prev_prev_prev\", Number(jsonData[0].settlementWindowId)-5); ",
															"    pm.environment.set(\"closed_win_prev_prev_prev_prev\", Number(jsonData[0].settlementWindowId)-4);  ",
															"    pm.environment.set(\"closed_win_prev_prev_prev\", Number(jsonData[0].settlementWindowId)-3);  ",
															"    pm.environment.set(\"closed_win_prev_prev\", Number(jsonData[0].settlementWindowId)-2);",
															"    pm.environment.set(\"closed_win_prev\", Number(jsonData[0].settlementWindowId)-1);",
															"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
															"    console.log('closed window prev prev',pm.environment.get(\"closed_win_prev_prev\"))",
															"    console.log('closed window prev',pm.environment.get(\"closed_win_prev\"))",
															"});",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "hub_operator",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlementWindows"
													],
													"query": [
														{
															"key": "state",
															"value": "OPEN"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Settlement for all 5 Closed Windows (INTERCHANGE FEE)",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.environment.set(\"settlementId\", pm.response.json().id);",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
															"});",
															"",
															"pm.test(\"first participant netSettlementAmount == -5.37 TZS\", function () {",
															"    pm.expect(jsonData.participants[0].accounts[0].netSettlementAmount.amount).to.eql(-5.37);",
															"});",
															"",
															"pm.test(\"second participant netSettlementAmount == -2.26 TZS\", function () {",
															"    pm.expect(jsonData.participants[1].accounts[0].netSettlementAmount.amount).to.eql(-2.26);",
															"});",
															"",
															"pm.test(\"third participant netSettlementAmount == 7.10 TZS\", function () {",
															"    pm.expect(jsonData.participants[2].accounts[0].netSettlementAmount.amount).to.eql(7.10);",
															"});",
															"",
															"pm.test(\"fourth participant netSettlementAmount == 0.53 TZS\", function () {",
															"    pm.expect(jsonData.participants[3].accounts[0].netSettlementAmount.amount).to.eql(0.53);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"settlementModel\": \"InterchangeFee\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n  \t{\n  \t\t\"id\":{{closed_win_prev_prev_prev_prev_prev}}\n  \t},\n  \t{\n  \t\t\"id\":{{closed_win_prev_prev_prev_prev}}\n  \t},\n    {\n      \"id\": {{closed_win_prev_prev_prev}}\n    },\n    {\n      \"id\": {{closed_win_prev_prev}}\n    },\n    {\n      \"id\": {{closed_win_prev}}\n    }\n  ]\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements"
													]
												}
											},
											"response": []
										}
									],
									"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "negative requests",
									"item": [
										{
											"name": "NEGATIVE Create Settlement for all Windows Second time",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 400\", function () {",
															"    pm.response.to.have.status(400);",
															"});",
															"",
															"pm.test(\"Response contains 'Generic validation error'\", function () {",
															"    pm.expect(pm.response.text()).to.include(\"Generic validation error\");",
															"});",
															"pm.test(\"errorCode == 3100\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
															"});",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n  \"settlementModel\": \"InterchangeFee\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closed_win_prev_prev_prev}}\n    },\n        {\n      \"id\": {{closed_win_prev_prev}}\n    },\n        {\n      \"id\": {{closed_win_prev}}\n    }\n  ]\n}"
												},
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements"
													]
												}
											},
											"response": []
										},
										{
											"name": "NEGATIVE POST /scenarios payerfsp -> NON-registered fsp party",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
															"",
															"",
															"pm.variables.set('transferDate', (new Date()).toUTCString());",
															"",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
															"",
															"//pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
															"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
															"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"pm.test(\"party not found with result.statusCode==3204 && lastError.httpStatusCOde==500\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.scenario1.result.transferState.currentState).to.eql(\"ERROR_OCCURRED\");",
															"    pm.expect(jsonData.scenario1.result.transferState.lastError.httpStatusCode).to.eql(500);",
															"    pm.expect(jsonData.scenario1.result.transferState.lastError.mojaloopError.errorInformation.errorDescription).to.eql(\"Party not found\");",
															"    pm.expect(jsonData.scenario1.result.statusCode).to.eql(\"3204\");",
															"});",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"disabled": true
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{payerfsp}}",
														"disabled": true
													},
													{
														"key": "FSPIOP-Destination",
														"type": "text",
														"value": "{{testfsp1}}",
														"disabled": true
													},
													{
														"key": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"payerfspFname payerfspLname\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{payerfspMSISDN}}\",\n                \"extensionList\":\n                [{\"key\":\"accountType\", \n                \"value\":\"Wallet\"}\n                ]\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{settlementtestNonExistingMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment 2020-06-10 11:02pm\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
												},
												"url": {
													"raw": "{{PAYERFSP_BACKEND_TESTAPI_URL}}/scenarios",
													"host": [
														"{{PAYERFSP_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"scenarios"
													]
												},
												"description": "sending payment to non registered anywhere FSP party."
											},
											"response": []
										}
									]
								},
								{
									"name": "Add Users to new Sims ; ALS registration (random MSISDN)",
									"item": [
										{
											"name": "GET TESTFSP4FSP/repository/parties  before sim and ALS registration",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Successful POST request\", function () {",
															"    pm.expect(pm.response.code).to.be.oneOf([204,200, 500]);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/repository/parties",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"repository",
														"parties"
													]
												},
												"description": "Get parties from testfsp2  service."
											},
											"response": [
												{
													"name": "The party was created",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "No Content",
													"code": 204,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												},
												{
													"name": "An error occured processing the request",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "Internal Server Error",
													"code": 500,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												}
											]
										},
										{
											"name": "[testfsp4, Wallet] POST /parties  {{testfsp4MSISDN}}",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.environment.set(\"RandomNumberMsisdnW2W\", _.random(111111111111,999999999999));",
															"console.log('randomg MSISDN generated for registration of wallet extension type',pm.environment.get(\"RandomNumberMsisdnW2W\"));",
															"",
															"const moment = require('moment');",
															"pm.environment.set(\"dateOfBirthGenerated\", moment().format(\"YYYY-MM-DD\"));",
															"pm.environment.set(\"fnameW2WGenerated\",\"fsp4WalletFname{{$timestamp}}\");",
															"pm.environment.set(\"lnameW2WGenerated\",\"fsp4WalletLname{{$timestamp}}\");"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Successful POST request\", function () {",
															"    pm.expect(pm.response.code).to.be.oneOf([204,200, 500]);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"displayName\": \"{{fnameW2WGenerated}} {{lnameW2WGenerated}}\",\n    \"firstName\": \"{{fnameW2WGenerated}}\",\n    \"middleName\": \"\",\n    \"lastName\": \"{{lnameW2WGenerated}}\",\n    \"dateOfBirth\": \"{{dateOfBirthGenerated}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": {{RandomNumberMsisdnW2W}},\n    \"extensionList\": [\n    \t{\"key\": \"accountType\", \"value\": \"Wallet\"}\n    \t]\n}"
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/repository/parties",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"repository",
														"parties"
													]
												},
												"description": "accoutType : Wallet"
											},
											"response": [
												{
													"name": "An error occured processing the request",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "Internal Server Error",
													"code": 500,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												},
												{
													"name": "The party was created",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "No Content",
													"code": 204,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												}
											]
										},
										{
											"name": "[testfsp4, Wallet] POST /ALS_host/participants {{testfsp4MSISDN}}",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{TESTFSP4_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.participants+json;version=1.0"
													},
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.participants+json;version=1"
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}"
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp4}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n \"fspId\": \"{{testfsp4}}\",\n \"currency\": \"{{currency}}\"\n}\n"
												},
												"url": {
													"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/participants/MSISDN/{{RandomNumberMsisdnW2W}}",
													"host": [
														"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
													],
													"path": [
														"participants",
														"MSISDN",
														"{{RandomNumberMsisdnW2W}}"
													]
												},
												"description": "ALS- register bank account type"
											},
											"response": []
										},
										{
											"name": "[testfsp4, Bank] POST /parties  {{settlementtestfsp4bankMSISDN}}",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.environment.set(\"RandomNumberMsisdnB2B\", _.random(111111111111,999999999999));",
															"console.log('randomg MSISDN generated for registration of bank extension type',pm.environment.get(\"RandomNumberMsisdnB2B\"));",
															"",
															"const moment = require('moment');",
															"pm.environment.set(\"dateOfBirthGenerated\", moment().format(\"YYYY-MM-DD\"));",
															"pm.environment.set(\"fnameB2BGenerated\",\"fsp4BankFname{{$timestamp}}\");",
															"pm.environment.set(\"lnameB2BGenerated\",\"fsp4BankLname{{$timestamp}}\");"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Successful POST request\", function () {",
															"    pm.expect(pm.response.code).to.be.oneOf([204,200, 500]);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"displayName\": \"{{fnameB2BGenerated}} {{lnameB2BGenerated}}\",\n    \"firstName\": \"{{fnameB2BGenerated}}\",\n    \"middleName\": \"\",\n    \"lastName\": \"{{lnameB2BGenerated}}\",\n    \"dateOfBirth\": \"{{dateOfBirthGenerated}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": {{RandomNumberMsisdnB2B}},\n    \"extensionList\": [\n    \t{\"key\": \"accountType\", \"value\": \"Bank\"}\n    \t]\n}"
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/repository/parties",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"repository",
														"parties"
													]
												},
												"description": "accoutType : Wallet"
											},
											"response": [
												{
													"name": "The party was created",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "No Content",
													"code": 204,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												},
												{
													"name": "An error occured processing the request",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "Internal Server Error",
													"code": 500,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												}
											]
										},
										{
											"name": "[testfsp4, Bank] POST /ALS_host/participants {{RandomNumberMsisdnB2B}}",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{TESTFSP4_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.participants+json;version=1.0"
													},
													{
														"key": "Accept",
														"type": "text",
														"value": "application/vnd.interoperability.participants+json;version=1"
													},
													{
														"key": "Date",
														"type": "text",
														"value": "{{transferDate}}"
													},
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{testfsp4}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n \"fspId\": \"{{testfsp4}}\",\n \"currency\": \"{{currency}}\"\n}\n"
												},
												"url": {
													"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/participants/MSISDN/{{RandomNumberMsisdnB2B}}",
													"host": [
														"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
													],
													"path": [
														"participants",
														"MSISDN",
														"{{RandomNumberMsisdnB2B}}"
													]
												},
												"description": "ALS- register bank account type"
											},
											"response": []
										},
										{
											"name": "GET TESTFSP4FSP/repository/parties    after registration sim and ALS",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Successful POST request\", function () {",
															"    pm.expect(pm.response.code).to.be.oneOf([204,200, 500]);",
															"});",
															"",
															"pm.test(\"Response contains MSISDNs of just registered user with Wallet extension \"+pm.environment.get(\"RandomNumberMsisdnW2W\"), function () {",
															"    pm.expect(pm.response.text()).to.include(pm.environment.get(\"RandomNumberMsisdnW2W\"));",
															"});",
															"",
															"pm.test(\"Response contains MSISDNs of just registered user with Bank extension \"+pm.environment.get(\"RandomNumberMsisdnB2B\"), function () {",
															"    pm.expect(pm.response.text()).to.include(pm.environment.get(\"RandomNumberMsisdnB2B\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "noauth"
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "{{TESTFSP4_BACKEND_TESTAPI_URL}}/repository/parties",
													"host": [
														"{{TESTFSP4_BACKEND_TESTAPI_URL}}"
													],
													"path": [
														"repository",
														"parties"
													]
												},
												"description": "Get parties from testfsp2  service."
											},
											"response": [
												{
													"name": "An error occured processing the request",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "Internal Server Error",
													"code": 500,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												},
												{
													"name": "The party was created",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"displayName\": \"<string>\",\n    \"firstName\": \"<string>\",\n    \"middleName\": \"<string>\",\n    \"lastName\": \"<string>\",\n    \"dateOfBirth\": \"<string>\",\n    \"merchantClassificationCode\": \"<string>\"\n}"
														},
														"url": {
															"raw": "{{baseUrl}}/repository/parties",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"repository",
																"parties"
															]
														}
													},
													"status": "No Content",
													"code": 204,
													"_postman_previewlanguage": "Text",
													"header": [
														{
															"key": "Content-Type",
															"value": "text/plain"
														}
													],
													"cookie": [],
													"body": ""
												}
											]
										}
									]
								}
							]
						},
						{
							"name": "SETTLE  settlement",
							"item": [
								{
									"name": "Setup Settlement",
									"item": [
										{
											"name": "Setup Accounts",
											"item": [
												{
													"name": "Activate currency Account",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"const fsps = ['payerfsp','payeefsp','testfsp1','testfsp2'];",
																	"",
																	"pm.response.json().map(participant => {",
																	"    if(fsps.include(participant.name)) {",
																	"       const participantGetRequest = {",
																	"          url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name,",
																	"          method: 'GET',",
																	"          header: {",
																	"              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"              \"Content-Type\": \"application/json\"",
																	"          }",
																	"        };",
																	"        pm.sendRequest(participantGetRequest, function (err, response) {",
																	"            if(response.responseSize !== 0) {",
																	"                response.json().accounts.map(account => {",
																	"                    const url = pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name+'/accounts/'+account.id;",
																	"                    const header =  {",
																	"                          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                          \"Content-Type\": \"application/json\"",
																	"                      };",
																	"                    if(account.currency === pm.environment.get('currency')) {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": true",
																	"                            }",
																	"                        };",
																	"                    } else {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": false",
																	"                            }",
																	"                        };",
																	"                    }",
																	"                })",
																	"            } else {",
																	"                pm.test(\"Request FAILED\", function () {",
																	"                    throw new Error('Did not receive response');",
																	"                });",
																	"                // postman.setNextRequest(null)",
																	"            }",
																	"        }); ",
																	"    }",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "hub_operator",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants"
															]
														}
													},
													"response": []
												}
											],
											"description": "Activate only XOF accounts and disable rest of the accounts"
										},
										{
											"name": "Create Settlement on the current open window",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "hub_operator",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN\", function () {",
																	"    pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlements for Closed Windows (interchange fee model)",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"settlementModel\": \"InterchangeFee\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												},
												{
													"name": "Prepare Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers recorded for payer\",",
																	"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Reserve Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers reserved\",",
																	"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Commit Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers committed\",",
																	"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Settle Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers settled for payer\",",
																	"                                          \"state\": \"SETTLED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												}
											],
											"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											]
										},
										{
											"name": "Store Settlement&Position Account Balances Before Transfers",
											"item": [
												{
													"name": "testfsp1 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp1SettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp1PositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"    /*        pm.test(\"testfsp1 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp1",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "testfsp2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp2SettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp2PositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"    /*        pm.test(\"testfsp2 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp2",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payerfsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payerfspSettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payerfspPositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"     /*       pm.test(\"payerfsp position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payerfsp",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payeefsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payeefspSettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payeefspPositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"       /*     pm.test(\"payeefsp position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payeefsp",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "HUB balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {",
																	"            pm.environment.set(\"hubReconciliationAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {",
																	"            pm.environment.set(\"hubMultilateralAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"Hub",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "Get Existing Open Window(quotes and transfers)",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "[obsolete]Run Quote & Transfers",
											"item": [
												{
													"name": "Send Quote 1 (testfsp1 to testfsp2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"  var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"testfsp1\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"testfsp2\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"60\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_INBOUND_URL\") + \"/requests/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"\r",
																	"            //Check the Headers\r",
																	"            var headers = response.json().headers;\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-source is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-uri is /quotes\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"            });\r",
																	"\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null)\r",
																	"        }\r",
																	"    });\r",
																	"}, 2500)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_INBOUND_URL\") + \"/callbacks/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"\r",
																	"            var { signature, protectedHeader } = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"\r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:', decodedProtectedHeaders)\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\" + pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/' + pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp2\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/\" + pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/' + pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"\r",
																	"            var jsonData = response.json().data;\r",
																	"\r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response condition is not null\", function () {\r",
																	"                pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"                pm.environment.set(\"condition\", jsonData.condition);\r",
																	"            });\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on Payer side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null);\r",
																	"        }\r",
																	"\r",
																	"    });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 1 ( testfsp1 to testfsp2 )",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"testfsp1\",\r",
																	"  \"payeeFsp\": \"testfsp2\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"60\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp2 fspiop-source is goldentestfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"testfsp2 data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 1100)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is goldentestfsp2 \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1500)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 2 (testfsp1 to payeefsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"testfsp1\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payeefsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"55\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payeefsp fspiop-source is testfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is payeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 2 (testfsp1 to payeefsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"testfsp1\",\r",
																	"  \"payeeFsp\": \"payeefsp\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"55\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payeefsp fspiop-source is goldentestfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"payeefsp data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('55');\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 3000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is goldenpayeefsp \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 3000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 3 (payerfspto testfsp1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"pm.variables.set('payerMSISDN', '918381008987');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"testfsp1\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),\r",
																	"      \"fspId\": \"payerfsp\"\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),\r",
																	"      \"fspId\": \"testfsp1\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp1 fspiop-source is payerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payerfsp fspiop-source is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp1JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp1\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 3 (payerfsp to testfsp1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"testfsp1\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"payerfsp\",\r",
																	"  \"payeeFsp\": \"testfsp1\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp1 fspiop-source is goldenpayerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"testfsp1 data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same payerfspId as request\", function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same testfsp1Id as request\", function () {\r",
																	"                  pm.expect('testfsp1');\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payerfsp fspiop-source is goldentestfsp1 \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 4 (testfsp2 to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp2\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"testfsp2\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payerfsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"20\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp2JWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is testfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp2 fspiop-source is payerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayerfsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp2\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"testfsp2 FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															},
															{
																"key": "x-forwarded-for",
																"value": "34.245.65.70",
																"type": "text",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 4 (testfsp2 to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp2\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"testfsp2\",\r",
																	"  \"payeeFsp\": \"payerfsp\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"20\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp2JWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is goldentestfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"payerfsp data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('20');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp2 fspiop-source is goldenpayerfsp \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 5 (payeefsp to testfsp2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"pm.variables.set('payerMSISDN', '918381008987');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),\r",
																	"      \"fspId\": \"payeefsp\"\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),\r",
																	"      \"fspId\": \"testfsp2\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp2 fspiop-source is payeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp2\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payeefsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"payeefsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 5 (payeefsp to testfsp2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"payeefsp\",\r",
																	"  \"payeeFsp\": \"testfsp2\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp2 fspiop-source is goldenpayeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"testfsp2 data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is goldentestfsp2 \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 6 (payeefsp to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"pm.variables.set('payerMSISDN', '918381008987');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),\r",
																	"      \"fspId\": \"payeefsp\"\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),\r",
																	"      \"fspId\": \"payerfsp\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is payeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is payerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayerfsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payeefsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"payeefsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 6 (payeefsp to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"payeefsp\",\r",
																	"  \"payeeFsp\": \"payerfsp\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is goldenpayeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"payerfsp data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same payeefspId as request\", function () {\r",
																	"                  pm.expect(jsonData.payeeFsp).to.eql('payerfsp');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same payerfspId as request\", function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql('payeefsp');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('25');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is goldenpayerfsp \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												}
											],
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											]
										},
										{
											"name": "Create Settlement",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN\", function () {",
																	"    console.log(pm.response.json());",
																	"    pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Associated number of participants should be 4 \", function () {",
																	"    pm.expect(jsonData.participants.length).to.eql(4);",
																	"});",
																	"",
																	"for(var j in jsonData.participants) {",
																	"    for(var k in jsonData.participants[j].accounts) {",
																	"        console.log(jsonData.participants[j].accounts[k].id)",
																	"        if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payerFspAccountId\"))) {",
																	"            console.log('payerfspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payerfspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        } else if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payeeFspAccountId\"))) {",
																	"            console.log('payeefspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payeefspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        }",
																	"        ",
																	"    }",
																	"}",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"settlementModel\": \"DEFERREDNET\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window - MultilateralDeferredNet",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Associated number of participants should be 4 \", function () {",
																	"    pm.expect(jsonData.participants.length).to.eql(4);",
																	"});",
																	"",
																	"for(var j in jsonData.participants) {",
																	"    for(var k in jsonData.participants[j].accounts) {",
																	"        console.log(jsonData.participants[j].accounts[k].id)",
																	"        if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payerFspAccountId\"))) {",
																	"            console.log('payerfspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payerfspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        } else if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payeeFspAccountId\"))) {",
																	"            console.log('payeefspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payeefspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        }",
																	"        ",
																	"    }",
																	"}",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"settlementModel\": \"MultilateralDeferredNet\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window INTERCHANGEFEE",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Associated number of participants should be 4 \", function () {",
																	"    pm.expect(jsonData.participants.length).to.eql(4);",
																	"});",
																	"",
																	"for(var j in jsonData.participants) {",
																	"    for(var k in jsonData.participants[j].accounts) {",
																	"        console.log(jsonData.participants[j].accounts[k].id)",
																	"        if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payerFspAccountId\"))) {",
																	"            console.log('payerfspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payerfspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        } else if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payeeFspAccountId\"))) {",
																	"            console.log('payeefspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payeefspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        }",
																	"        ",
																	"    }",
																	"}",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"settlementModel\": \"INTERCHANGEFEE\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												}
											]
										},
										{
											"name": "Store Settlement&Position Account Balances After Transfers",
											"item": [
												{
													"name": "testfsp1 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp1SettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp1PositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp1",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "testfsp2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp2SettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp2PositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp2",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payerfsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payerfspSettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payerfspPositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payerfsp",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payeefsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payeefspSettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payeefspPositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payeefsp",
																"accounts"
															]
														}
													},
													"response": []
												}
											]
										}
									]
								},
								{
									"name": "Prepare Settlement",
									"item": [
										{
											"name": "Prepare Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers recorded for payer\",",
															"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         console.log(jsonData.participants[j].accounts[k].id)",
															"//         if(jsonData.participants[j].accounts[k].currency === 'XOF') {",
															"//             const participantPutRequest = {",
															"//               url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"//               method: 'PUT',",
															"//               header: {",
															"//                   \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"//                   \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"//                   \"Content-Type\": \"application/json\"",
															"//               },",
															"//               body: {",
															"//                 mode: 'raw',",
															"//                 raw: JSON.stringify(",
															"//                     {",
															"//                       \"participants\": [",
															"//                         {",
															"//                           \"id\": jsonData.participants[j].id,",
															"//                           \"accounts\": [",
															"//                             {",
															"//                               \"id\": jsonData.participants[j].accounts[k].id,",
															"//                               \"reason\": \"Transfers recorded for payer\",",
															"//                               \"state\": \"PS_TRANSFERS_RECORDED\"",
															"//                             }",
															"//                           ]",
															"//                         }",
															"//                       ]",
															"//                     }",
															"//                 )",
															"//               }",
															"//             };",
															"//             pm.sendRequest(participantPutRequest, function (err, response) {",
															"//                 console.log(response.json());",
															"//             });",
															"//         }",
															"",
															"",
															"//     }",
															"// }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RECORDED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RECORDED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         pm.test(`Participant Account ${jsonData.participants[j].accounts[k].id} state is PS_TRANSFERS_RECORDED`, function () {",
															"//             pm.expect(jsonData.participants[j].accounts[k].state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"//         });",
															"//     }",
															"// }",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterPrepare;",
															"var testfsp1PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"",
															"pm.test(\"Testfsp1 position account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceAfterTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterPrepare;",
															"var testfsp2PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceAfterTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterPrepare;\r",
															"var payerfspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payerfsp position account balance before and  after prepare should be the same.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceAfterTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterPrepare;\r",
															"var payeefspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after prepare should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance before and  after prepare should be the same.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceAfterTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Reserve Settlement",
									"item": [
										{
											"name": "Reserve Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers reserved\",",
															"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \" + pm.environment.get('settlementId'), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RESERVED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RESERVED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterReserve;",
															"var testfsp1PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after reserve should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp1 position account balance before and  after reserve should be the same.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceAfterTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterReserve;",
															"var testfsp2PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after reserve should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance after reserve gets increased by its net settlement  amount.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterReserve;\r",
															"var payerfspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"\r",
															"pm.test(\"payerfsp position account balance after reserve gets increased by its net settlement  amount.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterReserve;\r",
															"var payeefspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Commit Settlement",
									"item": [
										{
											"name": "Commit Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers committed\",",
															"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_COMMITTED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === 'XOF')",
															"                    .forEach(xofAccount => {",
															"                        pm.test(`Participant Account ${xofAccount.id} state is PS_TRANSFERS_COMMITTED`, function () {",
															"                            pm.expect(xofAccount.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterCommit;",
															"var testfsp1PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp1 position account balance after commit should be reduced by its net settlement amount.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance before and after commit should be the same.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceBeforeTransfer\"));",
															"});",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payerfsp position account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance after commit should be reduced by its net settlement amount.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "hub account balance check",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var hubReconciliationAccountBalanceAfterCommit;\r",
															"var hubMultilateralAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {\r",
															"            hubReconciliationAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {\r",
															"            hubMultilateralAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"hub reconciliation account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubReconciliationAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubReconciliationAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"hub multilateral account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubMultilateralAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubMultilateralAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"Hub",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Settle Settlement",
									"item": [
										{
											"name": "Settle Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers settled for payer\",",
															"                                          \"state\": \"SETTLED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be SETTLED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"SETTLED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be SETTLED\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"SETTLED\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is SETTLED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"SETTLED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterSettle;",
															"var testfsp1PositionAccountBalanceAfterSettle;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after settle should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterSettle).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp1 position account balance before and  after settle should be the same.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterSettle).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payerfsp position account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										}
									]
								}
							]
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			]
		},
		{
			"name": "api-tests",
			"item": [
				{
					"name": "get and create ledger account types",
					"item": [
						{
							"name": "GET ledger account types",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}/ledgerAccountTypes",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}"
									],
									"path": [
										"ledgerAccountTypes"
									]
								}
							},
							"response": []
						},
						{
							"name": "POST create a new ledger account type settable",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "       { \n        \"name\": \"TESTCREATEACCOUNTAFTERFIX\",\n        \"description\": \"Typical test account to ensure ledger creation is working fine.\",\n        \"isActive\": true,\n        \"isSettleable\": true}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}/ledgerAccountTypes",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}"
									],
									"path": [
										"ledgerAccountTypes"
									]
								}
							},
							"response": []
						},
						{
							"name": "POST create a new ledger account type not settable",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "       { \n        \"name\": \"TESTACCOUNTNOTSETTABLEFIXED\",\n        \"description\": \"Typical test account to ensure ledger creation is working fine.\",\n        \"isActive\": true,\n        \"isSettleable\": false}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}/ledgerAccountTypes",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}"
									],
									"path": [
										"ledgerAccountTypes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get participants List central_ledger/participants",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThese are the requests that only HUB operator can run.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "admin-api-tests",
					"item": [
						{
							"name": "Get participants List",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Participant",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payerfsp}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Hub Account",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"Hub",
										"accounts"
									]
								}
							},
							"response": []
						},
						{
							"name": "11. Get Endpoints",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Cache-Control",
										"value": "no-cache"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"payerfsp",
										"endpoints"
									]
								},
								"description": "Generated from a curl request: \ncurl -i -X POST     http://test-central-ledger.mojaloop.test/admin/participants/testfsp2/initialPositionAndLimits     -H 'Cache-Control: no-cache'     -H 'Content-Type: application/json'     -d '{\n    \\\"currency\\\": \\\"USD\\\",\n    \\\"limit\\\": {\n      \\\"type\\\": \\\"NET_DEBIT_CAP\\\",\n      \\\"value\\\": 1000\n    },\n    \\\"initialPosition\\\": 0\n  }'"
							},
							"response": []
						},
						{
							"name": "Get - limits - All FSPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									},
									{
										"key": "currency",
										"value": "{{currency}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/limits?type=NET_DEBIT_CAP",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"limits"
									],
									"query": [
										{
											"key": "currency",
											"value": "{{currency}}",
											"disabled": true
										},
										{
											"key": "type",
											"value": "NET_DEBIT_CAP"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get payerfsp position",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.variables.set(\"payerfspPositionBeforeTransfer\", jsonData[0].value);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payerfsp}}",
										"positions"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThese are the requests that only HUB operator can run.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "SettlementWindows",
					"item": [
						{
							"name": "200 - ValidRequest - OpenWindowById",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"//Input Variables",
											"pm.variables.set(\"iptSettlementWindowId\", \"2\");",
											"",
											"//Expected Ouput values",
											"pm.variables.set(\"optSettlementWindowId\", 2);",
											"pm.variables.set(\"optSettlementWindowState\", \"PENDING_SETTLEMENT\");"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Expected Settlement Window Id should be: \"+pm.variables.get(\"optSettlementWindowId\"), function () {",
											"    pm.expect(jsonData.settlementWindowId).to.eql(pm.variables.get(\"optSettlementWindowId\"));",
											"});",
											"",
											"pm.test(\"Expected Settlement State should be PENDING_SETTLEMENT\", function () {",
											"    pm.expect(jsonData.state).to.eql(pm.variables.get(\"optSettlementWindowState\"));",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{optSettlementWindowId}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{optSettlementWindowId}}"
									]
								},
								"description": "Happy path test"
							},
							"response": []
						},
						{
							"name": "200 - Window- state (OPEN)-643a",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is OPEN\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('OPEN');",
											"    });",
											"}",
											"pm.environment.set(\"openSettlementWindowId\",jsonData[0].settlementWindowId);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "OPEN",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "400 - Bad Request-CloseWindow",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"state\": \"CLOSE\",\n  \"reason\": \"TESTING\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openSettlementWindowId}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{openSettlementWindowId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "200 - param - state (SETTLED)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is SETTLED\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('SETTLED');",
											"    });",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=SETTLED",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "SETTLED",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala"
				}
			]
		},
		{
			"name": "tear_down_setup",
			"item": [
				{
					"name": "remove-un_necessary-environment-vars",
					"item": [
						{
							"name": "Sample request",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.environment.unset('jrsassign');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "google.com",
									"host": [
										"google",
										"com"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
					"",
					"    // Get Token for Hub Operator",
					"    let authHeader = btoa(`${pm.environment.get('HUB_OPERATOR_CONSUMER_KEY')}:${pm.environment.get('HUB_OPERATOR_CONSUMER_SECRET')}`);",
					"    let getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('HUB_OPERATOR_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Payerfsp",
					"    authHeader = btoa(`${pm.environment.get('PAYERFSP_CONSUMER_KEY')}:${pm.environment.get('PAYERFSP_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('PAYERFSP_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Payeefsp",
					"    authHeader = btoa(`${pm.environment.get('PAYEEFSP_CONSUMER_KEY')}:${pm.environment.get('PAYEEFSP_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('PAYEEFSP_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp1",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP1_CONSUMER_KEY')}:${pm.environment.get('TESTFSP1_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP1_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp2",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP2_CONSUMER_KEY')}:${pm.environment.get('TESTFSP2_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP2_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp3",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP3_CONSUMER_KEY')}:${pm.environment.get('TESTFSP3_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP3_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp4",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP4_CONSUMER_KEY')}:${pm.environment.get('TESTFSP4_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP4_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for NoResponsePayeeFSP",
					"    authHeader = btoa(`${pm.environment.get('NORESPONSEPAYEEFSP_CONSUMER_KEY')}:${pm.environment.get('NORESPONSEPAYEEFSP_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('NORESPONSEPAYEEFSP_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"}",
					"",
					"if(!pm.environment.get('jrsassign')) {",
					"    pm.sendRequest('http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js', function (err, response) {",
					"        pm.environment.set('jrsassign', response.text());",
					"    });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}