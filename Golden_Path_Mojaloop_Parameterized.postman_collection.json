{
	"info": {
		"_postman_id": "006d037b-e0f1-4f82-be43-45910f6520ca",
		"name": "Golden_Path_Mojaloop_Parameterized",
		"description": "Author: Sridevi Miriyala\nDescription: Golden Path Tests using Mojaloop Simulators",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "funds in before all transfers",
			"item": [
				{
					"name": "Deposit Funds in Settlement Account - SIMPAYER",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "894eb17a-4f1d-41d2-a5db-b289070ecc32",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const payerfspGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIMPAYER_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYER_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0a12c533-f7d7-483f-a93b-6bca61f443a8",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const payerfspGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var payerfspSettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
									"                payerfspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        } ",
									"        var payerfspExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(payerfspSettlementAccountBalanceAfterFundsIn).to.eql(payerfspExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYER_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 3000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIMPAYER_NAME}}",
								"accounts",
								"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - SIMPAYEE",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7e08ab80-a5f1-4fa2-9eae-9949c943174d",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const payeefspGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIMPAYEE_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(payeefspGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYEE_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "fce70f60-66d9-43d2-8c90-81a1583abb33",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const payeefspGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYEE_NAME\")+'/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(payeefspGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var payeefspSettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
									"                payeefspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var payeefspExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIMPAYEE_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(payeefspSettlementAccountBalanceAfterFundsIn).to.eql(payeefspExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIMPAYEE_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIMPAYEE_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts/{{{{SIMPAYEE_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIMPAYEE_NAME}}",
								"accounts",
								"{{{{SIMPAYEE_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - SIM1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7ca3d5fb-c6b5-4107-8c43-acf6e3db9365",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const testfsp1GetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM1_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(testfsp1GetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM1_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM1_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "628cc2e5-64cf-4e6f-8cd4-8cb9f4e911d5",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const testfsp1GetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM1_NAME') + '/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(testfsp1GetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var testfsp1SettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM1_CURRENCY')) {",
									"                testfsp1SettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var testfsp1ExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIM1_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(testfsp1SettlementAccountBalanceAfterFundsIn).to.eql(testfsp1ExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM1_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIM1_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts/{{{{SIM1_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIM1_NAME}}",
								"accounts",
								"{{{{SIM1_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - SIM2",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "faf30983-7d2d-4383-89c7-755432ca8577",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const testfsp2GetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM2_NAME') + '/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(testfsp2GetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM2_CURRENCY')) {",
									"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}SettlementAccountId`,jsonData[i].id)",
									"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM2_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "52526b77-e8e3-417a-b687-4488133faf51",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const testfsp2GetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/' + pm.environment.get('SIM2_NAME') + '/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(testfsp2GetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var testfsp2SettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('SIM2_CURRENCY')) {",
									"                testfsp2SettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var testfsp2ExpectedBalance = Number((pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettlementAccountBalanceBeforeFundsIn`) - pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        pm.test(`Final ${pm.environment.get('SIM2_NAME')} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
									"            pm.expect(testfsp2SettlementAccountBalanceAfterFundsIn).to.eql(testfsp2ExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('SIM2_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = Number((pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')).toFixed(4));",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{SIM2_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts/{{{{SIM2_NAME}}SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{SIM2_NAME}}",
								"accounts",
								"{{{{SIM2_NAME}}SettlementAccountId}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "feature-tests",
			"item": [
				{
					"name": "p2p_money_transfer",
					"item": [
						{
							"name": "p2p_happy_path_RECEIVE_quote",
							"item": [
								{
									"name": "Download JWS Signature Generation Package",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7ac820f1-bb98-4d17-87db-54f3b20eef85",
												"exec": [
													"",
													"pm.environment.set(\"jrsassign\", pm.response.text());",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js",
											"protocol": "http",
											"host": [
												"kjur",
												"github",
												"io"
											],
											"path": [
												"jsrsasign",
												"jsrsasign-latest-all-min.js"
											]
										}
									},
									"response": []
								},
								{
									"name": "Add SIMPAYEE_MSISDN to SIMPAYEE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "1ecacc74-e411-4b42-825b-469be9115abb",
												"exec": [
													"pm.environment.set('fullName', 'PayeeFirst PayeeLast');",
													"pm.environment.set('firstName', 'PayeeFirst');",
													"pm.environment.set('middleName', 'PayeeMiddle');",
													"pm.environment.set('lastName', 'PayeeLast');",
													"pm.environment.set('dob', '2010-10-10');"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "62741e84-d543-4458-8c80-b1c8a315b632",
												"exec": [
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204, 500]);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"{{fullName}}\",\n    \"firstName\": \"{{firstName}}\",\n    \"middleName\": \"{{middleName}}\",\n    \"lastName\": \"{{lastName}}\",\n    \"dateOfBirth\": \"{{dob}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{SIMPAYEE_MSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{SIMPAYEE_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{SIMPAYEE_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party in payeefsp. So that GET /parties can be successful."
									},
									"response": []
								},
								{
									"name": "Get Party - MSISDN",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dccca803-1bcd-43ca-a580-a9e93b0acc01",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check data on payee side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be application/vnd.interoperability.parties+json;version=1.0`, function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept should be application/vnd.interoperability.parties+json;version=1`, function () {",
													"            pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.parties\\+json;version=1(\\.0)?/);",
													"        });",
													"        ",
													"        pm.test.skip(`${pm.environment.get('SIMPAYEE_NAME')} FSPIOP-URI to be /parties`, function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties');",
													"        });",
													"        ",
													"        pm.test.skip(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is GET`, function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('GET');",
													"        });",
													"        ",
													"       } else {",
													"           pm.test(`Parties FAILED - ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 2000)",
													"",
													"//Check data on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.parties+json;version=1.0`, function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        ",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"SIMPAYEE_MSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        //pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /parties/MSISDN/${pm.environment.get(\"pathfinderMSISDN\")}`, function () {",
													"        //    pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"pathfinderMSISDN\"));",
													"        //});",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"        //Checking data",
													"        var jsonData = response.json().data;",
													"       pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedFirstName\"), function () {",
													"           pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedDOB\"));",
													"        });  ",
													"        ",
													"       } else {",
													"           pm.test(`Parties FAILED - ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 2000)",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "456cdb1a-bd96-43e5-bc89-e40676a677ad",
												"exec": [
													"pm.variables.set('expectedFullName', 'PayeeFirst PayeeLast');",
													"pm.variables.set('expectedFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedLastName', 'PayeeLast');",
													"pm.variables.set('expectedDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.parties+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.parties+json;version=1.0"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "",
												"value": "",
												"type": "text",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{SIMPAYEE_MSISDN}}",
											"host": [
												"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
											],
											"path": [
												"parties",
												"MSISDN",
												"{{SIMPAYEE_MSISDN}}"
											]
										},
										"description": "Author: Sridevi Miriyala\n\nThe payer is requesting the information of the payee. The response shd include payee's firstname, lastname, DOB."
									},
									"response": []
								},
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "f26fd60d-bda6-49e6-aa4d-e4d1fbac1dd2",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "39c29224-5189-49ee-ad4f-3e7f7a916ed3",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - RECEIVE",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "db9befbb-3973-426e-8ff7-adf516402f8d",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payeefspId as request`, function () {",
													"                  pm.expect(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/ ${pm.environment.get(\"transfer_ID\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       pm.test(`${pm.environment.get('SIMPAYER_NAME')} does not receive additional final notification`, function () {",
													"            pm.expect(response.text()).to.eql('');",
													"        });",
													"       ",
													"      ",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "3faa391c-0325-4983-9160-724ccb62b38c",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Transfer_SEND_quote",
							"item": [
								{
									"name": "Get SIMPAYER position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4e2f695a-5458-4137-a2d5-1a1377588dec",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"pm.environment.set(\"variable_key\", \"variable_value\");",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransferhp`, jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payerfsp before the transfer and will save this value in a variable  payerfspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Get SIMPAYEE position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0e52c153-a2a6-4b9a-9c39-b068694b33ea",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransferhp`, jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payeefsp before the transfer and will save this value in a variable  payeefspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Send Quote - SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "63ef8428-92c7-448b-b3ba-77fe44b8b8d3",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "7acbf5c3-f772-4f79-b899-3d0e0503be23",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/`+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - SEND",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6849eb9b-92f8-4034-9d38-724b0bab0cf2",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYEE_NAME')}Id as request`, function () {",
													"                  pm.expect(`${pm.environment.get('SIMPAYEE_NAME')}`);",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"SIMPAYER_CURRENCY\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/{{transfer_ID}}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       pm.test(`${pm.environment.get('SIMPAYEE_NAME')} does not receive additional final notification`, function () {",
													"            pm.expect(response.text()).to.eql('');",
													"        });",
													"       ",
													"      ",
													"    });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ea78db85-879b-4af9-b129-9fecce203ae0",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get SIMPAYER position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fe96e0c7-35d6-41ad-8b39-576440c102d6",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var expectedamount = Number.parseFloat(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransferhp`)) + Number.parseFloat(10);",
													"//expectedamount = expectedamount.toFixed(2);",
													"console.log(expectedamount);",
													"//console.log(jsonData[0].value);",
													"/*if (pm.environment.get('ENV') === 'uat0') {",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[1].value).to.eql(Number(expectedamount));",
													"});",
													"}else{",
													"    ",
													"    pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[0].value).to.eql(Number(expectedamount));",
													"});",
													"}*/",
													"",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(jsonData[i].value).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payerfsp should change, we will get the current position for payerfsp and compare this value against initial payerfsp position captured in:  payerfspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								},
								{
									"name": "Get SIMPAYEE position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "364b0417-929d-4a4b-9db0-4abb5d9b32f2",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"var expectedamount = Number.parseFloat(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransferhp`)) - Number.parseFloat(10);",
													"//expectedamount = expectedPayerAccountBalanceAfterSettlementx.toFixed(2);",
													"/*console.log(expectedamount);",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(Number(jsonData[0].value)).to.eql(Number(expectedamount));",
													"});*/",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(Number(jsonData[i].value)).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payeefsp should change, we will get the current position for payeefsp and compare this value against initial payeefsp position captured in:  payeefspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "a4d06bfc-e8fe-4359-8230-53ab0e2a9d65",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "79b84e47-4665-4f15-9d52-bd8393eac454",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "post_scenarios",
					"item": [
						{
							"name": "positive",
							"item": [
								{
									"name": "Add party to SIMPAYEE - MSISDN",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "97fc0403-3a12-4e0b-ab7f-0ab48c916e57",
												"exec": [
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204,500]);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"PayeeFirst PayeeLast\",\n    \"firstName\": \"PayeeFirst\",\n    \"middleName\": \"PayeeMiddle\",\n    \"lastName\": \"PayeeLast\",\n    \"dateOfBirth\": \"2010-10-10\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{SIMPAYEE_MSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{SIMPAYEE_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{SIMPAYEE_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party"
									},
									"response": []
								},
								{
									"name": "Post scenarios - MSISDN - SIMPAYER to SIMPAYEE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "50637bfc-098e-4e16-8b54-d9cde0270978",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "f410d546-e870-4570-a6bb-3abffd59095f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(`Payer name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(`payer idValue is ${pm.environment.get('SIMPAYER_MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('SIMPAYER_MSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.environment.get('SIMPAYEE_MSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.environment.get('SIMPAYEE_MSISDN'));",
													"});",
													"",
													"pm.test(`payee fspId is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.fspId).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"});",
													"",
													"pm.test(`payee First name is ${pm.variables.get('expectedPayeeFirstName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.firstName).to.eql(pm.variables.get('expectedPayeeFirstName'));",
													"});   ",
													"",
													"pm.test(`payee Last name is ${pm.variables.get('expectedPayeeLastName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.lastName).to.eql(pm.variables.get('expectedPayeeLastName'));",
													"});",
													"",
													"pm.test(\"payee DOB is 2010-10-10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"  pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json(); ",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													" });  ",
													" ",
													" pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"// pm.test(`quote Id is ${pm.environment.get('quoteId')} `, function () {",
													"//     var jsonData = pm.response.json();",
													"    ",
													"//     pm.expect(jsonData.scenario1.result.quoteResponse.quoteId).to.eql(pm.environment.get('quoteId'));",
													"// });",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"  pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"  ",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Qupte request ILP packet is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"  ",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} Fee amount is 0`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fee currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} Commission amount is 0`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"  ",
													"// Scenario 2 tests",
													"",
													"pm.test(`payer fsp name is ${pm.variables.get('payerName')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													" ",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"   ",
													"pm.test(`Payer MSISDN is ${pm.environment.get('SIMPAYER_MSISDN')} `, function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.from.idValue).to.eql(pm.environment.get('SIMPAYER_MSISDN'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`${pm.environment.get('SIMPAYEE_NAME')}ReceiverMSISDN Value is ${pm.environment.get('SIMPAYEE_MSISDN')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idValue).to.eql(pm.environment.get('SIMPAYEE_MSISDN'));",
													"});",
													"",
													"pm.test(`fspId is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.fspId).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeFirst\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeLast \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"Date of Birth of the MSISDN is 2010-10-10 \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('SIMPAYER_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"    ",
													"pm.test(\" Transfer amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"   ",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"   ",
													"pm.test(\"note is test payment\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment\");",
													"});",
													"   ",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"  ",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}` , function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('SIMPAYEE_CURRENCY')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('SIMPAYEE_CURRENCY'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"  ",
													"  //Check Headers for parties endpoint on payee side",
													"  setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"        // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"        //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"        // });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} content-type should be application/vnd.interoperability.parties+json;version=1.0`, function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} accept should be application/vnd.interoperability.parties+json;version=1.0`, function () {",
													"            pm.expect(headers['accept']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} date cannot be null`, function () {",
													"            pm.expect(headers['date']).to.not.eql(undefined);",
													"        });",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"           ",
													"      }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        ",
													"        pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.parties+json;version=1.0`, function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"SIMPAYEE_MSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"SIMPAYEE_MSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be pm.environment.get('SIMPAYER_NAME')`, function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /parties/MSISDN/${pm.environment.get(\"SIMPAYEE_MSISDN\")}`, function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"SIMPAYEE_MSISDN\"));",
													"        });",
													"        ",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"      //Checking data",
													"      var jsonData = response.json().data;",
													"        pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"        });",
													"        pm.test(\"Expected partyIdentifier is \"+pm.environment.get('SIMPAYEE_MSISDN'), function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('SIMPAYEE_MSISDN'));",
													"        });",
													"        pm.test(`Expected fspId is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"          pm.expect(jsonData.party.partyIdInfo.fspId).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"        });",
													"        ",
													"      pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedPayeeFirstName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedPayeeFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedPayeeLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedPayeeLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"        });  ",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"        }",
													"    });",
													"}, 100)",
													"",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} content-type is same as sent in the request`, function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
													"                  pm.expect(jsonData.transferId).to.eql(transferID);",
													"                });",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYER_NAME')} as request`, function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same ${pm.environment.get('SIMPAYEE_NAME')} as request`, function () {",
													"                  pm.expect(jsonData.payeeFsp).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get('SIMPAYER_CURRENCY'));",
													"                });",
													"                // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                // });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`On ${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`On ${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"SIMPAYEE_FSPIOP_SIGNATURE\"));",
													"            // });",
													"           ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes transfers`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"              pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIMPAYER_NAME}}",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIMPAYEE_NAME}}",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"{{payerName}}\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{SIMPAYER_MSISDN}}\"\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{SIMPAYEE_MSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{SIMPAYER_CURRENCY}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{SIMPAYER_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{SIMPAYER_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala\nDescription: Contains scripts that test with post /scenarios on majaloop sim backend",
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "block_transfer",
					"item": [
						{
							"name": "GET limits - SIMPAYER",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d79fb0ce-4697-4c16-8666-af60c5b9ea93",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"jsonData.forEach( ndcPerCurrency => {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}${ndcPerCurrency.currency}NDC`, `${ndcPerCurrency.limit.value}`)",
											"})",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/limits",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"limits"
									]
								},
								"description": "review the payerfsp limits/NDC"
							},
							"response": []
						},
						{
							"name": "GET limits - SIMPAYEE",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b5364662-26de-4f4a-b3fa-bc7d32f6f24f",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"var payeeNDC = jsonData[0].limit.value",
											"pm.environment.set('payeeNDC',payeeNDC)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/limits",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"limits"
									]
								},
								"description": "review payeefsp limits/NDC"
							},
							"response": []
						},
						{
							"name": "Get SIMPAYER position before TheTransfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "741406a0-0986-4696-a34d-65c1eb2a6a7a",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"/*var result;",
											"",
											"jsonData.forEach( entry => {(entry.currency === pm.environment.get(\"currency\")) ? result = entry.value: result =",
											" undefined})",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, result);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"*/",
											"",
											"// for (var i in jsonData){",
											"//     if(jsonData[i].currency === pm.environment.get('currency')) {",
											"//   pm.test(\"Atleast one account position should be returned\", function () {",
											"//     pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, jsonData[i].value);",
											"//     pm.expect(jsonData).to.be.not.empty;",
											"//   });",
											"//     }",
											"   ",
											"// }",
											"",
											"jsonData.forEach(positionPerCurrency => {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}${positionPerCurrency.currency}PositionBeforeTransfer`, positionPerCurrency.value);",
											"})",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"positions"
									]
								},
								"description": "view payerfsp current position before sending the transfer"
							},
							"response": []
						},
						{
							"name": "Get SIMPAYEE position before TheTransfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e0ef5850-328d-4458-9f15-5c8c7f34700b",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"/*var result;",
											"",
											"jsonData.forEach( entry => {(entry.currency === pm.environment.get(\"currency\")) ? result = entry.value: result =",
											" undefined})",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(\"payeefspPositionBeforeTransfer\", result);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
											"  pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransfer`, jsonData[i].value);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"  });",
											"    }",
											"   ",
											"}",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"positions"
									]
								},
								"description": "Get payeefsp current position before sending the transfer"
							},
							"response": []
						},
						{
							"name": "Send Quote",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5113a014-59d1-4fa2-ab39-e61bba5953ff",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8fa98210-63f5-44e4-8ebf-e8b58f3b5f03",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')}  accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
											"            });",
											"           ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Block Transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "053207ce-d70a-48e2-8511-8433d0e20af1",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// pm.test(\"Check that Content-Type is present\", function () {",
											"//     pm.response.to.have.header(\"Content-Type\");",
											"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
											"// });",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              var jsonData = response.json().data;",
											"              var headers = response.json().headers;",
											"              pm.test(\"Error Code should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('4001');",
											"              });",
											"              pm.test(\"Error Description should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payer FSP insufficient liquidity');",
											"              });",
											"              pm.test(\"fspiop-source is switch\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"",
											"            pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(\"accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-signature is present\", function () {",
											"                pm.expect(headers['fspiop-signature']).to.not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"pm.environment.set('transferAmount', 100);",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a4c5c1dc-f1f7-415a-8e77-8293e634cf96",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"pm.environment.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000));",
											"",
											"var payerfspDefCurNDC = `${pm.environment.get('SIMPAYER_NAME')}${pm.environment.get('SIMPAYER_CURRENCY')}NDC`;",
											"var payerfspDefCurPositionBeforeTransfer = `${pm.environment.get('SIMPAYER_NAME')}${pm.environment.get('SIMPAYER_CURRENCY')}PositionBeforeTransfer`;",
											"",
											"var amount = Number(pm.environment.get(payerfspDefCurNDC))-Number(pm.environment.get(payerfspDefCurPositionBeforeTransfer))+100;",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": `${amount}`,",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/transfers",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								},
								"description": "send a tranfer request with ilp packet and condition that are generated in quotes response along with expiry, fspiop source,fspiop destination, amount and currency."
							},
							"response": []
						},
						{
							"name": "Get SIMPAYER position after the transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "68304d1b-969c-464c-82df-2090158366b9",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"/*pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(jsonData[0].value).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`));",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
											"  pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(jsonData[i].value).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}${pm.environment.get('SIMPAYER_CURRENCY')}PositionBeforeTransfer`));",
											"  });",
											"    }",
											"   ",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"positions"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SIMPAYEE position after the transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d6b4f515-cf6d-4a11-8896-146f917edcf7",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"/*pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(Number(jsonData[0].value)).to.eql(Number(pm.environment.get(\"payeefspPositionBeforeTransfer\")));",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === pm.environment.get('SIMPAYEE_CURRENCY')) {",
											"  pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(Number(jsonData[i].value)).to.eql(Number(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransfer`)));",
											"  });",
											"    }",
											"   ",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYEE_NAME}}",
										"positions"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThis features testes, if a transfer is blocked when position of a participant exceeds the Net Debit Cap for the transfer amount.\n\nSTEPS:\n\nGET Limits\nGET Positions for payer and payee\nset amount=(NDC-P) + 10\nPOST Quotes - send to payee that responds COMMITTED\nPOST Transfers-Prepare\n      -Payerfsp should get error msg \"insufficient liquidity in payerfsp to perform transfer \" \nGET positions - \n  current payer position = prev position \n  current payee position = prev position \n(Failure of the transfer due to insufficient liquidity from payerfsp, results no change in positions)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "36827f39-fed1-49c0-a573-87f19efeb067",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "ecf796c6-50f7-42fb-92ac-065bc85e3cd8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "get_transfers",
					"item": [
						{
							"name": "Send Quote",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "922da4d3-7646-4b2d-aeef-043209679374",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
											"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3bd070b2-707d-4a07-8636-62c121f7928a",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be {pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
											"            });",
											"           ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f64f0e67-6130-43f3-9956-6050b8c2bff7",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// //Check the request that Switch forwards to payeefsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
											"                });",
											"                ",
											"                ",
											"                //Check the data",
											"                var jsonData = response.json().data;",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {",
											"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {",
											"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payeefspId as request`, function () {",
											"                  pm.expect(pm.environment.get('SIMPAYEE_NAME'));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {",
											"                  pm.expect(jsonData.amount.amount).to.eql('10');",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {",
											"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"SIMPAYEE_CURRENCY\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {",
											"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {",
											"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
											"                });",
											"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {",
											"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"  });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "cae66c65-09c7-418a-b331-4ca8812ef463",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
											"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "GET transfer - COMMITTED",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "35fd1452-3c0f-4266-a67e-6b6b5559ae92",
										"exec": [
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "31939174-f40a-4b69-940f-3f0329a0b232",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1300)",
											"",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{SIMPAYEE_NAME}}",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Source is original receiver",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "82c18ab1-7ed5-4653-bf53-10fe819a2f7b",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "80999bc3-b049-49be-9c8f-0d223684d612",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not null`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Transfer State is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"              });",
											"              ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/{{SIMPAYER_NAME}}/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"//           if(response.responseSize !== 0) {",
											"//             //Checking headers",
											"//             var headers = response.json().headers;",
											"//             pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp accept is empty\", function () {",
											"//                 pm.expect(headers['accept']).to.eql(undefined);",
											"//             });",
											"            ",
											"//         //    pm.test(\"fspiop-signature is returned\", function () {",
											"//          //       pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"SIMPAYEE_FSPIOP_SIGNATURE\"));",
											"//         //    });",
											"        ",
											"//           pm.test(\"fspiop-signature is returned\", function () {",
											"//             pm.expect(headers['fspiop-signature']).to.eql(undefined);",
											"//           });",
											"           ",
											"            ",
											"//          /*   pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
											"//                 pm.expect(headers['fspiop-uri']).to.include('/transfers');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });*/",
											"            ",
											"//             var jsonData = response.json().data;",
											"//             pm.test(\"Error Code should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"//               });",
											"//               pm.test(\"Error Description should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorDescription).to.eql('Provided Transfer ID was not found on the server.');",
											"//               });",
											"//           } else {",
											"//               pm.test(\"Transfer FAILED\", function () {",
											"//                 throw new Error('Did not receive response');",
											"//               });",
											"//               // postman.setNextRequest(null)",
											"//           }",
											"//   });",
											"// }, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYEE_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.participants+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYEE_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						},
						{
							"name": "Source is not part of original sender/receiver",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d1cbf3ad-c04b-4646-ba44-7d6199292ee6",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "550155d7-ddbf-4293-8342-af1f92dc34f1",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not null`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Error Code should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"              });",
											"              pm.test(\"Error Description should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Generic client error');",
											"              });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"//           if(response.responseSize !== 0) {",
											"//             //Checking headers",
											"//             var headers = response.json().headers;",
											"//             pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp accept is empty\", function () {",
											"//                 pm.expect(headers['accept']).to.eql(undefined);",
											"//             });",
											"            ",
											"//         //    pm.test(\"fspiop-signature is returned\", function () {",
											"//          //       pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"SIMPAYEE_FSPIOP_SIGNATURE\"));",
											"//         //    });",
											"        ",
											"//           pm.test(\"fspiop-signature is returned\", function () {",
											"//             pm.expect(headers['fspiop-signature']).to.eql(undefined);",
											"//           });",
											"           ",
											"            ",
											"//          /*   pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
											"//                 pm.expect(headers['fspiop-uri']).to.include('/transfers');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });*/",
											"            ",
											"//             var jsonData = response.json().data;",
											"//             pm.test(\"Error Code should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"//               });",
											"//               pm.test(\"Error Description should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorDescription).to.eql('Provided Transfer ID was not found on the server.');",
											"//               });",
											"//           } else {",
											"//               pm.test(\"Transfer FAILED\", function () {",
											"//                 throw new Error('Did not receive response');",
											"//               });",
											"//               // postman.setNextRequest(null)",
											"//           }",
											"//   });",
											"// }, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIM1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.participants+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIM1_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						},
						{
							"name": "200 - 3208 - TransferId not found",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "eeda4f55-ae21-4b19-a0d7-6b0b25cbd743",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "bdd9d0e4-0cf9-401a-8db8-2a6b9c85eb1d",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch`, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}/error`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"nonExistingtransferID\")+'/error');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not null`, function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Error Code should be returned 3208\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"              });",
											"              pm.test(\"Error Description Transfer ID not found should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Transfer ID not found - Provided Transfer ID was not found on the server.');",
											"              });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.participants+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{nonExistingtransferID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{nonExistingtransferID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "funds_out",
					"item": [
						{
							"name": "Reserve&Commit",
							"item": [
								{
									"name": "Record Funds Out Prepare&Reserve- SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e29adcf0-f88d-4304-a5c3-f96bf8e5cb2e",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutPrepareReserveTransferId', generatedUUID);",
													"pm.environment.set('fundsOutPrepareReserveAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
													"  method: 'GET',",
													"  header: {",
													"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"      \"FSPIOP-Source\": \"hub_operator\",",
													"      \"Content-Type\": \"application/json\"",
													"  }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for(var i in jsonData) {",
													"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountId`,jsonData[i].id)",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`,jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
													"  method: 'GET',",
													"  header: {",
													"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"      \"FSPIOP-Source\": \"hub_operator\",",
													"      \"Content-Type\": \"application/json\"",
													"  }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for(var i in jsonData) {",
													"        if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutPrepare\",jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "c5e08e68-9a8a-4db9-abb7-b33e186c2b57",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": \"hub_operator\",",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutPrepare",
													"        for(var i in jsonData) {",
													"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = -(-Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`))- Number(pm.environment.get(\"fundsOutPrepareReserveAmount\")))",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should decrease by the transfer amount`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutPrepare).to.eql(payerfspExpectedBalance);",
													"          });    ",
													"    ",
													"    });",
													"    ",
													"    const hubGetStatusRequest = {",
													"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutPrepare",
													"        for(var i in jsonData) {",
													"            if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutPrepare\")//-pm.environment.get(\"fundsOutPrepareReserveAmount\")",
													"        pm.test(\"Final Hub Reconciliation Account Balance should stay the same in prepare phase\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutPrepare).to.eql(hubExpectedBalance);",
													"          });  ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"transferId\": \"{{fundsOutPrepareReserveTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsOutPrepareReserve\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsOutPrepareReserveAmount}},\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Prepare&Reserve - transferStatus",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "19969ca3-215a-4c4e-83b8-45389d8b06e0",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "b7240397-f0aa-429f-bc69-2f52215a6212",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"SIMPAYER_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"SIMPAYER_NAME\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"                ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be RESERVED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"RESERVED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    });",
													"}, 2000);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								},
								{
									"name": "Record Funds Out Commit - SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "782a2228-b716-4a01-b40a-5ec9d9512615",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutCommitTransferId', generatedUUID);",
													"pm.environment.set('fundsOutCommitAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": \"hub_operator\",",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutCommit`, jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": \"hub_operator\",",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutCommit\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "400f1456-bfda-4405-bc2a-9e36129933e8",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutCommit = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutCommit`)//-pm.environment.get(\"fundsOutPrepareAmount\")",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should not change during commit phase`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutCommit).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutCommit = jsonData[i].value",
													"            }",
													"        }",
													"        console.log(`hubReconAccountBalanceBeforeFundsOutCommit: ${Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutCommit\"))}`);",
													"        console.log(`fundsOutCommitAmount: ${Number(pm.environment.get(\"fundsOutCommitAmount\"))}`);",
													"",
													"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutCommit\")) - Number(pm.environment.get(\"fundsOutCommitAmount\"))",
													"        pm.test(\"Final Hub Reconciliation Account Balance should decrease by the transfer amount\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutCommit).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"action\": \"recordFundsOutCommit\",\n  \"reason\": \"Reason for out flow of funds\"\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{{{SIMPAYER_NAME}}SettlementAccountId}}",
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Commit - transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "414eabe7-b98c-4add-ad4f-f7c86892e437",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "5ecc427f-d41f-4092-a826-8a46dd174546",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": \"hub_operator\",",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-destination is ${pm.environment.get(\"SIMPAYER_NAME\")}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get(\"SIMPAYER_NAME\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Reserve&Abort",
							"item": [
								{
									"name": "Record Funds Out Prepare&Reserve- SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "223a4d90-6b43-4849-9aa4-5aea86c47b52",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutPrepareReserveTransferId', generatedUUID);",
													"pm.environment.set('fundsOutPrepareReserveAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountId`, jsonData[i].id)",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`, jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutPrepare\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "2c76c9d9-1807-4c7b-8a78-8398208b362c",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutPrepare",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = -(-Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`)) - Number(pm.environment.get(\"fundsOutPrepareReserveAmount\")))",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should decrease by the transfer amount`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutPrepare).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutPrepare",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutPrepare\")//-pm.environment.get(\"fundsOutPrepareReserveAmount\")",
													"        pm.test(\"Final Hub Reconciliation Account Balance should stay the same in prepare phase\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutPrepare).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"transferId\": \"{{fundsOutPrepareReserveTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsOutPrepareReserve\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsOutPrepareReserveAmount}},\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Prepare&Reserve - transfer status (BUG)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "5ece0a76-4780-4ad8-a49e-496d850b9da9",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "4cd1ec66-b685-41fb-b2ec-e471b50cd1cd",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"SIMPAYER_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get('SIMPAYER_NAME')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be RESERVED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"RESERVED\");",
													"              }); ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								},
								{
									"name": "Record Funds Out Abort - SIMPAYER",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "36e518be-841c-45c9-9fc9-67757a623ead",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutCommitAmount', 1000);",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutAbort`, jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutAbort\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "dd2d904a-2386-407d-9b31-49f1c9bbc455",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"SIMPAYER_NAME\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutAbort",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutAbort = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettlementAccountBalanceBeforeFundsOutPrepare`)//-pm.environment.get(\"fundsOutPrepareAmount\")",
													"        pm.test(`Final ${pm.environment.get('SIMPAYER_NAME')} Settlement Account Balance should rollback to the value before Prepare`, function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutAbort).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
													"                hubReconAccountBalanceAfterFundsOutAbort = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutAbort\"))",
													"        pm.test(\"Final Hub Reconciliation Account Balance should not change\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutAbort).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"action\": \"recordFundsOutAbort\",\n  \"reason\": \"Reason for out flow of funds\"\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{payerfspSettlementAccountId}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"accounts",
												"{{payerfspSettlementAccountId}}",
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG)Record Funds Out Abort - transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "2ac57285-9a49-438b-b291-581f794d2da3",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "5f524572-d900-4063-853e-4e901415b95b",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not empty`, function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get(\"fundsOutPrepareReserveTransferId\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"ABORTED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "funds_in",
					"item": [
						{
							"name": "Record Funds In - prepare",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "faddb98f-e6ea-4fbb-a741-29d2d8469e3b",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
											"pm.environment.set('fundsInPrepareAmount', 5000);",
											"",
											"",
											"const payerfspGetStatusRequest = {",
											"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
											"  method: 'GET',",
											"  header: {",
											"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"      \"Content-Type\": \"application/json\"",
											"  }",
											"};",
											"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
											"    console.log(response.json())",
											"    var jsonData = response.json()",
											"    for(var i in jsonData) {",
											"        if((jsonData[i].ledgerAccountType === 'SETTLEMENT') && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}SettlementAccountId`,jsonData[i].id)",
											"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}SettlementAccountBalanceBeforeFundsIn`,jsonData[i].value)",
											"        }",
											"    }",
											"});",
											"",
											"const hubGetStatusRequest = {",
											"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
											"  method: 'GET',",
											"  header: {",
											"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"      \"Content-Type\": \"application/json\"",
											"  }",
											"};",
											"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
											"    console.log(response.json())",
											"    var jsonData = response.json()",
											"    for(var i in jsonData) {",
											"        if((jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
											"        }",
											"    }",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e11f3ea6-e69e-4708-a0a9-9d52e950c9a6",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"    const payerfspGetStatusRequest = {",
											"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"SIMPAYER_NAME\")+'/accounts',",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    };",
											"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
											"        console.log(`${pm.environment.get(\"SIMPAYER_NAME\")} accounts: `,response.json())",
											"        var jsonData = response.json()",
											"        var payerfspSettlementAccountBalanceAfterFundsIn",
											"        for(var i in jsonData) {",
											"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"                payerfspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
											"            }",
											"        }",
											"        var payerfspExpectedBalance = -(-Number(pm.environment.get(`${pm.environment.get(\"SIMPAYER_NAME\")}SettlementAccountBalanceBeforeFundsIn`)) + Number(pm.environment.get('fundsInPrepareAmount')))",
											"        pm.test(`Final ${pm.environment.get(\"SIMPAYER_NAME\")} Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount`, function () {",
											"            pm.expect(payerfspSettlementAccountBalanceAfterFundsIn).to.eql(payerfspExpectedBalance);",
											"          });    ",
											"    ",
											"    });",
											"    ",
											"    const hubGetStatusRequest = {",
											"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    };",
											"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
											"        console.log('hub accounts balance: ',response.json())",
											"        var jsonData = response.json()",
											"        var currentHubReconAccountBalance",
											"        for(var i in jsonData) {",
											"            if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION'  && (jsonData[i].currency === pm.environment.get(\"SIMPAYER_CURRENCY\"))) {",
											"                hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
											"            }",
											"        }",
											"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\"))+Number(pm.environment.get('fundsInPrepareAmount'))",
											"        console.log(hubExpectedBalance)",
											"        pm.test(\"Final Hub Reconciliation Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
											"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
											"          });  ",
											"    });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": \"{{fundsInPrepareAmount}}\",\n    \"currency\": \"{{SIMPAYER_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts/{{{{SIMPAYER_NAME}}SettlementAccountId}}",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"accounts",
										"{{{{SIMPAYER_NAME}}SettlementAccountId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Record Funds In - prepare transfer status",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f1a195af-bfd3-4020-a59a-e72a475cfa41",
										"exec": [
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "cb98f205-1037-440e-af0e-39d5002cd7e6",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"    ",
											"    const getTransferResponse = {",
											"      url: pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsInPrepareTransferId\"),",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"SIMPAYER_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"SIMPAYER_NAME\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    }",
											"    pm.sendRequest(getTransferResponse, function (err, response) {",
											"        if(response.responseSize !== 0) {",
											"            ",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-source is switch `, function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-destination is ${pm.environment.get(\"SIMPAYER_NAME\")}`, function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql(`${pm.environment.get(\"SIMPAYER_NAME\")}`);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} accept is empty`, function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-signature is not empty`, function () {",
											"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"                });",
											"            ",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-uri includes /transfers/${pm.environment.get(\"fundsInPrepareTransferId\")}`, function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsInPrepareTransferId\"));",
											"            });",
											"            ",
											"            pm.test(`${pm.environment.get(\"SIMPAYER_NAME\")} fspiop-http-method is PUT`, function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data",
											"            pm.test(\"Transfer State should be COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
											"            });   ",
											"            ",
											"        } else {",
											"            pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"            });",
											"            // postman.setNextRequest(null)",
											"        }",
											"    ",
											"    });",
											"}, 4000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{SIMPAYER_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{SIMPAYER_NAME}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsInPrepareTransferId}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{fundsInPrepareTransferId}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "settlement_management",
					"item": [
						{
							"name": "SETTLE  settlement",
							"item": [
								{
									"name": "Setup Settlement",
									"item": [
										{
											"name": "Setup Accounts",
											"item": [
												{
													"name": "Activate currency Account",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "3d724ceb-1771-4c90-8ec3-6c3a381a3949",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"const fsps = [pm.environment.get(\"SIMPAYER_NAME\"),pm.environment.get(\"SIMPAYEE_NAME\"),pm.environment.get(\"SIM1_NAME\"),pm.environment.get(\"SIM2_NAME\")];",
																	"",
																	"pm.response.json().map(participant => {",
																	"    if(fsps.include(participant.name)) {",
																	"       const participantGetRequest = {",
																	"          url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name,",
																	"          method: 'GET',",
																	"          header: {",
																	"              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"              \"Content-Type\": \"application/json\"",
																	"          }",
																	"        };",
																	"        pm.sendRequest(participantGetRequest, function (err, response) {",
																	"            if(response.responseSize !== 0) {",
																	"                response.json().accounts.map(account => {",
																	"                    const url = pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name+'/accounts/'+account.id;",
																	"                    const header =  {",
																	"                          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                          \"Content-Type\": \"application/json\"",
																	"                      };",
																	"                    if(account.currency === pm.environment.get('SIMPAYER_CURRENCY')) {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": true",
																	"                            }",
																	"                        };",
																	"                    } else {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": false",
																	"                            }",
																	"                        };",
																	"                    }",
																	"                })",
																	"            } else {",
																	"                pm.test(\"Request FAILED\", function () {",
																	"                    throw new Error('Did not receive response');",
																	"                });",
																	"                // postman.setNextRequest(null)",
																	"            }",
																	"        }); ",
																	"    }",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "hub_operator",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants"
															]
														}
													},
													"response": []
												}
											],
											"description": "Activate only XOF accounts and disable rest of the accounts",
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Create Settlement on the current open window",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "191fcbe7-2382-4e66-910d-4201ea203033",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "hub_operator",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "64c31e70-83bf-46f2-97d2-fb7ad93d55b2",
																"exec": [
																	"pm.test(\"Status code is 200 or 400 error window is empty\", function () {",
																	"    if (pm.response.code === 400){",
																	"        pm.expect(pm.response.code).to.equal(400);",
																	"    } else {",
																	"        pm.expect(pm.response.code).to.equal(200);",
																	"    }",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN or current should be empty\", function () {",
																	"    if (pm.response.code === 400) {",
																	"        pm.expect(pm.response.json().errorInformation.errorCode).to.eql('3100');",
																	"        pm.expect(pm.response.json().errorInformation.errorDescription).to.eql('Generic validation error - Window ' + pm.environment.get(\"openWindowID\") + ' is empty');",
																	"        postman.setNextRequest('testfsp1_balances_storeAccts');",
																	"    } else {",
																	"        var jsonData = pm.response.json();",
																	"        ",
																	"        pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"        pm.expect(jsonData.settlementWindowId).not.equal(undefined);",
																	"        pm.environment.set(\"openWindowID\", jsonData.settlementWindowId);",
																	"        pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"        console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"        console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"        ",
																	"    }",
																	"});",
																	"",
																	"// pm.test(\"New window State should be OPEN\", function () {",
																	"//     pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"//     pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"//     pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"//     console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"//     console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"// });"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "4defbb67-7146-4150-9bdf-7304c3816581",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"settlementModel\": \"DEFERREDNET\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}\n"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												},
												{
													"name": "Prepare Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "7c5a4bd7-aa92-4a9d-a63b-1d73afe3c6ab",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers recorded for payer\",",
																	"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Reserve Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "c5f23515-d826-4c86-9d5b-ff3bb6c7c6fd",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers reserved\",",
																	"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Commit Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "61cc3c07-561f-4b09-8d9b-982b626f0216",
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers committed\",",
																	"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Settle Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "4860deaa-4fc3-4158-b8ab-93bcdfed94ac",
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers settled for payer\",",
																	"                                          \"state\": \"SETTLED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												}
											],
											"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "c6af692e-6f12-4d5c-b02a-153b1450805c",
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "2b7503f3-4e57-4c6a-92aa-bf069a8438e4",
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Store Settlement&Position Account Balances Before Transfers",
											"item": [
												{
													"name": "SIM1 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "0328a5f6-8987-40e2-a927-5058642fb530",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM1_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM1_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"    /*        pm.test(\"testfsp1 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM1_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIM2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "3d4de307-6266-469b-98a9-c8d865a6e1fd",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM2_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIM2_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"    /*        pm.test(\"testfsp2 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM2_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYER balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "a0725252-28bd-4f03-b6a4-2b97812240b1",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYER_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"     /*       pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance is 0`, function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYER_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYEE balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "4affb9f7-87d1-4089-9266-132de31a1979",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYEE_NAME\")}SettleAccountBalanceBeforeTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get(\"SIMPAYEE_NAME\")}PositionAccountBalanceBeforeTransfer`, curAccount.value);",
																	"       /*     pm.test(\"payeefsp position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYEE_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "HUB balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "b3b32c4e-8a1c-4877-9ce7-8e30a8f565ce",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {",
																	"            pm.environment.set(\"hubReconciliationAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {",
																	"            pm.environment.set(\"hubMultilateralAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"Hub",
																"accounts"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Run Quote & Transfers",
											"item": [
												{
													"name": "Send Quote 1 (SIM1 to SIM2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "28c28348-fe87-4d92-86f4-a0c8219534cc",
																"exec": [
																	"  var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\": pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM1_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM2_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"60\",",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "73ecbe37-9b4a-4782-8ebd-6f55d4831413",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\") + \"/requests/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"\r",
																	"            //Check the Headers\r",
																	"            var headers = response.json().headers;\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"            });\r",
																	"\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null)\r",
																	"        }\r",
																	"    });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\") + \"/callbacks/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"\r",
																	"            var { signature, protectedHeader } = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"\r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:', decodedProtectedHeaders)\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\" + pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/' + pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"\r",
																	"            var jsonData = response.json().data;\r",
																	"\r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response condition is not null\", function () {\r",
																	"                pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"                pm.environment.set(\"condition\", jsonData.condition);\r",
																	"            });\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on Payer side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null);\r",
																	"        }\r",
																	"\r",
																	"    });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 1 (SIM1 to SIM2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "b0bdcc15-0569-4d1d-909b-3b77a29267c9",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"60\",\r",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "948a05e4-a315-4bf0-a6d4-e90915ac1297",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 2 (SIM1 to SIMPAYEE)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "fde0c29f-8f61-47e1-a3b4-b484bdc8fbb1",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM1_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"55\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "315d0bab-32b6-4963-bcbf-2fa89c604d2a",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 2 (SIM1 to SIMPAYEE)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "9f67b917-c5cc-4e74-a6c4-9266cae8c9b0",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"55\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "f6af4e12-97c6-4165-ba7a-f85ba3bf993a",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('55');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 3 (SIMPAYER to SIM1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "12fa7795-a27d-4449-91f7-1a4f51ba19fb",
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM1_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIM1_NAME')\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM1_CURRENCY')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "2ef158c6-a550-47f2-9d0c-c9cc2cd4bc5c",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp1JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 3 (SIMPAYER to SIM1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "46ebe2a7-e056-4fca-9f25-4145b1e4b0df",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM1_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIM1_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM1_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "98377b2b-77b6-4bfd-86e4-6fff35055ec6",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same payerfspId as request`, function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same testfsp1Id as request`, function () {\r",
																	"                  pm.expect(pm.environment.get('SIM1_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM1_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM1_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 4 (SIM2 to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "0622ff6f-0d5b-418e-b6a2-1934718ad5ec",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM2_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIM2_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"20\",",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM2_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "4711225a-1205-4770-b317-86203022e01b",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get(\"SIM2_NAME\")}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get(\"SIM2_NAME\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} fspiop-destination is ${pm.environment.get(\"SIM2_NAME\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get(\"SIM2_NAME\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get(\"SIM2_NAME\")}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get(\"SIM2_NAME\"));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get(\"SIM2_NAME\")} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															},
															{
																"key": "x-forwarded-for",
																"type": "text",
																"value": "34.245.65.70",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 4 (SIM2 to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "86f06455-27e5-468e-8fdb-76ad5ed3236a",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM2_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIM2_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"20\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM2_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "e34f79c2-a4de-4f37-8ada-0eb20e4aa7c4",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('20');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIM2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 5 (SIMPAYEE to SIM2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "fa8eeb40-2372-4abb-b597-ea1cb2f483cc",
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIM2_NAME')\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "3c67871e-c533-4570-b112-d66c2a7f385f",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 5 (SIMPAYEE to SIM2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "b33a4a5c-528f-4b4b-bb3d-037e25dd0369",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "ec18362b-4a71-4647-b2b0-8d1103c1ef8a",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIM2_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 6  (SIMPAYEE to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "c1bb94e7-9f29-4017-b556-17236aca32ac",
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),\r",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "49eba105-3bf1-4ec4-89d8-995ba4d3d88a",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /quotes`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 6 (SIMPAYEE to SIMPAYER)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "c3c26659-eeed-4515-99dd-6cf7701a735d",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
																	"  \"payeeFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('SIMPAYER_CURRENCY')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "ab90596d-ad48-4532-b7d7-70b46ec94d41",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-typeis same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is POST`, function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers`, function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same transferId as request`, function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same payeefspId as request`, function () {\r",
																	"                  pm.expect(jsonData.payeeFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same payerfspId as request`, function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same amount as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('25');\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same currency as request`, function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same expiration as request`, function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same ilpPacket as request`, function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} data should have the same condition as request`, function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is empty`, function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Create Settlement",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "32075fa9-67cf-4c41-b046-baee0369934d",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "6ef743c6-6b45-452d-a42b-bf398f7dd427",
																"exec": [
																	"pm.test(\"Status code is 200 or 400 error window is empty\", function () {",
																	"    if (pm.response.code === 400){",
																	"        pm.expect(pm.response.code).to.equal(400);",
																	"    } else {",
																	"        pm.expect(pm.response.code).to.equal(200);",
																	"    }",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN or current should be empty\", function () {",
																	"    if (pm.response.code === 400) {",
																	"        pm.expect(pm.response.json().errorInformation.errorCode).to.eql('3100');",
																	"        pm.expect(pm.response.json().errorInformation.errorDescription).to.eql('Generic validation error - Window ' + pm.environment.get(\"openWindowID\") + ' is empty');",
																	"        postman.setNextRequest('testfsp1_balances_storeAccts');",
																	"    } else {",
																	"        var jsonData = pm.response.json();",
																	"        ",
																	"        pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"        pm.expect(jsonData.settlementWindowId).not.equal(undefined);",
																	"        pm.environment.set(\"openWindowID\", jsonData.settlementWindowId);",
																	"        pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"        console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"        console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"        ",
																	"    }",
																	"});",
																	"",
																	"// pm.test(\"New window State should be OPEN\", function () {",
																	"//     pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"//     pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"//     pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"//     console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"//     console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"// });"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "434c9a3a-fd38-47e6-b5b9-dff3479870d0",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Associated number of participants should be 4 \", function () {",
																	"    pm.expect(jsonData.participants.length).to.eql(4);",
																	"});",
																	"",
																	"for(var j in jsonData.participants) {",
																	"    for(var k in jsonData.participants[j].accounts) {",
																	"        console.log(jsonData.participants[j].accounts[k].id)",
																	"        if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}AccountId`))) {",
																	"            console.log(`${pm.environment.get('SIMPAYER_NAME')}NetSettlementAmount:`,jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}NetSettlementAmount`,jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        } else if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}AccountId`))) {",
																	"            console.log(`${pm.environment.get('SIMPAYEE_NAME')}NetSettlementAmount:`,jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}NetSettlementAmount`,jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        }",
																	"        ",
																	"    }",
																	"}",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"settlementModel\": \"DEFERREDNET\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Store Settlement&Position Account Balances After Transfers",
											"item": [
												{
													"name": "SIM1 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "ab3f50a5-6864-4f15-ac33-34a9014893a5",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM1_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIM2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "23f4ef1c-e152-4d0b-bd88-f72d78ee4894",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIM2_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYER balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "cc50d35b-00d7-4035-af1e-2662926cecd2",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYER_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "SIMPAYEE balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "3ce48478-43ca-4b8b-850e-dcd8a4d532c5",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceAfterTransfer`, curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"{{SIMPAYEE_NAME}}",
																"accounts"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Prepare Settlement",
									"item": [
										{
											"name": "Prepare Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "418b0dd3-91ca-4309-8bb6-df3ecd872e5b",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers recorded for payer\",",
															"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         console.log(jsonData.participants[j].accounts[k].id)",
															"//         if(jsonData.participants[j].accounts[k].currency === pm.environment.get('currency')) {",
															"//             const participantPutRequest = {",
															"//               url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"//               method: 'PUT',",
															"//               header: {",
															"//                   \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"//                   \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"//                   \"Content-Type\": \"application/json\"",
															"//               },",
															"//               body: {",
															"//                 mode: 'raw',",
															"//                 raw: JSON.stringify(",
															"//                     {",
															"//                       \"participants\": [",
															"//                         {",
															"//                           \"id\": jsonData.participants[j].id,",
															"//                           \"accounts\": [",
															"//                             {",
															"//                               \"id\": jsonData.participants[j].accounts[k].id,",
															"//                               \"reason\": \"Transfers recorded for payer\",",
															"//                               \"state\": \"PS_TRANSFERS_RECORDED\"",
															"//                             }",
															"//                           ]",
															"//                         }",
															"//                       ]",
															"//                     }",
															"//                 )",
															"//               }",
															"//             };",
															"//             pm.sendRequest(participantPutRequest, function (err, response) {",
															"//                 console.log(response.json());",
															"//             });",
															"//         }",
															"",
															"",
															"//     }",
															"// }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "8c70e9c1-98ad-4a03-8049-f3e7a0160f22",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RECORDED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RECORDED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         pm.test(`Participant Account ${jsonData.participants[j].accounts[k].id} state is PS_TRANSFERS_RECORDED`, function () {",
															"//             pm.expect(jsonData.participants[j].accounts[k].state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"//         });",
															"//     }",
															"// }",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "a61f467f-323e-4e0d-ba48-6548b4249486",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterPrepare;",
															"var testfsp1PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceAfterTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "12d5c3fd-d562-4126-8f55-f455fed6406f",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterPrepare;",
															"var testfsp2PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance before and  after prepare should be the same.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceAfterTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "8d32dde0-bd49-4f6d-ac3e-b32193bd45b2",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterPrepare;\r",
															"var payerfspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance before and  after prepare should be the same.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceAfterTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "cc2a2b8f-db47-4076-93d8-d3a5ab4aa5a3",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterPrepare;\r",
															"var payeefspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after prepare should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance before and  after prepare should be the same.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceAfterTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Reserve Settlement",
									"item": [
										{
											"name": "Reserve Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f60c1ec7-abe6-4aee-a45e-2d98fc60f3fe",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers reserved\",",
															"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "8bf562d3-a495-479d-a815-c08097870db2",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \" + pm.environment.get('settlementId'), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RESERVED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RESERVED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "69f8cb8d-bae7-450e-a2ff-d81f922b0335",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterReserve;",
															"var testfsp1PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after reserve should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance before and  after reserve should be the same.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceAfterTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "6be35f75-3f20-4969-b2c2-89322bcab9c8",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterReserve;",
															"var testfsp2PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after reserve should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance after reserve gets increased by its net settlement  amount.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "225ac01f-6061-48e2-ab8e-cd65f0d327f5",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterReserve;\r",
															"var payerfspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance after reserve gets increased by its net settlement  amount.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "80cdbc1a-49f1-4004-80b8-0410b19492c9",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterReserve;\r",
															"var payeefspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance before and  after reserve should be the same.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Commit Settlement",
									"item": [
										{
											"name": "Commit Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "6f774dc8-7cfe-4885-b937-33c847a22e3e",
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers committed\",",
															"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "dd68bc4a-5a26-48b0-ae10-aec43bee6cc1",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_COMMITTED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(xofAccount => {",
															"                        pm.test(`Participant Account ${xofAccount.id} state is PS_TRANSFERS_COMMITTED`, function () {",
															"                            pm.expect(xofAccount.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "56ce940b-a77e-4ff7-bd50-66550beac9a9",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterCommit;",
															"var testfsp1PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceAfterTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance after commit should be reduced by its net settlement amount.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "af1d41c2-e4c3-4296-bb41-6bb9c4228467",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance before and after commit should be the same.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f182bbe8-5969-4c5c-a9d7-229bf47ddc8b",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ebb6d6cc-31cb-4702-9802-a59a1e6fc560",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance after commit should be reduced by its net settlement amount.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "hub account balance check",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "85ea25d1-0223-45f0-9754-4f0686bca744",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var hubReconciliationAccountBalanceAfterCommit;\r",
															"var hubMultilateralAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {\r",
															"            hubReconciliationAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {\r",
															"            hubMultilateralAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"hub reconciliation account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubReconciliationAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubReconciliationAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"hub multilateral account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubMultilateralAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubMultilateralAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"Hub",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Settle Settlement",
									"item": [
										{
											"name": "Settle Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "58f094c5-3343-4247-bc79-734cfc3a9cac",
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers settled for payer\",",
															"                                          \"state\": \"SETTLED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "9f39571b-a321-4395-9c00-b88dc8041c63",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be SETTLED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"SETTLED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be SETTLED\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"SETTLED\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is SETTLED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"SETTLED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM1 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ace2af45-49cf-43b4-a7f2-947230f0ef57",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterSettle;",
															"var testfsp1PositionAccountBalanceAfterSettle;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM1_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} settlement account balance before and  after settle should be the same.`, function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterSettle).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM1_NAME')} position account balance before and  after settle should be the same.`, function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterSettle).to.eql(pm.environment.get(`${pm.environment.get('SIM1_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM1_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM1_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIM2 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "b85450fe-b899-47ed-9293-a43bebc98c61",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} settlement account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}SettleAccountBalanceBeforeTransfer`));",
															"});",
															"",
															"pm.test(`${pm.environment.get('SIM2_NAME')} position account balance before and  after commit should be the same.`, function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIM2_NAME')}PositionAccountBalanceBeforeTransfer`));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIM2_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYER settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "97243f7a-707f-4335-a65d-b3d1001cc4f3",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYER_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYER_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "SIMPAYEE settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "09b65f12-a073-41dd-aa63-47427b983dbd",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('SIMPAYEE_CURRENCY'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} settlement account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}SettleAccountBalanceAfterTransfer`));\r",
															"});\r",
															"\r",
															"pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position account balance before and  after commit should be the same.`, function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionAccountBalanceBeforeTransfer`));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"{{SIMPAYEE_NAME}}",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7ea80194-12a4-48a3-ac3b-77ba74cb6622",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "005971b4-6524-4188-9764-0561e8e0dbf6",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "transfer_negative_scenarios",
					"item": [
						{
							"name": "payee_abort",
							"item": [
								{
									"name": "Store SIMPAYER position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bffc571a-60f0-4580-9a3d-8f3d1a65fe3a",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforePrepare`, position.value);",
													"    })",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "09fd2b66-e679-4029-985e-732d5481695f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store SIMPAYEE position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1f381ec9-6cbb-4475-b1a5-014432b3e165",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforePrepare`, position.value);",
													"    })",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "7d0ed652-a16e-4acf-a225-37bff5042528",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "149a7550-ced8-4120-a85c-c27adad17d38",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "af4d2488-cac2-4657-912b-8f9b5cf6d26f",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "f8cbe4d8-f5d9-4f67-97b0-a1edee39d6b2",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"10\",\r",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('validCondition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "855b5f8b-7922-4c1c-aa7e-b77075264f54",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store SIMPAYER position after Prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d5baf4-8e6a-4f49-99e2-36420705b940",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionAfterPrepare`, position.value);",
													"    })",
													"    "
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5db345ac-84d7-41d9-8dc2-daab2e5faca1",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Send Payee Abort",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "2392a57c-6f7b-4bde-b7f0-ef07f48559ec",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"var objPayload = {",
													"  \"fulfilment\": pm.environment.get('validFulfillment'),",
													"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
													"  \"transferState\": \"ABORTED\"",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferResponse\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"console.log(JSON.stringify(signatureObject))",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "71688055-6b72-4545-9598-7d9428bca199",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
													"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers/{{transfer_ID}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferResponse}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Check Transfer status - ABORTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "4cde84d5-00ac-4fd0-b5bf-db2128613cf8",
												"exec": [
													"",
													"   var uuid = require('uuid');",
													"   var generatedUUID = uuid.v4();",
													"   pm.variables.set('transferId', generatedUUID);",
													"   pm.variables.set('transferDate', (new Date()).toUTCString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "dac90a2d-a5b9-4add-8b08-a411ee71ea98",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
													"// });",
													"",
													"/*setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/correlationid/\"+pm.variables.get(\"transfer_ID\"), function (err, response) {",
													"          if(response !== null) {",
													"              var jsonData = response.json();",
													"              ",
													"              pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 3000)*/",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is switch `, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"         /* THIS TEST WAS SUCCESSFUL IN LEGACY SIM   ",
													"            pm.test(\"fspiop-signature is empty\", function () {",
													"             pm.expect(headers['fspiop-signature']).to.eql(undefined);",
													"            });",
													"            */",
													"",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
													"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1300)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check SIMPAYER position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c255bfbd-aa8c-41ff-a138-edf5190bf825",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.test(`${pm.environment.get('SIMPAYER_NAME')} position after Payee ABORT should be same as position before prepare.`, function () {",
													"            pm.expect(position.value).to.equal(Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforePrepare`)));",
													"        });",
													"    })",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "67bbc590-90b5-497c-87c6-b0cf84ed0dcd",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 10000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check SIMPAYEE position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "17dde8b0-3832-4e2d-b231-9b5f5e2476b5",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.test(`${pm.environment.get('SIMPAYEE_NAME')} position after Payee ABORT should be same as position before prepare.`, function () {",
													"            pm.expect(position.value).to.equal(Number(pm.environment.get(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforePrepare`)));",
													"        });",
													"    })",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "4cacf133-4af0-4864-844a-81bb5d499799",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 10000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "payee_invalid_fulfillment",
							"item": [
								{
									"name": "Store SIMPAYER position",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8a311aa6-fd03-4d34-9c07-e5de6a6edcc1",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYER_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.environment.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, position.value);",
													"    })",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e9196080-a01f-45f8-bf43-e6c0c55ba4f0",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store SIMPAYEE position",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a416c11d-25b8-4790-a8c1-296325a6ecc0",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('SIMPAYEE_CURRENCY'))",
													"    .forEach(position => {",
													"        pm.environment.set(`${pm.environment.get('SIMPAYEE_NAME')}PositionBeforeTransfer`, position.value);",
													"    })",
													"    ",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9513673a-367e-42a9-864e-da67591a174c",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYEE_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYEE_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "d51ff451-6316-454a-a4e1-8e1bd6b5fef6",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "d42e0b67-d3be-4b6a-b0a1-40d152232dee",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "317bed53-ff22-4162-93ef-39a44eccac02",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"10\",\r",
													"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "1e29c9cc-481c-450f-b07f-0da545332900",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Payee Invalid Fulfillment",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "f8beb2df-3eaf-4d44-8f07-8ee500540bcd",
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "2570a74a-94a6-4490-8c7f-675483c51958",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"//TODO Need to doublecheck ML Backend functionality in the new release",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"//             //Checking headers",
													"//             var headers = response.json().headers;",
													"//             pm.test(\"payeefsp fspiop-source is switch \", function () {",
													"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-destination is noresponsepayeefsp\", function () {",
													"//                 pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp accept is empty\", function () {",
													"//                 pm.expect(headers['accept']).to.eql(undefined);",
													"//             });",
													"            ",
													"            ",
													"//             pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"//                 pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-signature is not null\", function () {",
													"//                 pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
													"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"//             });",
													"            ",
													"//             var jsonData = response.json().data;",
													"//             pm.test(\"Response Error Code is 3100\", function () {",
													"//               pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"//             });",
													"//             pm.test(\"Response Error Description is Generic validation error - invalid fulfilment\", function () {",
													"//               pm.expect(jsonData.errorInformation.errorDescription).to.eql('Generic validation error - invalid fulfilment');",
													"//             });",
													"//           } else {",
													"//               pm.test(\"Transfer FAILED\", function () {",
													"//                 throw new Error('Did not receive response on payer side');",
													"//               });",
													"//               // postman.setNextRequest(null)",
													"//           }",
													"//   });",
													"// }, 3000)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIMPAYER_NAME}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"fulfilment\": \"{{invalidFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"COMMITTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Transfer status on SIMPAYER - ABORTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "7f51ed41-98d0-4977-8b21-6f9ca681fa54",
												"exec": [
													"",
													"   var uuid = require('uuid');",
													"   var generatedUUID = uuid.v4();",
													"   pm.variables.set('transferId', generatedUUID);",
													"",
													"   pm.variables.set('transferDate', (new Date()).toUTCString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ab5779f9-5e7d-4e34-b6d3-e96e4d767ae1",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
													"// });",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.variables.get(\"transfer_ID\"), function (err, response) {",
													"          if(response !== null) {",
													"              var jsonData = response.json().data;",
													"              ",
													"              pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"              });",
													"              pm.test(\"Extension List value is 3100: Generic validation error - invalid fulfilment\", function () {",
													"                pm.expect(jsonData.extensionList.extension[0].value).to.eql('3100: Generic validation error - invalid fulfilment');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 3000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIMPAYER_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIMPAYER_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIMPAYEE_NAME}}",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check SIMPAYER & SIMPAYEE position",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4aa54f71-54b5-4ec1-9f9a-893f7196a0b7",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(`${pm.environment.get('SIMPAYER_NAME')} position after transfer and after Payee ABORT should be same as position before transfer.`, function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`)));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "7a6043dd-f5c8-4181-bd91-287f80f33918",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 10000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIMPAYER_NAME}}",
												"positions"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ba26b176-0677-450c-992b-72caf2e7c254",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "f0132e0b-717a-411b-b6e4-f0ce306f16eb",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "duplicate_handling",
					"item": [
						{
							"name": "transfers",
							"item": [
								{
									"name": "original_transfer_at_committed",
									"item": [
										{
											"name": "Send Quote - RECEIVE",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "c23aeb23-eb74-4545-9206-6ff3613c1e30",
														"exec": [
															"var navigator = {}; ",
															"var window = {}; ",
															"eval(pm.environment.get('jrsassign'));",
															"",
															"",
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"generatedUUID = uuid.v4();",
															"pm.environment.set('transactionId', generatedUUID);",
															"",
															"pm.variables.set('quoteDate', (new Date()).toUTCString());",
															"pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"",
															"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
															"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
															"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\": pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
															"var sHeader = JSON.stringify(oHeader);",
															"console.log(`sHeader: ${sHeader}`)",
															"",
															"var objPayload = {",
															"  \"quoteId\": pm.environment.get('quoteId'),",
															"  \"transactionId\": pm.environment.get('transactionId'),",
															"  \"payer\": {",
															"    \"partyIdInfo\": {",
															"      \"partyIdType\": \"MSISDN\",",
															"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
															"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
															"    },",
															"    \"personalInfo\": {",
															"      \"complexName\": {",
															"        \"firstName\": \"Mats\",",
															"        \"lastName\": \"Hagman\"",
															"      },",
															"      \"dateOfBirth\": \"1983-10-25\"",
															"    }",
															"  },",
															"  \"payee\": {",
															"    \"partyIdInfo\": {",
															"      \"partyIdType\": \"MSISDN\",",
															"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
															"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
															"    }",
															"  },",
															"  \"amountType\": \"RECEIVE\",",
															"  \"amount\": {",
															"    \"amount\": \"1\",",
															"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
															"  },",
															"  \"transactionType\": {",
															"    \"scenario\": \"TRANSFER\",",
															"    \"initiator\": \"PAYER\",",
															"    \"initiatorType\": \"CONSUMER\"",
															"  },",
															"  \"note\": \"hej\"",
															"}",
															"",
															"var sPayload = JSON.stringify(objPayload)",
															"console.log(`sPayload: ${sPayload}`)",
															"pm.variables.set(\"quoteRequest\", sPayload);",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
															"console.log(`token: ${token}`)",
															"",
															"// var encodedHeaders = btoa(sHeader)",
															"",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
															"// var token = JSON.stringify(ofspiopSignature)",
															"",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');",
															"",
															"const signatureObject = {",
															"    signature: signature.replace('\"', ''),",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
															"};",
															"",
															"console.log(JSON.stringify(signatureObject))",
															"",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "31b6c954-6f9d-42b7-9763-e85849e4f087",
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
															"          if(response.responseSize !== 0) {",
															"              ",
															"              //Check the Headers",
															"              var headers = response.json().headers;",
															"              ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
															"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
															"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
															"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
															"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
															"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
															"                });",
															"                ",
															"          } else {",
															"              pm.test(\"Quote FAILED\", function () {",
															"                throw new Error('Did not receive request on payee side');",
															"              });",
															"              // postman.setNextRequest(null)",
															"          }",
															"   });",
															"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
															"      if(response.responseSize !== 0) {",
															"          //Checking headers",
															"            var headers = response.json().headers;",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
															"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
															"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
															"                pm.expect(headers['accept']).to.eql(undefined);",
															"            });",
															"            ",
															"            ",
															"            ",
															"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
															"            // var strData = JSON.stringify(response.json().data)",
															"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
															"            // console.log(`token: ${token}`)",
															"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
															"            // console.log(`isValid: ${isValid}`)",
															"            // pm.test(\"Check if the response is JWS valid\", function () {",
															"            //     pm.expect(isValid).to.eql(true);",
															"            // });",
															"            ",
															"            //Validate protected header inside Signature",
															"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
															"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
															"            ",
															"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
															"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
															"            });",
															"            ",
															"",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
															"            });",
															"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
															"            });",
															"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
															"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
															"            });",
															"           ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
															"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
															"            });",
															"            ",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
															"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
															"            });",
															"            ",
															"            var jsonData = response.json().data;",
															"            ",
															"            pm.test(\"Response quoteId is  null\", function () {",
															"                pm.expect(jsonData.quoteId).to.eql(undefined);",
															"                ",
															"            });",
															"          ",
															"            pm.test(\"Response ilpPacket is not null\", function () {",
															"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
															"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
															"            });",
															"       ",
															"           pm.test(\"Response condition is not null\", function () {",
															"               pm.expect(jsonData.condition).not.equal(undefined);",
															"               pm.environment.set(\"condition\", jsonData.condition);",
															"           });",
															"      } else {",
															"          pm.test(\"Quote FAILED\", function () {",
															"            throw new Error('Did not receive response on Payer side');",
															"           });",
															"           // postman.setNextRequest(null);",
															"      }",
															"       ",
															"   });",
															"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{SIMPAYER_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "application/vnd.interoperability.quotes+json;version=1"
													},
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.quotes+json;version=1.0"
													},
													{
														"key": "Date",
														"value": "{{quoteDate}}"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{SIMPAYER_NAME}}"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "{{SIMPAYEE_NAME}}"
													},
													{
														"key": "FSPIOP-Signature",
														"type": "text",
														"value": "{{fspiopSignature}}"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"type": "text",
														"value": "POST"
													},
													{
														"key": "FSPIOP-URI",
														"type": "text",
														"value": "/quotes"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{quoteRequest}}"
												},
												"url": {
													"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
													"host": [
														"{{HOST_QUOTING_SERVICE}}"
													],
													"path": [
														"quotes"
													]
												}
											},
											"response": []
										},
										{
											"name": "Send Transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e19a0096-2c38-468e-9a3e-ab5068036cf9",
														"exec": [
															"pm.test(\"Status code is 202\", function () {\r",
															"    pm.response.to.have.status(202);\r",
															"});\r",
															"\r",
															"// //Check the request that Switch forwards to payeefsp\r",
															"setTimeout(function () {\r",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
															"          if(response.responseSize !== 0) {\r",
															"              \r",
															"              //Check the Headers\r",
															"              var headers = response.json().headers;\r",
															"              \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
															"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {\r",
															"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {\r",
															"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {\r",
															"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
															"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {\r",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
															"                });\r",
															"                \r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers`, function () {\r",
															"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
															"                });\r",
															"                \r",
															"                \r",
															"                //Check the data\r",
															"                var jsonData = response.json().data;\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same transferId as request`, function () {\r",
															"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payerfspId as request`, function () {\r",
															"                  pm.expect(jsonData.payerFsp).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same payeefspId as request`, function () {\r",
															"                  pm.expect(pm.environment.get('SIMPAYEE_NAME'));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same amount as request`, function () {\r",
															"                  pm.expect(jsonData.amount.amount).to.eql('1');\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same currency as request`, function () {\r",
															"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same expiration as request`, function () {\r",
															"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same ilpPacket as request`, function () {\r",
															"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
															"                });\r",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} data should have the same condition as request`, function () {\r",
															"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
															"                });\r",
															"                \r",
															"          } else {\r",
															"              pm.test(\"Transfer FAILED\", function () {\r",
															"                throw new Error('Did not receive response on payee side');\r",
															"              });\r",
															"              // postman.setNextRequest(null)\r",
															"          }\r",
															"  });\r",
															"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
															"\r",
															"//Check the callback response that Switch forwards to payerfsp\r",
															"setTimeout(function () {\r",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
															"          if(response.responseSize !== 0) {\r",
															"            //Checking headers\r",
															"            var headers = response.json().headers;\r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')} `, function () {\r",
															"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {\r",
															"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
															"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {\r",
															"                pm.expect(headers['accept']).to.eql(undefined);\r",
															"            });\r",
															"            \r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri includes /transfers/${pm.environment.get('transfer_ID')}`, function () {\r",
															"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);\r",
															"            });\r",
															"            \r",
															"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {\r",
															"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
															"            });\r",
															"            \r",
															"            var jsonData = response.json().data;\r",
															"            pm.test(\"Response data does not have transferId\", function () {\r",
															"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
															"            });\r",
															"            pm.test(\"Response status is COMMITTED\", function () {\r",
															"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
															"            });\r",
															"            pm.test(\"Response fulfillment is not null\", function () {\r",
															"                pm.expect(jsonData.fulfilment).not.eql(undefined);\r",
															"                pm.environment.set('DupTransferFulfillment',jsonData.fulfilment)\r",
															"            });\r",
															"          } else {\r",
															"              pm.test(\"Transfer FAILED\", function () {\r",
															"                throw new Error('Did not receive response on payer side');\r",
															"              });\r",
															"              // postman.setNextRequest(null)\r",
															"          }\r",
															"   });\r",
															"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "ef4bbfb9-d166-4ffb-8071-4dfb6f37af90",
														"exec": [
															"var navigator = {}; //fake a navigator object for the lib\r",
															"var window = {}; //fake a window object for the lib\r",
															"eval(pm.environment.get('jrsassign'));\r",
															"\r",
															"var uuid = require('uuid');\r",
															"var generatedUUID = uuid.v4();\r",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
															"\r",
															"\r",
															"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
															"\r",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
															"\r",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
															"var sHeader = JSON.stringify(oHeader);\r",
															"console.log(`sHeader: ${sHeader}`)\r",
															"\r",
															"var objPayload = {\r",
															"  \"transferId\": pm.environment.get('transfer_ID'),\r",
															"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
															"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
															"  \"amount\": {\r",
															"    \"amount\": \"1\",\r",
															"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
															"  },\r",
															"  \"expiration\": pm.environment.get('transferExpiration'),\r",
															"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
															"  \"condition\": pm.environment.get('condition')\r",
															"}\r",
															"var sPayload = JSON.stringify(objPayload)\r",
															"console.log(`sPayload: ${sPayload}`)\r",
															"pm.variables.set(\"transferRequest\", sPayload);\r",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
															"//console.log(`token: ${token}`)\r",
															"\r",
															"// var encodedHeaders = btoa(sHeader)\r",
															"\r",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
															"// var token = JSON.stringify(ofspiopSignature)\r",
															"\r",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
															"\r",
															"const signatureObject = {\r",
															"    signature: signature.replace('\"', ''),\r",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
															"};\r",
															"\r",
															"console.log(JSON.stringify(signatureObject))\r",
															"\r",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{SIMPAYER_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"type": "text"
													},
													{
														"key": "Date",
														"value": "{{transferDate}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{SIMPAYER_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "{{SIMPAYEE_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Signature",
														"value": "{{fspiopSignature}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-URI",
														"value": "/transfers",
														"type": "text"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"value": "POST",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{transferRequest}}"
												},
												"url": {
													"raw": "{{HOST_SWITCH}}{{BASE_PATH_SWITCH}}/transfers",
													"host": [
														"{{HOST_SWITCH}}{{BASE_PATH_SWITCH}}"
													],
													"path": [
														"transfers"
													]
												}
											},
											"response": []
										},
										{
											"name": "Duplicate Transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f24aaa5e-7f32-4fbc-a032-66d0e77ef32e",
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
															"          if(response.responseSize !== 0) {",
															"           var jsonData = response.json().data;",
															"              var headers = response.json().headers",
															"              pm.test(\"Response data does not have transferId\", function () {",
															"               pm.expect(jsonData.transferId).to.eql(undefined);",
															"             });",
															"          ",
															"              pm.test(\"fspiop-source is switch\", function () {",
															"                pm.expect(headers['fspiop-source']).to.eql('switch');",
															"              });",
															"              ",
															"              pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
															"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
															"              });",
															"              ",
															"              pm.test(\"content-type is application/vnd.interoperability.transfers+json;version=1.0\", function () {",
															"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
															"                });",
															"                ",
															"                pm.test(\"accept is empty\", function () {",
															"                    pm.expect(headers['accept']).to.eql(undefined);",
															"                });",
															"                ",
															"                pm.test(\"fspiop-signature is not null\", function () {",
															"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
															"                });",
															"                ",
															"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
															"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
															"                });",
															"              ",
															"               //Check data    ",
															"             ",
															"              ",
															"              pm.test(\"Response State is COMMITTED\", function () {",
															"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
															"              });",
															"              ",
															"              pm.test(\"Response fulfillmet is same as sent in request'\", function () {",
															"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get('DupTransferFulfillment'));",
															"              });",
															"              ",
															"              ",
															"          } else {",
															"              pm.test(\"Transfer FAILED\", function () {",
															"                throw new Error('Did not receive response on payer side');",
															"              });",
															"              // postman.setNextRequest(null)",
															"          }",
															"   });",
															"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "dc1b1b19-06a1-4bbe-811c-9989e4770812",
														"exec": [
															"var navigator = {}; //fake a navigator object for the lib\r",
															"var window = {}; //fake a window object for the lib\r",
															"eval(pm.environment.get('jrsassign'));\r",
															"\r",
															"var uuid = require('uuid');\r",
															"var generatedUUID = uuid.v4();\r",
															"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
															"\r",
															"\r",
															"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
															"\r",
															"//pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
															"\r",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
															"var sHeader = JSON.stringify(oHeader);\r",
															"console.log(`sHeader: ${sHeader}`)\r",
															"\r",
															"var objPayload = {\r",
															"  \"transferId\": pm.environment.get('transfer_ID'),\r",
															"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),\r",
															"  \"payeeFsp\": pm.environment.get('SIMPAYEE_NAME'),\r",
															"  \"amount\": {\r",
															"    \"amount\": \"1\",\r",
															"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')\r",
															"  },\r",
															"  \"expiration\": pm.environment.get('transferExpiration'),\r",
															"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
															"  \"condition\": pm.environment.get('condition')\r",
															"}\r",
															"var sPayload = JSON.stringify(objPayload)\r",
															"console.log(`sPayload: ${sPayload}`)\r",
															"pm.variables.set(\"transferRequest\", sPayload);\r",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));\r",
															"//console.log(`token: ${token}`)\r",
															"\r",
															"// var encodedHeaders = btoa(sHeader)\r",
															"\r",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
															"// var token = JSON.stringify(ofspiopSignature)\r",
															"\r",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
															"\r",
															"const signatureObject = {\r",
															"    signature: signature.replace('\"', ''),\r",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
															"};\r",
															"\r",
															"console.log(JSON.stringify(signatureObject))\r",
															"\r",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{SIMPAYER_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "application/vnd.interoperability.transfers+json;version=1",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"type": "text"
													},
													{
														"key": "Date",
														"value": "{{transferDate}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Source",
														"value": "{{SIMPAYER_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "{{SIMPAYEE_NAME}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Signature",
														"value": "{{fspiopSignature}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-URI",
														"value": "/transfers",
														"type": "text"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"value": "POST",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{transferRequest}}"
												},
												"url": {
													"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
													"host": [
														"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
													],
													"path": [
														"transfers"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "fulfill_commit",
									"item": [
										{
											"name": "positive",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "97b763bc-52ab-4c6e-9e40-4432b350e9c0",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "a74e6bc7-caa5-4443-b21c-ff62f38e86e5",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "afbb74e7-6c33-4ad4-8de4-10b746ea2ff3",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "24cf338d-723c-4bed-bc05-735684e0503a",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "391f97c6-5ff0-41a3-b8c7-14080d319baf",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "ea2deee3-7560-4d1c-91cd-4b767a6015c1",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                //Uncomment after JWS is implemented",
																	"                // pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
																	"                //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
																	"                // });",
																	"                ",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-type is same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Duplicate Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "42f3ad48-c4cb-4221-afef-e60e4782c7e2",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"//pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`);",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload);",
																	"console.log(`sPayload: ${sPayload}`);",
																	"pm.variables.set(\"transferResponse2\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "d55cc39a-67a1-459f-aa18-a067549edb0d",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"            //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\" content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1300)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse2}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														},
														"description": "Author: Sridevi Miriyala\n\nTo test this feature, since there is no simulator as noresponsepayeefsp, the endpoints for it is set to payeefsp's endpoint. so in the tests, you get the response from payeefsp/callbacks and do assertions."
													},
													"response": []
												},
												{
													"name": "Check Transfer status",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "c2cd7ff3-89f7-49fe-8d6c-28025c3e1bf7",
																"exec": [
																	"",
																	"   pm.variables.set('transferDate', (new Date()).toUTCString());",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "4f96ff1e-c674-4455-9373-e6830528312c",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"            //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\" content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\" fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(` fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1300)",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "negative",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "e04c5ad4-9f3d-479a-84fa-5341be9cf5ef",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "a66c63df-ca9a-44e0-b974-6c0deade57b6",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "056f0015-62f8-4416-a85c-d7a6e147b213",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "f59a863b-a89f-4cac-aa81-f8a19819442d",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "930c61fb-53c4-4735-8363-070fec22aa9f",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "a83044b5-f0b7-433f-a069-8f1918cc140c",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"             //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not empty`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri contains /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              ",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1000)",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Invalid Duplicate Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "7723e73c-faf7-410f-bcf6-2e6188179455",
																"exec": [
																	"pm.variables.set(\"updatedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('invalidFulfillment'),",
																	"  \"completedTimestamp\": pm.variables.get('updatedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "ca8b98c8-cb8f-4ddd-8c4e-ca68202bffb3",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"             //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is not empty`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              ",
																	"              pm.test(\"Response Error Code is 3106\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Modified request'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Modified request');",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1300)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"description": "Send a transfer-prepare from payerfsp to payeefsp\nDo not send transfer-fulfil from payeefsp.\n\nSend a duplicate transfer-prepare with same params.\ncheck the simulator logs to make sure that there should not be any response for the duplicate transfer when the actual transfer is not at terminal state which means neither committed nor aborted but in process.\n\nThis is same as sending duplicate transfer when actual transfer is at ABORTED state.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "1aca2c8f-4ca7-4a21-85bc-a2afb1a78f41",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "9c5d5b33-f193-47c6-a2fc-3333892ca1ca",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "fulfill_reject",
									"item": [
										{
											"name": "positive",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "7cd28fa5-b6b3-4da5-8510-05c6bdd071ee",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "edb26ab1-6437-47cc-b893-c7c62319faa3",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "0becffac-668c-458c-b739-3066197353f7",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "63ea6b78-64f3-47d2-afc1-450aa4db3f2c",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "ec7d4990-9491-47c7-b3f1-5f8c2bacb56b",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "424ae00a-5e50-436e-ba96-dd9d09fc36a4",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type is same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"name": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}/error",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Duplicate Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "2f1dbcb1-c02d-48c8-b514-18b942806200",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "978a4fe4-478c-448a-a04b-075e85af1242",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type is same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{dateHeader}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "negative",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "5fe72aa3-3e53-45a0-a627-e4ca13ea7407",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYER_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYER_NAME')",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('SIMPAYEE_MSISDN'),",
																	"      \"fspId\": pm.environment.get('SIMPAYEE_NAME')",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "e6d4bab5-a65d-43ac-8844-cfe4c55a07ae",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYEE_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-source is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-signature is same as sent in the request`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} accept is same as sent in the request`, function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} content-typeis same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-uri is /quotes`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYEE_NAME')} fspiop-http-method is POST`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-source is ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} accept is empty`, function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIMPAYEE_NAME'));",
																	"            });",
																	"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);",
																	"            });",
																	"            ",
																	"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYEE_NAME}}"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "33251815-cd27-4d8b-a5a9-efec1a9ae2c7",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": pm.environment.get('SIMPAYER_NAME'),",
																	"  \"payeeFsp\": pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('SIMPAYEE_CURRENCY')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYER_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "dc117caf-fd68-40f1-be87-a91eda517ef9",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{SIMPAYER_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "88d07b61-adcf-4266-8bc7-0e1fa73df557",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('NORESPONSE_SIMPAYEE_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYER_NAME'), \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "430ff625-d9d9-4606-91a3-fc7032eecd38",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type is same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 2000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}/error",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Invalid Duplicate Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "a20f20c2-bddd-4daa-960b-966e87ab5335",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIMPAYER_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIMPAYEE_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"This is an invalid duplicate request\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIMPAYEE_JWS_KEY'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "40c9ef20-6824-4ffc-9a10-a85393ceda32",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"SIMPAYER_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(`fspiop-source is ${pm.environment.get('NORESPONSE_SIMPAYEE_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('NORESPONSE_SIMPAYEE_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(`fspiop-destination is ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIMPAYER_NAME'));",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} content-type is same as sent in the request`, function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-signature is not null`, function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSE_SIMPAYEE_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{dateHeader}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{NORESPONSE_SIMPAYEE_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{SIMPAYER_NAME}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"description": "Send a transfer-prepare from payerfsp to payeefsp\nDo not send transfer-fulfil from payeefsp.\n\nSend a duplicate transfer-prepare with same params.\ncheck the simulator logs to make sure that there should not be any response for the duplicate transfer when the actual transfer is not at terminal state which means neither committed nor aborted but in process.\n\nThis is same as sending duplicate transfer when actual transfer is at ABORTED state.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "871a426a-96b7-4b9d-bd0c-57ae5bc737e2",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "aa57bcb0-71ff-4938-a932-b508606c28d7",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Active_Inactive_participants",
					"item": [
						{
							"name": "089 - Active and inactive participant",
							"item": [
								{
									"name": "Update participant (SIM2 to inactive)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0e8cd4e5-108b-49d4-b4ea-61a55e3bfaeb",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": false\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}"
											]
										},
										"description": "Inactives participant testfsp4"
									},
									"response": []
								},
								{
									"name": "(BUG) Send Quote fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "0f5abef1-6e19-4b1f-b29a-5a55e23078b6",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "c354c234-e499-431c-9ff7-31ee89086858",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is switch`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\")+'/error');",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be switch\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('switch');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}/error`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}/error`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Error code is 3201\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3201');",
													"            });",
													"           ",
													"           pm.test(`Error Description is Destination FSP Error - '${pm.environment.get('SIM2_NAME')}' is inactive `, function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include(`Destination FSP Error - Destination FSP Error - '${pm.environment.get('SIM2_NAME')}' is inactive`);",
													"           });",
													"           ",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Send Transfer fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8015142b-2acf-4899-9a4c-69c26412f065",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            ",
													"            pm.test(\"content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}/error}`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
													"            });",
													"            ",
													"            pm.test(\"fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Error code is 3100\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"            });",
													"           ",
													"           pm.test(`Error Description is Generic validation error - Participant ${pm.environment.get('SIM2_NAME')} is inactive`, function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include(`Generic validation error - Participant ${pm.environment.get('SIM2_NAME')} is inactive`);",
													"           });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "34a59446-737a-44d3-aed6-14b076c2208f",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update participant (SIM2 to active)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "af5849cb-9cba-413b-ace4-e7b3ffec7afe",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n              \"isActive\": true\r\n            }"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}"
											]
										},
										"description": "Reactivate participant testfsp4"
									},
									"response": []
								},
								{
									"name": "Send Quote (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "354618df-ea2d-48bb-9027-d303bf835d17",
												"exec": [
													"  var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "a35a1dc2-77fe-48a7-8ce1-94f7f147e787",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Quote FAILED\", function () {\r",
													"                throw new Error('Did not receive request on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
													"      if(response.responseSize !== 0) {\r",
													"          //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            \r",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
													"            // var strData = JSON.stringify(response.json().data)\r",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
													"            // console.log(`token: ${token}`)\r",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
													"            // console.log(`isValid: ${isValid}`)\r",
													"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
													"            //     pm.expect(isValid).to.eql(true);\r",
													"            // });\r",
													"            \r",
													"            //Validate protected header inside Signature\r",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
													"            \r",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
													"            });\r",
													"           \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\")`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            \r",
													"            pm.test(\"Response quoteId is  null\", function () {\r",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
													"                \r",
													"            });\r",
													"          \r",
													"            pm.test(\"Response ilpPacket is not null\", function () {\r",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
													"            });\r",
													"       \r",
													"           pm.test(\"Response condition is not null\", function () {\r",
													"               pm.expect(jsonData.condition).not.equal(undefined);\r",
													"               pm.environment.set(\"condition\", jsonData.condition);\r",
													"           });\r",
													"      } else {\r",
													"          pm.test(\"Quote FAILED\", function () {\r",
													"            throw new Error('Did not receive response on Payer side');\r",
													"           });\r",
													"           // postman.setNextRequest(null);\r",
													"      }\r",
													"       \r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "d32a3f99-9c7e-42fc-a7bf-7214a661d564",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"60\",\r",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "3300ba1a-6035-46fc-8c5c-ac5765490d80",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"// //Check the request that Switch forwards to testfsp2\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
													"                });\r",
													"                \r",
													"                \r",
													"                //Check the data\r",
													"                var jsonData = response.json().data;\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
													"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"  });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
													"\r",
													"//Check the callback response that Switch forwards to testfsp1\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"            //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            pm.test(\"Response data does not have transferId\", function () {\r",
													"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
													"            });\r",
													"            pm.test(\"Response status is COMMITTED\", function () {\r",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
													"            });\r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payer side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "090 - Active and inactive participants accounts",
							"item": [
								{
									"name": "3. Get SIM2 Participant Account",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "9334d235-0b84-41b9-a884-3b2c3dfd6139",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "d87ce019-bf70-40e8-bd80-c9dca71c162f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(account => account.currency === pm.environment.get('SIM2_CURRENCY'))",
													"    .forEach(curAccount => {",
													"        if(curAccount.ledgerAccountType === \"POSITION\") {",
													"            pm.environment.set(`${pm.environment.get('SIM2_NAME')}PositionAccountId`, curAccount.id);",
													"            ",
													"        }",
													"    })",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}",
												"accounts"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update SIM2 to inactive_XOF account",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0ab5b0d2-bf89-43f9-9408-af844968e503",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": false\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts/{{{{SIM2_NAME}}PositionAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}",
												"accounts",
												"{{{{SIM2_NAME}}PositionAccountId}}"
											]
										},
										"description": "inactives testfsp4 position account"
									},
									"response": []
								},
								{
									"name": "Send Quote fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "b613c9fa-666b-4e09-8187-5691d2b94293",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "6feb20bf-ea78-45cd-afc9-558310fce6fc",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is switch`, function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}/error`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}/error`);",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIMPAYEE_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('switch');",
													"            });",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIMPAYER_NAME')}`, function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}/error`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}/error`);",
													"            });",
													"            ",
													"            pm.test(`${pm.environment.get('SIMPAYER_NAME')} fspiop-http-method is PUT`, function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Error code is 5000\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5000');",
													"            });",
													"           ",
													"           pm.test(\"Error Description is Generic validation error - Participant account is inactive \", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic Payee error - Payee does not have any active account');",
													"           });",
													"           ",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Send Transfer fail (SIM1 to SIM2)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f5d1d5a4-bd36-483e-b02e-370ccf3970ab",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(`fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));",
													"            });",
													"            ",
													"            pm.test(\"content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(`fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}/error`, function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get(\"transfer_ID\")}/error`);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Error code is 3100\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"            });",
													"           ",
													"           pm.test(\"Error Description is GENERIC VALIDATION ERROR \", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include(`Generic validation error - Participant ${pm.environment.get('SIM2_NAME')} ${pm.environment.get('SIM2_CURRENCY')} account is inactive`);",
													"           });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "6581963b-7c60-43cc-88a0-4f8cb9ea7533",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update participant (SIM2 to active) account",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f2abbc5d-e86a-4dd9-b8b9-5837591dd4a0",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": true\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIM2_NAME}}/accounts/{{{{SIM2_NAME}}PositionAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{SIM2_NAME}}",
												"accounts",
												"{{{{SIM2_NAME}}PositionAccountId}}"
											]
										},
										"description": "inactives testfsp4 position account"
									},
									"response": []
								},
								{
									"name": "Send Quote (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e6bbdec8-59ba-47a6-9062-88ddadc86a19",
												"exec": [
													"  var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM1_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM1_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM2_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM2_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "dac3be7f-2a07-4a55-ab9f-2684bf655127",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /quotes`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Quote FAILED\", function () {\r",
													"                throw new Error('Did not receive request on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
													"      if(response.responseSize !== 0) {\r",
													"          //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.quotes+json;version=1.0`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            \r",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
													"            // var strData = JSON.stringify(response.json().data)\r",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
													"            // console.log(`token: ${token}`)\r",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
													"            // console.log(`isValid: ${isValid}`)\r",
													"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
													"            //     pm.expect(isValid).to.eql(true);\r",
													"            // });\r",
													"            \r",
													"            //Validate protected header inside Signature\r",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
													"            \r",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Source to be ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            pm.test(`FSPIOP-Signature Protected Header FSPIOP-Destination to be ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
													"            });\r",
													"           \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} FSPIOP-URI to be /quotes/${pm.environment.get(\"quoteId\")}`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/quotes/${pm.environment.get(\"quoteId\")}`);\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            \r",
													"            pm.test(\"Response quoteId is  null\", function () {\r",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
													"                \r",
													"            });\r",
													"          \r",
													"            pm.test(\"Response ilpPacket is not null\", function () {\r",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
													"            });\r",
													"       \r",
													"           pm.test(\"Response condition is not null\", function () {\r",
													"               pm.expect(jsonData.condition).not.equal(undefined);\r",
													"               pm.environment.set(\"condition\", jsonData.condition);\r",
													"           });\r",
													"      } else {\r",
													"          pm.test(\"Quote FAILED\", function () {\r",
													"            throw new Error('Did not receive response on Payer side');\r",
													"           });\r",
													"           // postman.setNextRequest(null);\r",
													"      }\r",
													"       \r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_QUOTES\"))\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer (SIM1 to SIM2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "a3f26032-8577-4b89-ac89-1e9b87f39313",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM1_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM2_NAME'), \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": pm.environment.get('SIM1_NAME'),\r",
													"  \"payeeFsp\": pm.environment.get('SIM2_NAME'),\r",
													"  \"amount\": {\r",
													"    \"amount\": \"60\",\r",
													"    \"currency\": pm.environment.get('SIM2_CURRENCY')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM1_JWS_KEY'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "aa311fcf-ec02-4466-ab47-2367e082c998",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"// //Check the request that Switch forwards to testfsp2\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM2_SDK_INBOUND_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-source is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-destination is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} content-typeis same as sent in the request`, function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} accept is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-signature is same as sent in the request`, function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-http-method is POST`, function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} fspiop-uri is /transfers`, function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
													"                });\r",
													"                \r",
													"                \r",
													"                //Check the data\r",
													"                var jsonData = response.json().data;\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same transferId as request`, function () {\r",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same amount as request`, function () {\r",
													"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same currency as request`, function () {\r",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same expiration as request`, function () {\r",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same ilpPacket as request`, function () {\r",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
													"                });\r",
													"                pm.test(`${pm.environment.get('SIM2_NAME')} data should have the same condition as request`, function () {\r",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"  });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))\r",
													"\r",
													"//Check the callback response that Switch forwards to testfsp1\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"SIM1_SDK_INBOUND_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"            //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-source is ${pm.environment.get('SIM2_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql(pm.environment.get('SIM2_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-destination is ${pm.environment.get('SIM1_NAME')}`, function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('SIM1_NAME'));\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} content-type should be application/vnd.interoperability.transfers+json;version=1.0`, function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} accept is empty`, function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-uri includes /transfers/${pm.environment.get(\"transfer_ID\")}`, function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get(\"transfer_ID\")}`);\r",
													"            });\r",
													"            \r",
													"            pm.test(`${pm.environment.get('SIM1_NAME')} fspiop-http-method is PUT`, function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            pm.test(\"Response data does not have transferId\", function () {\r",
													"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
													"            });\r",
													"            pm.test(\"Response status is COMMITTED\", function () {\r",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
													"            });\r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payer side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, pm.environment.get(\"SET_TIMEOUT_TRANSFERS\"))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM1_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM2_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "api-tests",
			"item": [
				{
					"name": "admin-api-tests",
					"item": [
						{
							"name": "Get participants List",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "54c8a7c7-b29e-4fdb-9710-482aee0d181d",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Participant",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5a448eee-dc6b-4110-b5a5-06ce6ebde6bc",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Hub Account",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cf30dfc6-7cd1-4144-8588-bd0423ffbd81",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"Hub",
										"accounts"
									]
								}
							},
							"response": []
						},
						{
							"name": "11. Get Endpoints",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1ef4a6ac-16fb-446f-930a-0dc8e0f6b126",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Cache-Control",
										"value": "no-cache"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"endpoints"
									]
								},
								"description": "Generated from a curl request: \ncurl -i -X POST     http://test-central-ledger.mojaloop.test/admin/participants/testfsp2/initialPositionAndLimits     -H 'Cache-Control: no-cache'     -H 'Content-Type: application/json'     -d '{\n    \\\"currency\\\": \\\"USD\\\",\n    \\\"limit\\\": {\n      \\\"type\\\": \\\"NET_DEBIT_CAP\\\",\n      \\\"value\\\": 1000\n    },\n    \\\"initialPosition\\\": 0\n  }'"
							},
							"response": []
						},
						{
							"name": "Get - limits - All FSPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d89f38a2-6634-48bc-832e-87f24e51d81a",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									},
									{
										"key": "currency",
										"value": "{{SIMPAYER_CURRENCY}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/limits?type=NET_DEBIT_CAP",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"limits"
									],
									"query": [
										{
											"key": "currency",
											"value": "{{SIMPAYER_CURRENCY}}",
											"disabled": true
										},
										{
											"key": "type",
											"value": "NET_DEBIT_CAP"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SIMPAYER position",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a11057f3-9bb2-4fbe-b65d-aedb1994cc61",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.variables.set(`${pm.environment.get('SIMPAYER_NAME')}PositionBeforeTransfer`, jsonData[0].value);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{hub_operator}}"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{SIMPAYER_NAME}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{SIMPAYER_NAME}}",
										"positions"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThese are the requests that only HUB operator can run.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0a700e5e-a5d9-4691-a0f1-2d0d7e3a6518",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "9f2d78b5-a3b8-462c-b703-e6113d40a705",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Quotes",
					"item": [
						{
							"name": "FN, LN",
							"item": [
								{
									"name": "Send Quote - payerFN missing",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "54fa2a47-7d92-4f82-884d-81abd0fc44c1",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"       ",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "1e6355db-4b6e-40d8-a0d5-b2fef240b976",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3102\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Missing Payer firstName\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - firstName is required`);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - payerLN missing",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "179c88a3-f46c-4879-bfa6-8305a4fb1110",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\"",
													"       ",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ec99c08a-3428-4c6c-9e0e-f8b42bfe2d57",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3102\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"});",
													"",
													"pm.test(\"ERROR Description is Missing Payer lastName\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - lastName is required`);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Invalid payerLN (not a string)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "abff597d-eee7-4c40-b3cc-ea1c11a2a4d3",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"@#4768\"",
													"       ",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "58d6e426-0c4c-4e94-879f-fe80f5f5c47b",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer Lastname\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"lastName\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote Payer personal info missing",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "7ca35b99-e589-448a-81f1-751cfe30aa50",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    ",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "232dbbda-7d5d-4d9c-a050-7e5831ae6281",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3102\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Missing Payer personalInfo\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - PartyPersonalInfo is required`);",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - String payerFN (Mats123) -",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "d7394e00-aa12-4149-9974-5bcc2675d209",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"     \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats123\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"    ",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "e44cb332-8b82-4e3f-823c-5dadddafd3bf",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.quotes+json;version=1.0\");",
													"// });",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - String payerFN (Mats123@#$)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "1ce5c69c-29d7-480b-ba7d-47c9a483b374",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"     \"personalInfo\": {",
													"      \"complexName\": {",
													"         \"firstName\": \"Mats12@#$3\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"    ",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "eb6fa0b1-a3e0-4481-aa5d-43f8d832d03f",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR Description is Malformed Payer firstName\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"firstName\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "DOB",
							"item": [
								{
									"name": "Send Quote - Malformed DOB1",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "66484e33-15e2-4bcf-8dbb-1dbdb4cade08",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-25-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "8c38abb8-9252-4a4c-ade9-e8d25cc00103",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"DateofBirth\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "RECEIVE Quote - empty string in DOB",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "a2e26f04-ba0d-4733-968d-61e399fd7bbc",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "cbb8f3b4-97ba-43b1-98bf-9a2623ccd5bf",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Malformed syntax - Malformed Payer dateOfBirth`);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - null DOB_string",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "095136b0-3f29-493b-9c05-08d98c70f0ce",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"null\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "aa5b7f5e-038d-47b7-818b-3d58c787721f",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"DateofBirth\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - null DOB",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "2c0e1159-e428-4175-ab59-43f7e546362e",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": null",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ca843d30-5f95-4915-a8b7-b8a6dcb1569c",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"DateofBirth\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - invalid DOB format",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "4ffd0d89-5312-4cd8-a955-ec1a1a389506",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983/10/25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "7a21843b-f3b8-4de9-ae8f-f622b5f41a64",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"DateofBirth\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - missing DOB in payer object",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "626c0308-c00d-4321-a0a5-e12f4c721e3d",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"     ",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "90eef149-4ad4-493f-a9b2-14516dc18762",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3102\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Missing Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - dateOfBirth is required`);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Malformed DOB3",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "58b811d9-e946-4cd0-9257-d4b4304b1bee",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"       \"dateOfBirth\": \"abc@3#\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "e5893484-3391-4d35-b987-c99b8aef0f77",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"DateofBirth\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Malformed DOB2",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "582c2483-e143-4be1-8f01-9bc4a28bbd6b",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":pm.environment.get('SIM3_NAME'),\"FSPIOP-Destination\":pm.environment.get('SIM4_NAME'), \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM3_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM3_NAME')",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"       \"dateOfBirth\": \"83-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('SIM4_MSISDN'),",
													"      \"fspId\": pm.environment.get('SIM4_NAME')",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('SIM3_CURRENCY')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('SIM3_JWS_KEY'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "3046e082-5a04-451b-943a-d49a3131a340",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3101\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3101\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"Malformed syntax - \\\"DateofBirth\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{SIM3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{SIM3_NAME}}"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{SIM4_NAME}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "SettlementWindows",
					"item": [
						{
							"name": "200 - ValidRequest - OpenWindowById",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "01d9659d-eed5-40df-a506-306af9ed8fa5",
										"exec": [
											"//Input Variables",
											"pm.variables.set(\"iptSettlementWindowId\", \"2\");",
											"",
											"//Expected Ouput values",
											"pm.variables.set(\"optSettlementWindowId\", 2);",
											"pm.variables.set(\"optSettlementWindowState\", \"PENDING_SETTLEMENT\");"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "1c379ede-e13f-4946-a299-d703a68296f7",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Expected Settlement Window Id should be: \"+pm.variables.get(\"optSettlementWindowId\"), function () {",
											"    pm.expect(jsonData.settlementWindowId).to.eql(pm.variables.get(\"optSettlementWindowId\"));",
											"});",
											"",
											"pm.test(\"Expected Settlement State should be PENDING_SETTLEMENT\", function () {",
											"    pm.expect(jsonData.state).to.eql(pm.variables.get(\"optSettlementWindowState\"));",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{optSettlementWindowId}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{optSettlementWindowId}}"
									]
								},
								"description": "Happy path test"
							},
							"response": []
						},
						{
							"name": "200 - Window- state (OPEN)-643a",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ac1b07fa-e946-4be7-9fe1-9ccd223afdcb",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is OPEN\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('OPEN');",
											"    });",
											"}",
											"pm.environment.set(\"openSettlementWindowId\",jsonData[0].settlementWindowId);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "OPEN",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "400 - Bad Request-CloseWindow",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "023957f7-5d0d-473c-b7ff-60b847a0018c",
										"exec": [
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ca571e06-2110-4154-90ca-470281c9c92a",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"state\": \"CLOSE\",\n  \"reason\": \"TESTING\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openSettlementWindowId}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{openSettlementWindowId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "200 - param - state (SETTLED)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d9670b31-a39b-4304-a012-f0375d567245",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is SETTLED\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('SETTLED');",
											"    });",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=SETTLED",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "SETTLED",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala",
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "tear_down_setup",
			"item": [
				{
					"name": "remove-un_necessary-environment-vars",
					"item": [
						{
							"name": "Sample request",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d9af5f05-b881-4aa7-a56a-558000bb7d33",
										"exec": [
											"pm.environment.unset('jrsassign');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "google.com",
									"host": [
										"google",
										"com"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "fa7971d9-1138-4f0a-ad60-1ae1029a0149",
				"type": "text/javascript",
				"exec": [
					"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
					"",
					"    // Get Token for Hub Operator",
					"    let authHeader = btoa(`${pm.environment.get('HUB_OPERATOR_CONSUMER_KEY')}:${pm.environment.get('HUB_OPERATOR_CONSUMER_SECRET')}`);",
					"    let getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('HUB_OPERATOR_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Payerfsp",
					"    authHeader = btoa(`${pm.environment.get('SIMPAYER_CONSUMER_KEY')}:${pm.environment.get('SIMPAYER_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIMPAYER_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Payeefsp",
					"    authHeader = btoa(`${pm.environment.get('SIMPAYEE_CONSUMER_KEY')}:${pm.environment.get('SIMPAYEE_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIMPAYEE_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp1",
					"    authHeader = btoa(`${pm.environment.get('SIM1_CONSUMER_KEY')}:${pm.environment.get('SIM1_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIM1_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp2",
					"    authHeader = btoa(`${pm.environment.get('SIM2_CONSUMER_KEY')}:${pm.environment.get('SIM2_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('SIM2_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for NoResponsePayeeFSP",
					"    authHeader = btoa(`${pm.environment.get('NORESPONSE_SIMPAYEE_CONSUMER_KEY')}:${pm.environment.get('NORESPONSE_SIMPAYEE_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('NORESPONSE_SIMPAYEE_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"}",
					"",
					"if(!pm.environment.get('jrsassign')) {",
					"    pm.sendRequest('http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js', function (err, response) {",
					"        pm.environment.set('jrsassign', response.text());",
					"    });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "0652316c-934e-420e-930c-e365925c5b77",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}