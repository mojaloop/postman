{
	"info": {
		"_postman_id": "5e974173-50dc-45f7-ac6d-06ac1b7f02bc",
		"name": "Golden_Path_Mojaloop copy",
		"description": "Author: Sridevi Miriyala\nDescription: Golden Path Tests using Mojaloop Simulators",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "funds in before all transfers",
			"item": [
				{
					"name": "Deposit Funds in Settlement Account - Payerfsp",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "cf9c387e-243d-4fba-86a2-6539c53ef8d5",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const payerfspGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/payerfsp/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && jsonData[i].currency === pm.environment.get('currency')) {",
									"            pm.environment.set(\"payerfspSettlementAccountId\",jsonData[i].id)",
									"            pm.environment.set(\"payerfspSettlementAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "c414d734-607b-4422-87ee-fb380eba8822",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const payerfspGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"payerfsp\")+'/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var payerfspSettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('currency')) {",
									"                payerfspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var payerfspExpectedBalance = pm.environment.get('payerfspSettlementAccountBalanceBeforeFundsIn') - pm.environment.get('fundsInPrepareAmount')",
									"        pm.test(\"Final Payerfsp Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
									"            pm.expect(payerfspSettlementAccountBalanceAfterFundsIn).to.eql(payerfspExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{currency}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/accounts/{{payerfspSettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{payerfsp}}",
								"accounts",
								"{{payerfspSettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - Payeefsp",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "6436cccc-0171-41a2-8840-45046eda716d",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const payeefspGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/payeefsp/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(payeefspGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('currency')) {",
									"            pm.environment.set(\"payeefspSettlementAccountId\",jsonData[i].id)",
									"            pm.environment.set(\"payeefspSettlementAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "68e9d0fc-b9cf-43b8-97b7-99507c78333a",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const payeefspGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"payeefsp\")+'/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(payeefspGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var payeefspSettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('currency')) {",
									"                payeefspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var payeefspExpectedBalance = pm.environment.get('payeefspSettlementAccountBalanceBeforeFundsIn') - pm.environment.get('fundsInPrepareAmount')",
									"        pm.test(\"Final payeefsp Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
									"            pm.expect(payeefspSettlementAccountBalanceAfterFundsIn).to.eql(payeefspExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{currency}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payeefsp}}/accounts/{{payeefspSettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"{{payeefsp}}",
								"accounts",
								"{{payeefspSettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - testfsp1",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c0adc25d-e762-42f4-9b82-611d04a71091",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const testfsp1GetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/testfsp1/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(testfsp1GetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('currency')) {",
									"            pm.environment.set(\"testfsp1SettlementAccountId\",jsonData[i].id)",
									"            pm.environment.set(\"testfsp1SettlementAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "6baefec6-bf2e-446c-a84b-9f77f1e57997",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const testfsp1GetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/testfsp1/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(testfsp1GetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var testfsp1SettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('currency')) {",
									"                testfsp1SettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var testfsp1ExpectedBalance = pm.environment.get('testfsp1SettlementAccountBalanceBeforeFundsIn') - pm.environment.get('fundsInPrepareAmount')",
									"        pm.test(\"Final testfsp1 Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
									"            pm.expect(testfsp1SettlementAccountBalanceAfterFundsIn).to.eql(testfsp1ExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{currency}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts/{{testfsp1SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"testfsp1",
								"accounts",
								"{{testfsp1SettlementAccountId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Deposit Funds in Settlement Account - testfsp2",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f63a8bad-ee94-490d-b023-038b6cb88c73",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
									"pm.environment.set('fundsInPrepareAmount', 100000);",
									"",
									"",
									"const testfsp2GetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/testfsp2/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(testfsp2GetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    var jsonData = response.json()",
									"    for(var i in jsonData) {",
									"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('currency')) {",
									"            pm.environment.set(\"testfsp2SettlementAccountId\",jsonData[i].id)",
									"            pm.environment.set(\"testfsp2SettlementAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"        }",
									"    }",
									"});",
									"",
									"const hubGetStatusRequest = {",
									"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"  method: 'GET',",
									"  header: {",
									"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"      \"Content-Type\": \"application/json\"",
									"  }",
									"};",
									"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"    console.log(response.json())",
									"    //var jsonData = response.json()",
									"    response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",account.value))",
									"    // for(var i in jsonData) {",
									"    //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"    //         pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
									"    //     }",
									"    // }",
									"});",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "29264834-3d83-455b-af0a-02b38b75c92b",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"setTimeout(function () {",
									"    const testfsp2GetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/testfsp2/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(testfsp2GetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var testfsp2SettlementAccountBalanceAfterFundsIn",
									"        for(var i in jsonData) {",
									"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && jsonData[i].currency === pm.environment.get('currency')) {",
									"                testfsp2SettlementAccountBalanceAfterFundsIn = jsonData[i].value",
									"            }",
									"        }",
									"        var testfsp2ExpectedBalance = pm.environment.get('testfsp2SettlementAccountBalanceBeforeFundsIn') - pm.environment.get('fundsInPrepareAmount')",
									"        pm.test(\"Final testfsp2 Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
									"            pm.expect(testfsp2SettlementAccountBalanceAfterFundsIn).to.eql(testfsp2ExpectedBalance);",
									"          });    ",
									"    ",
									"    });",
									"    ",
									"    const hubGetStatusRequest = {",
									"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
									"      method: 'GET',",
									"      header: {",
									"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
									"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
									"          \"Content-Type\": \"application/json\"",
									"      }",
									"    };",
									"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
									"        console.log(response.json())",
									"        var jsonData = response.json()",
									"        var currentHubReconAccountBalance",
									"        response.json()",
									"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('currency') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
									"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
									"        // for(var i in jsonData) {",
									"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
									"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
									"        //     }",
									"        // }",
									"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\")+pm.environment.get('fundsInPrepareAmount')",
									"        console.log(hubExpectedBalance)",
									"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
									"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
									"          });  ",
									"    });",
									"}, 2000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{hub_operator}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsInPrepareAmount}},\n    \"currency\": \"{{currency}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
						},
						"url": {
							"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts/{{testfsp2SettlementAccountId}}",
							"host": [
								"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
							],
							"path": [
								"participants",
								"testfsp2",
								"accounts",
								"{{testfsp2SettlementAccountId}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "feature-tests",
			"item": [
				{
					"name": "header v1.1 tests for PATCH response",
					"item": [
						{
							"name": "patch disabled",
							"item": [
								{
									"name": "Send Quote - SEND",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "be869969-22be-4868-ae3b-4b623cc8c3b0",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, 3000)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.1\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.1');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"            });",
													"           ",
													"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"          pm.test(\"Response condition is not null\", function () {",
													"              pm.expect(jsonData.condition).not.equal(undefined);",
													"              pm.environment.set(\"condition\", jsonData.condition);",
													"          });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"          });",
													"          // postman.setNextRequest(null);",
													"      }",
													"       ",
													"  });",
													"}, 13000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0c1a2c41-2310-47aa-93f9-204934c5410a",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "localhost:4000/quotes",
											"host": [
												"localhost"
											],
											"port": "4000",
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - SEND",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a6242c9c-1247-4ee1-9572-626d9b5d15de",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is goldenpayerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect('payeefsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, 1100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is payeefsp \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.1\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 13000)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       pm.test(\"payeefsp does not receive additional final notification\", function () {",
													"            if (response) {",
													"                var jsonData = response.json().data;",
													"                pm.test(\"notification for committed transfer is missing\", function () {",
													"                    pm.expect(jsonData.transferState).to.eql(undefined);",
													"                })",
													"            }",
													"        });",
													"       ",
													"      ",
													"    });",
													"}, 20000)",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "8efdafb5-d283-405e-be37-663d1f2baf88",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": \"payerfsp\",",
													"  \"payeeFsp\": \"payeefsp\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "localhost:3000/transfers",
											"host": [
												"localhost"
											],
											"port": "3000",
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "patch enabled",
							"item": [
								{
									"name": "Send Quote - SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e0f7ba78-6823-4f34-ae5e-80197dd0d3d1",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"// console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "1ab4fb13-cda3-41ff-8b06-554b69002a92",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, 3000)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.1\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.1');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"            });",
													"           ",
													"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"          pm.test(\"Response condition is not null\", function () {",
													"              pm.expect(jsonData.condition).not.equal(undefined);",
													"              pm.environment.set(\"condition\", jsonData.condition);",
													"          });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"          });",
													"          // postman.setNextRequest(null);",
													"      }",
													"       ",
													"  });",
													"}, 13000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "localhost:4000/quotes",
											"host": [
												"localhost"
											],
											"port": "4000",
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "39f35477-927b-41d8-bb02-bc03fdf7d201",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": \"payerfsp\",",
													"  \"payeeFsp\": \"payeefsp\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "adda4ef9-b419-4c2b-b695-416cad038aeb",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is goldenpayerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect('payeefsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, 1000)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is payeefsp \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.1\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 13000)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       if(response.responseSize !== 0) {",
													"",
													"///////",
													"            var headers = response.json().headers;",
													"            pm.test(\"fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"payeefsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.1\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
													"            });",
													"            ",
													"            pm.test(\"payeefsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(\"payeefsp fspiop-http-method is PATCH\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PATCH');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"",
													"",
													"///////",
													"           ",
													"       } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive additional payee notification side');",
													"              });",
													"       }",
													"       ",
													"      ",
													"    });",
													"}, 23000)",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "p2p_money_transfer",
					"item": [
						{
							"name": "p2p_happy_path_RECEIVE_quote",
							"item": [
								{
									"name": "Download JWS Signature Generation Package",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7cebed16-f57f-42f2-b00d-8280e7625e4d",
												"exec": [
													"",
													"pm.environment.set(\"jrsassign\", pm.response.text());",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js",
											"protocol": "http",
											"host": [
												"kjur",
												"github",
												"io"
											],
											"path": [
												"jsrsasign",
												"jsrsasign-latest-all-min.js"
											]
										}
									},
									"response": []
								},
								{
									"name": "Add {{payeefspMSISDN}} to payeefsp",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "d9d3e506-a974-41bf-a78f-5c403732107b",
												"exec": [
													"pm.environment.set('fullName', 'PayeeFirst PayeeLast');",
													"pm.environment.set('firstName', 'PayeeFirst');",
													"pm.environment.set('middleName', 'PayeeMiddle');",
													"pm.environment.set('lastName', 'PayeeLast');",
													"pm.environment.set('dob', '2010-10-10');"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ba7450b1-093e-4c93-aab4-46ede9eacac7",
												"exec": [
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204, 500]);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"{{fullName}}\",\n    \"firstName\": \"{{firstName}}\",\n    \"middleName\": \"{{middleName}}\",\n    \"lastName\": \"{{lastName}}\",\n    \"dateOfBirth\": \"{{dob}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{payeefspMSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{PAYEEFSP_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{PAYEEFSP_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party in payeefsp. So that GET /parties can be successful."
									},
									"response": []
								},
								{
									"name": "Get Party - MSISDN",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "44f04297-9ee6-492a-b836-364be70e861d",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check data on payee side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"payeefsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payeefsp accept should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['accept']).to.match(/application\\/vnd\\.interoperability\\.parties\\+json;version=1(\\.0)?/);",
													"        });",
													"        ",
													"        ",
													"        pm.test.skip(\"payeefsp FSPIOP-URI to be /parties\", function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties');",
													"        });",
													"        ",
													"        pm.test.skip(\"payeefsp fspiop-http-method is GET\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('GET');",
													"        });",
													"        ",
													"        ",
													"        ",
													"       } else {",
													"           pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check data on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"       if(response.responseSize !== 0) { ",
													"       //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp accept is empty\", function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        ",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        //pm.test(\"payerfsp FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"pathfinderMSISDN\"), function () {",
													"        //    pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"pathfinderMSISDN\"));",
													"        //});",
													"        ",
													"        pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"        //Checking data",
													"        var jsonData = response.json().data;",
													"       pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedFirstName\"), function () {",
													"           pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedDOB\"));",
													"        });  ",
													"        ",
													"       } else {",
													"           pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"           });",
													"           ",
													"       }",
													"      ",
													"    });",
													"}, 200)",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c6b7cb40-fc61-41b0-a71d-9edde218a3c5",
												"exec": [
													"pm.variables.set('expectedFullName', 'PayeeFirst PayeeLast');",
													"pm.variables.set('expectedFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedLastName', 'PayeeLast');",
													"pm.variables.set('expectedDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.parties+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.parties+json;version=1.0"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "",
												"value": "",
												"type": "text",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{payeefspMSISDN}}",
											"host": [
												"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
											],
											"path": [
												"parties",
												"MSISDN",
												"{{payeefspMSISDN}}"
											]
										},
										"description": "Author: Sridevi Miriyala\n\nThe payer is requesting the information of the payee. The response shd include payee's firstname, lastname, DOB."
									},
									"response": []
								},
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "8a7547ba-184a-49a9-a04b-aee1258d4fbc",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "f8021e24-39cf-4aa2-83cd-ca0830d1bc0b",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1100)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - RECEIVE",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5eca84b5-38cf-4b72-9de4-82366d0a0f7d",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is goldenpayerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect('payeefsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, 1100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1300)",
													"",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       pm.test(\"payeefsp does not receive additional final notification\", function () {",
													"            pm.expect(response.text()).to.eql('');",
													"        });",
													"       ",
													"      ",
													"    });",
													"}, 2000)",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e9162585-e6d3-4d90-a58b-d1c8c3a85834",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": \"payerfsp\",",
													"  \"payeeFsp\": \"payeefsp\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Transfer_SEND_quote",
							"item": [
								{
									"name": "Get payerfsp position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "59d1b912-e259-44d6-bf42-47869cdc3776",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('currency')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(\"payerfspPositionBeforeTransferhp\", jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"value": "hub_operator",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payerfsp before the transfer and will save this value in a variable  payerfspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Get payeefsp position before TheTransfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3239851d-6e54-4f60-83c0-118064857f19",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"  pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"",
													"for (var i in jsonData) {",
													"  if (jsonData[i].currency === pm.environment.get('currency')) {",
													"    pm.test(\"Atleast one account position should be returned\", function () {",
													"      pm.environment.set(\"payeefspPositionBeforeTransferhp\", jsonData[i].value);",
													"      pm.expect(jsonData).to.be.not.empty;",
													"    });",
													"  }",
													"",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"value": "hub_operator",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payeefsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payeefsp}}",
												"positions"
											]
										},
										"description": "We will capture the initial position for Payeefsp before the transfer and will save this value in a variable  payeefspPositionBeforeTransferhp"
									},
									"response": []
								},
								{
									"name": "Send Quote - SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "4e7875ad-894b-4e89-acd3-396300085b05",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "662f4e9a-a606-47c9-a511-c729c193fb74",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1100)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"            });",
													"           ",
													"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer - SEND",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b52bb9cd-e476-45d6-8362-08c15d7e0359",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// //Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is goldenpayerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect('payeefsp');",
													"                });",
													"                pm.test(\"payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                });",
													"                pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"  });",
													"}, 1100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"               pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1300)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"       pm.test(\"payeefsp does not receive additional final notification\", function () {",
													"            pm.expect(response.text()).to.eql('');",
													"        });",
													"       ",
													"      ",
													"    });",
													"}, 2000)",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "11a972f4-f118-46c8-b061-8c9b2e64d230",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": \"payerfsp\",",
													"  \"payeeFsp\": \"payeefsp\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get payerfsp position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "579a43e1-fbc3-40cb-bc82-0520486ec5cc",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var expectedamount = Number.parseFloat(pm.environment.get(\"payerfspPositionBeforeTransferhp\")) + Number.parseFloat(10);",
													"//expectedamount = expectedamount.toFixed(2);",
													"console.log(expectedamount);",
													"//console.log(jsonData[0].value);",
													"/*if (pm.environment.get('ENV') === 'uat0') {",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[1].value).to.eql(Number(expectedamount));",
													"});",
													"}else{",
													"    ",
													"    pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(jsonData[0].value).to.eql(Number(expectedamount));",
													"});",
													"}*/",
													"",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('currency')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(jsonData[i].value).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"value": "hub_operator",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payerfsp should change, we will get the current position for payerfsp and compare this value against initial payerfsp position captured in:  payerfspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								},
								{
									"name": "Get payeefsp position after the transfer",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "807b235b-d3b9-492d-9d8c-1dfcbc7b6eb8",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"var expectedamount = Number.parseFloat(pm.environment.get(\"payeefspPositionBeforeTransferhp\")) - Number.parseFloat(10);",
													"//expectedamount = expectedPayerAccountBalanceAfterSettlementx.toFixed(2);",
													"/*console.log(expectedamount);",
													"pm.test(\"Position should be changed after transfer\", function () {",
													"    pm.expect(Number(jsonData[0].value)).to.eql(Number(expectedamount));",
													"});*/",
													"",
													"for (var i in jsonData) {",
													"    if (jsonData[i].currency === pm.environment.get('currency')) {",
													"        pm.test(\"Position should be changed after transfer\", function () {",
													"            pm.expect(Number(jsonData[i].value)).to.eql(Number(expectedamount));",
													"        });",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"value": "hub_operator",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payeefsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payeefsp}}",
												"positions"
											]
										},
										"description": "If transfer was successful then the position for payeefsp should change, we will get the current position for payeefsp and compare this value against initial payeefsp position captured in:  payeefspPositionBeforeTransferhp\nPositon should be increased in 1 XOF"
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d2cfdbae-6e2e-47de-89a1-1b03e8760d81",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "92e1e038-78ec-4caa-aeef-6472d8a1bc3b",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "post_scenarios",
					"item": [
						{
							"name": "positive",
							"item": [
								{
									"name": "Add party to payeefsp - MSISDN",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9334f789-599d-4994-854f-4f0dd8694eda",
												"exec": [
													"pm.test(\"Successful POST request\", function () {",
													"    pm.expect(pm.response.code).to.be.oneOf([204,500]);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"displayName\": \"PayeeFirst PayeeLast\",\n    \"firstName\": \"PayeeFirst\",\n    \"middleName\": \"PayeeMiddle\",\n    \"lastName\": \"PayeeLast\",\n    \"dateOfBirth\": \"2010-10-10\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{payeefspMSISDN}}\"\n}"
										},
										"url": {
											"raw": "{{PAYEEFSP_BACKEND_TESTAPI_URL}}/repository/parties",
											"host": [
												"{{PAYEEFSP_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"repository",
												"parties"
											]
										},
										"description": "Create a party"
									},
									"response": []
								},
								{
									"name": "Post scenarios - MSISDN - payerfsp to payeefsp",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e72ca00c-acb9-4aa8-810f-2f588785242e",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
													"",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'PayeeFirst');",
													"pm.variables.set('expectedPayeeLastName', 'PayeeLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "b8b5ba3b-a59c-4697-8d83-587af8bb717b",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(`Payer name is ${pm.variables.get('payerName')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													"pm.test(\"payer idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"pm.test(\"payer idValue is 44123456789\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.from.idValue).to.eql(pm.environment.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"Payee idType is MSISDN\", function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`Payee idValue is ${pm.variables.get('payeefspMSISDN')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"payee fspId is payeefsp\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"payee First name is PayeeFirst\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});   ",
													"",
													"pm.test(\"payee Last name is PayeeLast\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"payee DOB is 2010-10-10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"amount type is SEND\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Transaction type is Transfer\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"  pm.test(\"Initiator type is CONSUMER\", function () {",
													"    var jsonData = pm.response.json(); ",
													"    pm.expect(jsonData.scenario1.result.initiatorType).to.eql(\"CONSUMER\");",
													" });  ",
													" ",
													" pm.test(\"Note is TESTPAYMENT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.note).to.eql(\"test payment\");",
													"});",
													"",
													"// pm.test(`quote Id is ${pm.environment.get('quoteId')} `, function () {",
													"//     var jsonData = pm.response.json();",
													"    ",
													"//     pm.expect(jsonData.scenario1.result.quoteResponse.quoteId).to.eql(pm.environment.get('quoteId'));",
													"// });",
													"",
													"pm.test(`transferId is ${pm.environment.get('transferId')}`, function () {",
													"    var jsonData = pm.response.json();",
													"     pm.expect(jsonData.scenario1.result.transferId).to.eql(jsonData.scenario2.result.transferId);",
													"});",
													"",
													"pm.test(\"Home transaction Id is 123ABC\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state on quote is COMPLETED\", function () {",
													"    var jsonData = pm.response.json();",
													"  pm.expect(jsonData.scenario1.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"",
													"pm.test(`Transfer amount is ${pm.environment.get('amount')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"    var jsonData = pm.response.json();  ",
													"  pm.expect(jsonData.scenario1.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"pm.test(\"Quote response expiration is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.expiration).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Qupte request ILP packet is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.ilpPacket).not.eql(undefined);",
													"});",
													"",
													"pm.test(\"Quote response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.condition).not.eql(undefined);",
													"});",
													"  ",
													"pm.test(\"Payeefsp Fee amount is 0\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.amount).to.eql('0');",
													"});",
													"",
													"pm.test(\"PayeeFSP fee currency is \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\" Payeefsp Commission amount is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario1.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"  ",
													"// Scenario 2 tests",
													"",
													"pm.test(\"payer fsp nameis:${pm.environment.get('payerName')\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.displayName).to.eql(pm.variables.get('payerName'));",
													"});",
													" ",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.from.idType).to.eql(\"MSISDN\");",
													"});",
													"   ",
													"pm.test(`Payer MSISDN is ${pm.environment.get('payerfspMSISDN')} `, function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.from.idValue).to.eql(pm.variables.get('payerfspMSISDN'));",
													"});",
													"",
													"pm.test(\"IdType is MSISDN\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idType).to.eql(\"MSISDN\");",
													"});",
													"",
													"pm.test(`goldenpayeefspReceiverMSISDN Value is ${pm.environment.get('payeefspMSISDN')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.idValue).to.eql(pm.variables.get('payeefspMSISDN'));",
													"});",
													"",
													"pm.test(\"fspId is payeefsp\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.fspId).to.eql(\"payeefsp\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeFirst\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.firstName).to.eql(\"PayeeFirst\");",
													"});",
													"",
													"pm.test(\"First name of the party is PayeeLast \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.lastName).to.eql(\"PayeeLast\");",
													"});",
													"",
													"pm.test(\"Date of Birth of the MSISDN is 2010-10-10 \", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.to.dateOfBirth).to.eql(\"2010-10-10\");",
													"});",
													"",
													"pm.test(\"Amount-Type in Quote request is SEND\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amountType).to.eql(\"SEND\");",
													"});",
													"",
													"pm.test(` Currency in quotes is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"    ",
													"pm.test(\" Transfer amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.amount).to.eql(\"10\");",
													"});",
													"   ",
													"pm.test(\" Transaction Type is TRANSFER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.transactionType).to.eql(\"TRANSFER\");",
													"});",
													"   ",
													"pm.test(\"Initiator type is CONSUMER\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.initiatorType).to.eql(\"CONSUMER\");",
													"});",
													"   ",
													"pm.test(\"note is test payment\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.note).to.eql(\"test payment\");",
													"});",
													"   ",
													"pm.test(\"HomeTransactionId is 123ABC\", function () {",
													"var jsonData = pm.response.json(); ",
													"pm.expect(jsonData.scenario2.result.homeTransactionId).to.eql(\"123ABC\");",
													"});",
													"    ",
													"pm.test(\"Current state of the transfer is COMPLETED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.currentState).to.eql(\"COMPLETED\");",
													"});",
													"  ",
													"pm.test(\"Transfer Amount is 10\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.amount).to.eql(\"10\");",
													"});",
													"",
													"pm.test(\"Response validation\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.transferAmount.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Quote Expiration is not Null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.expiration).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response ilpPacket is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.ilpPacket).not.eql(null);",
													"});",
													"",
													"pm.test(\"Response condition is not null\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.condition).not.eql(null);",
													"});",
													"",
													"pm.test(\"PayeeFspFee is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(`Payeefsp fee currency is ${pm.environment.get('currency')}` , function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspFee.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"Payeefsp commission is 0\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.amount).to.eql(\"0\");",
													"});",
													"",
													"pm.test(` Transfer currency is ${pm.environment.get('currency')}`, function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.quoteResponse.payeeFspCommission.currency).to.eql(pm.environment.get('currency'));",
													"});",
													"",
													"pm.test(\"CompletedTimestamp is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.completedTimestamp).not.eql(null);",
													"});",
													"",
													"pm.test(\" transferState is COMMITTED\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.transferState).to.eql(\"COMMITTED\");",
													"});",
													"",
													"pm.test(\" Fulfilment is not empty\", function () {",
													"var jsonData = pm.response.json();",
													"pm.expect(jsonData.scenario2.result.fulfil.fulfilment).not.eql(null);",
													"",
													"});",
													"  ",
													"  //Check Headers for parties endpoint on payee side",
													"  setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        // pm.test(\"goldenpayeefsp fspiop-destination is goldenpayeefsp\", function () {",
													"        //     pm.expect(headers['fspiop-destination']).to.eql('goldenpayeefsp');",
													"        // });",
													"        ",
													"        pm.test(\"On goldenpayeefsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp accept should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['accept']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"On goldenpayeefsp date cannot be null\", function () {",
													"            pm.expect(headers['date']).to.not.eql(undefined);",
													"        });",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payeeFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"           ",
													"      }",
													"      ",
													"    });",
													"}, 100)",
													"",
													"//Check Headers and data for parties endpoint on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"payeefspMSISDN\"), function (err, response) {",
													"       ",
													"      if(response.responseSize !== 0) { ",
													"      //Checking headers",
													"        var headers = response.json().headers;",
													"        pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"            pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"            pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"        });",
													"        ",
													"        pm.test(\"On payerfsp content-type should be application/vnd.interoperability.parties+json;version=1.0\", function () {",
													"            pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.parties+json;version=1.0');",
													"        });",
													"        ",
													"        pm.test(\"payerfsp accept is empty\", function () {",
													"            pm.expect(headers['accept']).to.eql(undefined);",
													"        });",
													"        ",
													"        //Validate protected header inside Signature",
													"        var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"        var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"        console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"        ",
													"        // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"        //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"        // });",
													"        ",
													"        pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"            pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be payeefsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"            pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"        });",
													"        pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"            pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"        });",
													"       ",
													"        pm.test(\"payerfsp FSPIOP-URI to be /parties/MSISDN/\"+pm.environment.get(\"payeefspMSISDN\"), function () {",
													"            pm.expect(headers['fspiop-uri']).to.eql('/parties/MSISDN/'+pm.environment.get(\"payeefspMSISDN\"));",
													"        });",
													"        ",
													"        pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"            pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"        });",
													"        ",
													"      //Checking data",
													"      var jsonData = response.json().data;",
													"        pm.test(\"Expected partyIdType is MSISDN\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdType).to.eql('MSISDN');",
													"        });",
													"        pm.test(\"Expected partyIdentifier is \"+pm.environment.get('payeefspMSISDN'), function () {",
													"          pm.expect(jsonData.party.partyIdInfo.partyIdentifier).to.eql(pm.environment.get('payeefspMSISDN'));",
													"        });",
													"        pm.test(\"Expected fspId is payeefsp\", function () {",
													"          pm.expect(jsonData.party.partyIdInfo.fspId).to.eql('payeefsp');",
													"        });",
													"        ",
													"      pm.test(\"Expected receiver first name is: \"+pm.variables.get(\"expectedPayeeFirstName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.firstName).to.eql(pm.variables.get(\"expectedPayeeFirstName\"));",
													"        });",
													"        pm.test(\"Expected receiver last name is: \"+pm.variables.get(\"expectedPayeeLastName\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.complexName.lastName).to.eql(pm.variables.get(\"expectedPayeeLastName\"));",
													"        });",
													"        pm.test(\"Expected receiver DOB: \"+pm.variables.get(\"expectedPayeeDOB\"), function () {",
													"          pm.expect(jsonData.party.personalInfo.dateOfBirth).to.eql(pm.variables.get(\"expectedPayeeDOB\"));",
													"        });  ",
													"        ",
													"      } else {",
													"          pm.test(\"Parties FAILED - payerFSP\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"        }",
													"    });",
													"}, 100)",
													"",
													"var transferID = pm.response.json().scenario1.result.transferId",
													"//Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"On payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"                pm.test(\"On payeefsp fspiop-uri is /transfers\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
													"                });",
													"                ",
													"                ",
													"                //Check the data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"On payeefsp data should have the same transferId as request\", function () {",
													"                  pm.expect(jsonData.transferId).to.eql(transferID);",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payerfspId as request\", function () {",
													"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same payeefspId as request\", function () {",
													"                  pm.expect(jsonData.payeeFsp).to.eql('payeefsp');",
													"                });",
													"                pm.test(\"On payeefsp data should have the same amount as request\", function () {",
													"                  pm.expect(jsonData.amount.amount).to.eql('10');",
													"                });",
													"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
													"                });",
													"                // pm.test(\"payeefsp data should have the same expiration as request\", function () {",
													"                //   pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
													"                //   pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
													"                // });",
													"                // pm.test(\"payeefsp data should have the same condition as request\", function () {",
													"                //   pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
													"                // });",
													"                ",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+transferID, function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"On payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"On payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            // pm.test(\"fspiop-signature is returned\", function () {",
													"            //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"payeefsp_fspiop_signature\"));",
													"            // });",
													"           ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.include('/transfers');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Response data does not have transferId\", function () {",
													"              pm.expect(jsonData.transferId).to.eql(undefined);",
													"            });",
													"            pm.test(\"Response status is COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
													"            });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"",
													"          }",
													"  });",
													"}, 100)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{payeefsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"name\": \"scenario1\",\n        \"operation\": \"postTransfers\",\n        \"body\": {\n            \"from\": {\n                \"displayName\": \"{{payerName}}\",\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{payerfspMSISDN}}\"\n            },\n            \"to\": {\n                \"idType\": \"MSISDN\",\n                \"idValue\": \"{{payeefspMSISDN}}\"\n            },\n            \"amountType\": \"SEND\",\n            \"currency\": \"{{currency}}\",\n            \"amount\": \"10\",\n            \"transactionType\": \"TRANSFER\",\n            \"initiatorType\":\"CONSUMER\",\n            \"note\": \"test payment\",\n            \"homeTransactionId\": \"123ABC\"\n        }\n    },\n    {\n        \"name\": \"scenario2\",\n        \"operation\": \"putTransfers\",\n        \n        \"params\": {\n            \"transferId\": \"{{scenario1.result.transferId}}\"\n        },\n        \"body\": {\n            \"acceptQuote\": true\n        }\n    }\n]"
										},
										"url": {
											"raw": "{{PAYERFSP_BACKEND_TESTAPI_URL}}/scenarios",
											"host": [
												"{{PAYERFSP_BACKEND_TESTAPI_URL}}"
											],
											"path": [
												"scenarios"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala\nDescription: Contains scripts that test with post /scenarios on majaloop sim backend",
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "block_transfer",
					"item": [
						{
							"name": "GET limits-payerfsp",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "eb936fc5-773b-47be-b220-9c826ee231c2",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"jsonData.forEach( ndcPerCurrency => {",
											"    pm.environment.set(`payerfsp${ndcPerCurrency.currency}NDC`, `${ndcPerCurrency.limit.value}`)",
											"})",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/limits",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"payerfsp",
										"limits"
									]
								},
								"description": "review the payerfsp limits/NDC"
							},
							"response": []
						},
						{
							"name": "GET limits -payeefsp",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "08ccfd4a-3bdf-4b54-9faf-18fd76d12ffc",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"var payeeNDC = jsonData[0].limit.value",
											"pm.environment.set('payeeNDC',payeeNDC)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payeefsp}}/limits",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payeefsp}}",
										"limits"
									]
								},
								"description": "review payeefsp limits/NDC"
							},
							"response": []
						},
						{
							"name": "Get payerfsp position before TheTransfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f8d61d24-2bc9-42ef-bb7c-bfd058065d7a",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"/*var result;",
											"",
											"jsonData.forEach( entry => {(entry.currency === pm.environment.get(\"currency\")) ? result = entry.value: result =",
											" undefined})",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(\"payerfspPositionBeforeTransfer\", result);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"*/",
											"",
											"// for (var i in jsonData){",
											"//     if(jsonData[i].currency === \"XOF\") {",
											"//   pm.test(\"Atleast one account position should be returned\", function () {",
											"//     pm.environment.set(\"payerfspPositionBeforeTransfer\", jsonData[i].value);",
											"//     pm.expect(jsonData).to.be.not.empty;",
											"//   });",
											"//     }",
											"   ",
											"// }",
											"",
											"jsonData.forEach(positionPerCurrency => {",
											"    pm.environment.set(`payerfsp${positionPerCurrency.currency}PositionBeforeTransfer`, positionPerCurrency.value);",
											"})",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payerfsp}}",
										"positions"
									]
								},
								"description": "view payerfsp current position before sending the transfer"
							},
							"response": []
						},
						{
							"name": "Get payeefsp position before TheTransfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "98ab2514-f935-49be-913a-afdc9d14f152",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"/*var result;",
											"",
											"jsonData.forEach( entry => {(entry.currency === pm.environment.get(\"currency\")) ? result = entry.value: result =",
											" undefined})",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(\"payeefspPositionBeforeTransfer\", result);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === \"XOF\") {",
											"  pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.environment.set(\"payeefspPositionBeforeTransfer\", jsonData[i].value);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"  });",
											"    }",
											"   ",
											"}",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payeefsp}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payeefsp}}",
										"positions"
									]
								},
								"description": "Get payeefsp current position before sending the transfer"
							},
							"response": []
						},
						{
							"name": "Send Quote",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "17b7cefd-036a-42e2-9c8a-038cc48f21bf",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e131bbeb-a3f3-4800-8d4e-0787fcc55aa3",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1100)",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
											"            });",
											"           ",
											"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, 1000)",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Block Transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7557099f-6ae6-47e0-8c4a-9d38dbdc664f",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// pm.test(\"Check that Content-Type is present\", function () {",
											"//     pm.response.to.have.header(\"Content-Type\");",
											"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
											"// });",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              var jsonData = response.json().data;",
											"              var headers = response.json().headers;",
											"              pm.test(\"Error Code should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('4001');",
											"              });",
											"              pm.test(\"Error Description should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payer FSP insufficient liquidity');",
											"              });",
											"              pm.test(\"fspiop-source is switch\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"",
											"            pm.test(\"fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"fspiop-signature is present\", function () {",
											"                pm.expect(headers['fspiop-signature']).to.not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"fspiop-uri is /transfers/{ID}/error\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
											"            });",
											"            ",
											"            pm.test(\"fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 5000)",
											"",
											"pm.environment.set('transferAmount', 100);",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "01200f02-2881-4b90-bcfc-08186b647dfd",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"pm.environment.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 600000))",
											"",
											"var payerfspDefCurNDC = `payerfsp${pm.environment.get('currency')}NDC`",
											"var payerfspDefCurPositionBeforeTransfer = `payerfsp${pm.environment.get('currency')}PositionBeforeTransfer`",
											"",
											"console.log(pm.environment.get(payerfspDefCurNDC))",
											"console.log(pm.environment.get(payerfspDefCurPositionBeforeTransfer))",
											"var amount = Number(pm.environment.get(payerfspDefCurNDC))-Number( pm.environment.get(payerfspDefCurPositionBeforeTransfer))+100",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": \"payerfsp\",",
											"  \"payeeFsp\": \"payeefsp\",",
											"  \"amount\": {",
											"    \"amount\": `${amount}`,",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiopSignature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/transfers",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								},
								"description": "send a tranfer request with ilp packet and condition that are generated in quotes response along with expiry, fspiop source,fspiop destination, amount and currency."
							},
							"response": []
						},
						{
							"name": "Get payerfsp position after the transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e0011916-4e62-40d1-9b58-a234ae4127a8",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"/*pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(jsonData[0].value).to.eql(pm.environment.get(\"payerfspPositionBeforeTransfer\"));",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === \"XOF\") {",
											"  pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(jsonData[i].value).to.eql(pm.environment.get(\"payerfspXOFPositionBeforeTransfer\"));",
											"  });",
											"    }",
											"   ",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payerfsp}}",
										"positions"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get payeefsp position after the transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b79cd9ca-cdc6-42fa-ad77-e78ec727cc75",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"/*pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(Number(jsonData[0].value)).to.eql(Number(pm.environment.get(\"payeefspPositionBeforeTransfer\")));",
											"});*/",
											"",
											"for (var i in jsonData){",
											"    if(jsonData[i].currency === \"XOF\") {",
											"  pm.test(\"Position before and after the transfer should be the same\", function () {",
											"    pm.expect(Number(jsonData[i].value)).to.eql(Number(pm.environment.get(\"payeefspPositionBeforeTransfer\")));",
											"  });",
											"    }",
											"   ",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "hub_operator",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payeefsp}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payeefsp}}",
										"positions"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThis features testes, if a transfer is blocked when position of a participant exceeds the Net Debit Cap for the transfer amount.\n\nSTEPS:\n\nGET Limits\nGET Positions for payer and payee\nset amount=(NDC-P) + 10\nPOST Quotes - send to payee that responds COMMITTED\nPOST Transfers-Prepare\n      -Payerfsp should get error msg \"insufficient liquidity in payerfsp to perform transfer \" \nGET positions - \n  current payer position = prev position \n  current payee position = prev position \n(Failure of the transfer due to insufficient liquidity from payerfsp, results no change in positions)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "14c37bb5-635a-4ab9-906c-41849fe88329",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "b4aad468-ff46-4d8a-98a4-9381fd65624d",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "get_transfers",
					"item": [
						{
							"name": "Send Quote",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "03b858ca-fb31-4904-8f49-a18beac85a2e",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "d3834d32-1255-486f-9940-360ab7823160",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1100)",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
											"            });",
											"           ",
											"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, 1000)",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Transfer",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "de66c304-4b93-4fa9-b381-434ae6487737",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// //Check the request that Switch forwards to payeefsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(\"payeefsp fspiop-source is goldenpayerfsp\", function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
											"                });",
											"                ",
											"                ",
											"                //Check the data",
											"                var jsonData = response.json().data;",
											"                pm.test(\"payeefsp data should have the same transferId as request\", function () {",
											"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same payerfspId as request\", function () {",
											"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
											"                });",
											"                pm.test(\"payeefsp data should have the same payeefspId as request\", function () {",
											"                  pm.expect('payeefsp');",
											"                });",
											"                pm.test(\"payeefsp data should have the same amount as request\", function () {",
											"                  pm.expect(jsonData.amount.amount).to.eql('10');",
											"                });",
											"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
											"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same expiration as request\", function () {",
											"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
											"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same condition as request\", function () {",
											"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"  });",
											"}, 1100)",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp \", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1300)",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "10d57ac0-8a33-4fcb-a2e3-b67d2cfa4387",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": \"payerfsp\",",
											"  \"payeeFsp\": \"payeefsp\",",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "GET transfer - COMMITTED",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "12b555ec-583b-48c2-b7bd-9157f17df819",
										"exec": [
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8697ad3c-be6a-4448-a4c8-bc8bcdfe904e",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is switch \", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1300)",
											"",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Source is original receiver",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4d6abffd-05f3-45eb-a612-da8f74001557",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8fca6f4f-787c-45f3-a304-3a61d08ca585",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-signature is not null\", function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Transfer State is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"              });",
											"              ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"//           if(response.responseSize !== 0) {",
											"//             //Checking headers",
											"//             var headers = response.json().headers;",
											"//             pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp accept is empty\", function () {",
											"//                 pm.expect(headers['accept']).to.eql(undefined);",
											"//             });",
											"            ",
											"//         //    pm.test(\"fspiop-signature is returned\", function () {",
											"//          //       pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"payeefsp_fspiop_signature\"));",
											"//         //    });",
											"        ",
											"//           pm.test(\"fspiop-signature is returned\", function () {",
											"//             pm.expect(headers['fspiop-signature']).to.eql(undefined);",
											"//           });",
											"           ",
											"            ",
											"//          /*   pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
											"//                 pm.expect(headers['fspiop-uri']).to.include('/transfers');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });*/",
											"            ",
											"//             var jsonData = response.json().data;",
											"//             pm.test(\"Error Code should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"//               });",
											"//               pm.test(\"Error Description should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorDescription).to.eql('Provided Transfer ID was not found on the server.');",
											"//               });",
											"//           } else {",
											"//               pm.test(\"Transfer FAILED\", function () {",
											"//                 throw new Error('Did not receive response');",
											"//               });",
											"//               // postman.setNextRequest(null)",
											"//           }",
											"//   });",
											"// }, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYEEFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payeefsp}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						},
						{
							"name": "Source is not part of original sender/receiver",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "11820081-da84-4499-a149-9773cb800a9c",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9ebb21f7-e199-4cb7-9eee-a5335c3dca04",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-signature is not null\", function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Error Code should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"              });",
											"              pm.test(\"Error Description should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Generic client error');",
											"              });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"//           if(response.responseSize !== 0) {",
											"//             //Checking headers",
											"//             var headers = response.json().headers;",
											"//             pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp accept is empty\", function () {",
											"//                 pm.expect(headers['accept']).to.eql(undefined);",
											"//             });",
											"            ",
											"//         //    pm.test(\"fspiop-signature is returned\", function () {",
											"//          //       pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"payeefsp_fspiop_signature\"));",
											"//         //    });",
											"        ",
											"//           pm.test(\"fspiop-signature is returned\", function () {",
											"//             pm.expect(headers['fspiop-signature']).to.eql(undefined);",
											"//           });",
											"           ",
											"            ",
											"//          /*   pm.test(\"payerfsp fspiop-uri includes transfers\", function () {",
											"//                 pm.expect(headers['fspiop-uri']).to.include('/transfers');",
											"//             });",
											"            ",
											"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });*/",
											"            ",
											"//             var jsonData = response.json().data;",
											"//             pm.test(\"Error Code should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"//               });",
											"//               pm.test(\"Error Description should be returned\", function () {",
											"//                 pm.expect(jsonData.errorInformation.errorDescription).to.eql('Provided Transfer ID was not found on the server.');",
											"//               });",
											"//           } else {",
											"//               pm.test(\"Transfer FAILED\", function () {",
											"//                 throw new Error('Did not receive response');",
											"//               });",
											"//               // postman.setNextRequest(null)",
											"//           }",
											"//   });",
											"// }, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "testfsp1"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{transfer_ID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						},
						{
							"name": "200 - 3208 - TransferId not found",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "555643c9-5df9-4fcd-a7c5-d3da84f19613",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('nonExistingtransferID', generatedUUID);",
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ef8c843c-eaad-496e-8e8f-3dd63fb16393",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"nonExistingtransferID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is switch\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"nonExistingtransferID\")+'/error');",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-signature is not null\", function () {",
											"                pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Error Code should be returned 3208\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3208');",
											"              });",
											"              pm.test(\"Error Description Transfer ID not found should be returned\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Transfer ID not found - Provided Transfer ID was not found on the server.');",
											"              });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{nonExistingtransferID}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{nonExistingtransferID}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer.\n\nTake a new UUID which does not exist in DB.i.e valid format but shd not exist in DB.\nor\nchange (not remove) one letter or digit from a transfer ID that exists in DB."
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "funds_out",
					"item": [
						{
							"name": "Reserve&Commit",
							"item": [
								{
									"name": "Record Funds Out Prepare&Reserve- payerfsp",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "90a6619b-5c28-4a7c-9f00-3cdedcf92b05",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutPrepareReserveTransferId', generatedUUID);",
													"pm.environment.set('fundsOutPrepareReserveAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"payerfsp\")+'/accounts',",
													"  method: 'GET',",
													"  header: {",
													"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"      \"FSPIOP-Source\": \"hub_operator\",",
													"      \"Content-Type\": \"application/json\"",
													"  }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for(var i in jsonData) {",
													"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"payerfspSettlementAccountId\",jsonData[i].id)",
													"            pm.environment.set(\"payerfspSettlementAccountBalanceBeforeFundsOutPrepare\",jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
													"  method: 'GET',",
													"  header: {",
													"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"      \"FSPIOP-Source\": \"hub_operator\",",
													"      \"Content-Type\": \"application/json\"",
													"  }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for(var i in jsonData) {",
													"        if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutPrepare\",jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "3fed6427-b7a1-43ab-a904-e66e6a3e0f36",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"payerfsp\")+'/accounts',",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": \"hub_operator\",",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutPrepare",
													"        for(var i in jsonData) {",
													"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = -(-Number(pm.environment.get('payerfspSettlementAccountBalanceBeforeFundsOutPrepare'))- Number(pm.environment.get(\"fundsOutPrepareReserveAmount\")))",
													"        pm.test(\"Final Payerfsp Settlement Account Balance should decrease by the transfer amount\", function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutPrepare).to.eql(payerfspExpectedBalance);",
													"          });    ",
													"    ",
													"    });",
													"    ",
													"    const hubGetStatusRequest = {",
													"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutPrepare",
													"        for(var i in jsonData) {",
													"            if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                hubReconAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutPrepare\")//-pm.environment.get(\"fundsOutPrepareReserveAmount\")",
													"        pm.test(\"Final Hub Reconciliation Account Balance should stay the same in prepare phase\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutPrepare).to.eql(hubExpectedBalance);",
													"          });  ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"transferId\": \"{{fundsOutPrepareReserveTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsOutPrepareReserve\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsOutPrepareReserveAmount}},\n    \"currency\": \"{{currency}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/accounts/{{payerfspSettlementAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"accounts",
												"{{payerfspSettlementAccountId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Prepare&Reserve - transferStatus",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "de42967e-aa8c-4b3f-9589-9de2536b0d76",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "7c7e414e-1d2f-4a4d-91bb-8b9ddf5b3921",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"PAYERFSP_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"payerfsp\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{fundsOutPrepareReserveTransferId}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"                ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be RESERVED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"RESERVED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    });",
													"}, 2000);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								},
								{
									"name": "Record Funds Out Commit - payerfsp",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "1a8b964f-9ba0-4a04-b058-242275e4bd20",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutCommitTransferId', generatedUUID);",
													"pm.environment.set('fundsOutCommitAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"payerfsp\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": \"hub_operator\",",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"payerfspSettlementAccountBalanceBeforeFundsOutCommit\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": \"hub_operator\",",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutCommit\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ab8660ef-55a0-416d-8a7a-f268d15a1947",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"payerfsp\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutCommit = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = pm.environment.get('payerfspSettlementAccountBalanceBeforeFundsOutCommit')//-pm.environment.get(\"fundsOutPrepareAmount\")",
													"        pm.test(\"Final Payerfsp Settlement Account Balance should not change during commit phase\", function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutCommit).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                hubReconAccountBalanceAfterFundsOutCommit = jsonData[i].value",
													"            }",
													"        }",
													"        console.log(`hubReconAccountBalanceBeforeFundsOutCommit: ${Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutCommit\"))}`);",
													"        console.log(`fundsOutCommitAmount: ${Number(pm.environment.get(\"fundsOutCommitAmount\"))}`);",
													"",
													"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutCommit\")) - Number(pm.environment.get(\"fundsOutCommitAmount\"))",
													"        pm.test(\"Final Hub Reconciliation Account Balance should decrease by the transfer amount\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutCommit).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"action\": \"recordFundsOutCommit\",\n  \"reason\": \"Reason for out flow of funds\"\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/accounts/{{payerfspSettlementAccountId}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"accounts",
												"{{payerfspSettlementAccountId}}",
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Commit - transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "6734cf80-3c27-410e-84c1-78b83cd31231",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ebd7303f-e17d-491f-ba4a-23c8c5e5be42",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": \"hub_operator\",",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{fundsOutPrepareReserveTransferId}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be COMMITTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Reserve&Abort",
							"item": [
								{
									"name": "Record Funds Out Prepare&Reserve- payerfsp",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "45b09c4d-1e2b-4418-8002-9ef85eac6234",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutPrepareReserveTransferId', generatedUUID);",
													"pm.environment.set('fundsOutPrepareReserveAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"payerfsp\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"payerfspSettlementAccountId\", jsonData[i].id)",
													"            pm.environment.set(\"payerfspSettlementAccountBalanceBeforeFundsOutPrepare\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutPrepare\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "2cc04c8c-ef19-4ea0-8600-95693255f632",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"payerfsp\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutPrepare",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = -(-Number(pm.environment.get('payerfspSettlementAccountBalanceBeforeFundsOutPrepare')) - Number(pm.environment.get(\"fundsOutPrepareReserveAmount\")))",
													"        pm.test(\"Final Payerfsp Settlement Account Balance should decrease by the transfer amount\", function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutPrepare).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutPrepare",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                hubReconAccountBalanceAfterFundsOutPrepare = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutPrepare\")//-pm.environment.get(\"fundsOutPrepareReserveAmount\")",
													"        pm.test(\"Final Hub Reconciliation Account Balance should stay the same in prepare phase\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutPrepare).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "hub_operator"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"transferId\": \"{{fundsOutPrepareReserveTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsOutPrepareReserve\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{fundsOutPrepareReserveAmount}},\n    \"currency\": \"{{currency}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/accounts/{{payerfspSettlementAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"accounts",
												"{{payerfspSettlementAccountId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Record Funds Out Prepare&Reserve - transfer status (BUG)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "f988f5af-3cec-40c3-b47c-dc7273147ff6",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "70a3e812-0eb6-46ba-9a3a-a650451a5599",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"PAYERFSP_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"payerfsp\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{fundsOutPrepareReserveTransferId}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be RESERVED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"RESERVED\");",
													"              }); ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								},
								{
									"name": "Record Funds Out Abort - payerfsp",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "89442fd8-5875-41a8-a238-772cceb38f78",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('fundsOutCommitAmount', 1000);",
													"",
													"",
													"const payerfspGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"payerfsp\") + '/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"payerfspSettlementAccountBalanceBeforeFundsOutAbort\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													"",
													"const hubGetStatusRequest = {",
													"    url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"    method: 'GET',",
													"    header: {",
													"        \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"        \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"        \"Content-Type\": \"application/json\"",
													"    }",
													"};",
													"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"    console.log(response.json())",
													"    var jsonData = response.json()",
													"    for (var i in jsonData) {",
													"        if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsOutAbort\", jsonData[i].value)",
													"        }",
													"    }",
													"});",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "cbe636fd-a5d8-4d0f-af36-f58f5c8a1e57",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    const payerfspGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/' + pm.environment.get(\"payerfsp\") + '/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var payerfspSettlementAccountBalanceAfterFundsOutAbort",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'SETTLEMENT' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                payerfspSettlementAccountBalanceAfterFundsOutAbort = jsonData[i].value",
													"            }",
													"        }",
													"        var payerfspExpectedBalance = pm.environment.get('payerfspSettlementAccountBalanceBeforeFundsOutPrepare')//-pm.environment.get(\"fundsOutPrepareAmount\")",
													"        pm.test(\"Final Payerfsp Settlement Account Balance should rollback to the value before Prepare\", function () {",
													"            pm.expect(payerfspSettlementAccountBalanceAfterFundsOutAbort).to.eql(payerfspExpectedBalance);",
													"        });",
													"",
													"    });",
													"",
													"    const hubGetStatusRequest = {",
													"        url: pm.environment.get(\"HOST_CENTRAL_LEDGER\") + pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\") + '/participants/Hub/accounts',",
													"        method: 'GET',",
													"        header: {",
													"            \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"            \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"            \"Content-Type\": \"application/json\"",
													"        }",
													"    };",
													"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
													"        console.log(response.json())",
													"        var jsonData = response.json()",
													"        var hubReconAccountBalanceAfterFundsOutCommit",
													"        for (var i in jsonData) {",
													"            if (jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION' && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
													"                hubReconAccountBalanceAfterFundsOutAbort = jsonData[i].value",
													"            }",
													"        }",
													"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsOutAbort\"))",
													"        pm.test(\"Final Hub Reconciliation Account Balance should not change\", function () {",
													"            pm.expect(hubReconAccountBalanceAfterFundsOutAbort).to.eql(hubExpectedBalance);",
													"        });",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"action\": \"recordFundsOutAbort\",\n  \"reason\": \"Reason for out flow of funds\"\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/accounts/{{payerfspSettlementAccountId}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"accounts",
												"{{payerfspSettlementAccountId}}",
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG)Record Funds Out Abort - transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e558cf02-d76d-441c-b1f6-7e55422799d2",
												"exec": [
													"pm.environment.set('dateHeader', (new Date()).toUTCString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "dc840fd1-8621-437d-b914-f8f368c72da0",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"    ",
													"    const getTransferResponse = {",
													"      url: pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsOutPrepareReserveTransferId\"),",
													"      method: 'GET',",
													"      header: {",
													"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
													"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
													"          \"Content-Type\": \"application/json\"",
													"      }",
													"    };",
													"    pm.sendRequest(getTransferResponse, function (err, response) {",
													"        if(response.responseSize !== 0) {",
													"            ",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsOutPrepareReserveTransferId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data",
													"            pm.test(\"Transfer State should be ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql(\"ABORTED\");",
													"              });    ",
													"        } else {",
													"            pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"            });",
													"            // postman.setNextRequest(null)",
													"        }",
													"    ",
													"    });",
													"}, 2000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsOutPrepareReserveTransferId}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{fundsOutPrepareReserveTransferId}}"
											]
										},
										"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "funds_in",
					"item": [
						{
							"name": "Record Funds In - prepare",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "482b1e28-e2aa-4e7d-ac9e-7d27887a4acf",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('fundsInPrepareTransferId', generatedUUID);",
											"pm.environment.set('fundsInPrepareAmount', 5000);",
											"",
											"",
											"const payerfspGetStatusRequest = {",
											"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"payerfsp\")+'/accounts',",
											"  method: 'GET',",
											"  header: {",
											"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"      \"Content-Type\": \"application/json\"",
											"  }",
											"};",
											"pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
											"    console.log(response.json())",
											"    var jsonData = response.json()",
											"    for(var i in jsonData) {",
											"        if((jsonData[i].ledgerAccountType === 'SETTLEMENT') && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
											"            pm.environment.set(\"payerfspSettlementAccountId\",jsonData[i].id)",
											"            pm.environment.set(\"payerfspSettlementAccountBalanceBeforeFundsIn\",jsonData[i].value)",
											"        }",
											"    }",
											"});",
											"",
											"const hubGetStatusRequest = {",
											"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
											"  method: 'GET',",
											"  header: {",
											"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"      \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"      \"Content-Type\": \"application/json\"",
											"  }",
											"};",
											"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
											"    console.log(response.json())",
											"    var jsonData = response.json()",
											"    for(var i in jsonData) {",
											"        if((jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
											"            pm.environment.set(\"hubReconAccountBalanceBeforeFundsIn\",jsonData[i].value)",
											"        }",
											"    }",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e58ab907-8736-4efc-a84d-b90f974c14c5",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"    const payerfspGetStatusRequest = {",
											"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"payerfsp\")+'/accounts',",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    };",
											"    pm.sendRequest(payerfspGetStatusRequest, function (err, response) {",
											"        console.log('payerfsp accounts: ',response.json())",
											"        var jsonData = response.json()",
											"        var payerfspSettlementAccountBalanceAfterFundsIn",
											"        for(var i in jsonData) {",
											"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT'  && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
											"                payerfspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
											"            }",
											"        }",
											"        var payerfspExpectedBalance = -(-Number(pm.environment.get('payerfspSettlementAccountBalanceBeforeFundsIn')) + Number(pm.environment.get('fundsInPrepareAmount')))",
											"        pm.test(\"Final Payerfsp Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
											"            pm.expect(payerfspSettlementAccountBalanceAfterFundsIn).to.eql(payerfspExpectedBalance);",
											"          });    ",
											"    ",
											"    });",
											"    ",
											"    const hubGetStatusRequest = {",
											"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/Hub/accounts',",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    };",
											"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
											"        console.log('hub accounts balance: ',response.json())",
											"        var jsonData = response.json()",
											"        var currentHubReconAccountBalance",
											"        for(var i in jsonData) {",
											"            if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION'  && (jsonData[i].currency === pm.environment.get(\"currency\"))) {",
											"                hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
											"            }",
											"        }",
											"        var hubExpectedBalance = Number(pm.environment.get(\"hubReconAccountBalanceBeforeFundsIn\"))+Number(pm.environment.get('fundsInPrepareAmount'))",
											"        console.log(hubExpectedBalance)",
											"        pm.test(\"Final Hub Reconciliation Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
											"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
											"          });  ",
											"    });",
											"}, 2000)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "hub_operator"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"transferId\": \"{{fundsInPrepareTransferId}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": \"{{fundsInPrepareAmount}}\",\n    \"currency\": \"{{currency}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/accounts/{{payerfspSettlementAccountId}}",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payerfsp}}",
										"accounts",
										"{{payerfspSettlementAccountId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Record Funds In - prepare transfer status",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "920565d2-bb1a-4421-a566-88440c447b7d",
										"exec": [
											"pm.environment.set('dateHeader', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "66aefcf9-7950-4609-b646-943a17dac96b",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"    ",
											"    const getTransferResponse = {",
											"      url: pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"fundsInPrepareTransferId\"),",
											"      method: 'GET',",
											"      header: {",
											"          \"Authorization\":\"Bearer \"+pm.environment.get(\"PAYERFSP_BEARER_TOKEN\"),",
											"          \"FSPIOP-Source\": pm.environment.get(\"payerfsp\"),",
											"          \"Content-Type\": \"application/json\"",
											"      }",
											"    }",
											"    pm.sendRequest(getTransferResponse, function (err, response) {",
											"        if(response.responseSize !== 0) {",
											"            ",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is switch \", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('switch');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
											"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
											"                });",
											"            ",
											"            ",
											"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"fundsInPrepareTransferId\"));",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data",
											"            pm.test(\"Transfer State should be COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
											"            });   ",
											"            ",
											"        } else {",
											"            pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response');",
											"            });",
											"            // postman.setNextRequest(null)",
											"        }",
											"    ",
											"    });",
											"}, 4000);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									}
								],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{fundsInPrepareTransferId}}",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										"{{fundsInPrepareTransferId}}"
									]
								},
								"description": "The HTTP request GET /transfers/<ID> is used to get information regarding an earlier created or requested transfer. The <ID> in the URI should contain the transferId that was used for the creation of the transfer."
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "settlement_management",
					"item": [
						{
							"name": "SETTLE  settlement",
							"item": [
								{
									"name": "Setup Settlement",
									"item": [
										{
											"name": "Setup Accounts",
											"item": [
												{
													"name": "Activate currency Account",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "acd340c2-6e1e-455d-826e-2f0c38438fd8",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"const fsps = ['payerfsp','payeefsp','testfsp1','testfsp2'];",
																	"",
																	"pm.response.json().map(participant => {",
																	"    if(fsps.include(participant.name)) {",
																	"       const participantGetRequest = {",
																	"          url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name,",
																	"          method: 'GET',",
																	"          header: {",
																	"              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"              \"Content-Type\": \"application/json\"",
																	"          }",
																	"        };",
																	"        pm.sendRequest(participantGetRequest, function (err, response) {",
																	"            if(response.responseSize !== 0) {",
																	"                response.json().accounts.map(account => {",
																	"                    const url = pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+participant.name+'/accounts/'+account.id;",
																	"                    const header =  {",
																	"                          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                          \"Content-Type\": \"application/json\"",
																	"                      };",
																	"                    if(account.currency === pm.environment.get('currency')) {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": true",
																	"                            }",
																	"                        };",
																	"                    } else {",
																	"                        const participantOutRequest = {",
																	"                          url: url,",
																	"                          method: 'PUT',",
																	"                          header: header,",
																	"                          body: {",
																	"                              \"isActive\": false",
																	"                            }",
																	"                        };",
																	"                    }",
																	"                })",
																	"            } else {",
																	"                pm.test(\"Request FAILED\", function () {",
																	"                    throw new Error('Did not receive response');",
																	"                });",
																	"                // postman.setNextRequest(null)",
																	"            }",
																	"        }); ",
																	"    }",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "hub_operator",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants"
															]
														}
													},
													"response": []
												}
											],
											"description": "Activate only XOF accounts and disable rest of the accounts",
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Create Settlement on the current open window",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "70669c59-7f03-4883-8e70-c0d8e599f642",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "hub_operator",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/json",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "f32fe07c-680a-4c4e-be5f-ca7d87a14523",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN\", function () {",
																	"    pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "9ed6ec4e-56f4-4ee7-904f-04c53ac8edea",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"settlementModel\": \"DEFERREDNET\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}\n"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												},
												{
													"name": "Prepare Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "ff04981a-b46b-4afa-9ec4-d36feb514a25",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers recorded for payer\",",
																	"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Reserve Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "45546dee-35f5-45bf-8120-41c475f11dc1",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"  participant.accounts",
																	"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"      const participantPutRequest = {",
																	"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
																	"        method: 'PUT',",
																	"        header: {",
																	"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"          \"Content-Type\": \"application/json\"",
																	"        },",
																	"        body: {",
																	"          mode: 'raw',",
																	"          raw: JSON.stringify(",
																	"            {",
																	"              \"participants\": [",
																	"                {",
																	"                  \"id\": participant.id,",
																	"                  \"accounts\": [",
																	"                    {",
																	"                      \"id\": curAccount.id,",
																	"                      \"reason\": \"Transfers reserved\",",
																	"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
																	"                    }",
																	"                  ]",
																	"                }",
																	"              ]",
																	"            }",
																	"          )",
																	"        }",
																	"      };",
																	"      pm.sendRequest(participantPutRequest, function (err, response) {",
																	"        console.log(response.json());",
																	"      });",
																	"    })",
																	"})"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Commit Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "0d7f78e6-3e9f-48ed-ad0d-bfb171a86b5c",
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers committed\",",
																	"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Settle Settlement",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "7c6f3166-0c67-41d7-80af-ddfd6513753b",
																"exec": [
																	"",
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData.participants.map(participant => {",
																	"    participant.accounts",
																	"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
																	"                    .forEach(curAccount => {",
																	"                        const participantPutRequest = {",
																	"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
																	"                          method: 'PUT',",
																	"                          header: {",
																	"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
																	"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
																	"                              \"Content-Type\": \"application/json\"",
																	"                          },",
																	"                          body: {",
																	"                            mode: 'raw',",
																	"                            raw: JSON.stringify(",
																	"                                {",
																	"                                  \"participants\": [",
																	"                                    {",
																	"                                      \"id\": participant.id,",
																	"                                      \"accounts\": [",
																	"                                        {",
																	"                                          \"id\": curAccount.id,",
																	"                                          \"reason\": \"Transfers settled for payer\",",
																	"                                          \"state\": \"SETTLED\"",
																	"                                        }",
																	"                                      ]",
																	"                                    }",
																	"                                  ]",
																	"                                }",
																	"                            )",
																	"                          }",
																	"                        };",
																	"                        pm.sendRequest(participantPutRequest, function (err, response) {",
																	"                            console.log(response.json());",
																	"                        });",
																	"                    })",
																	"})",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements",
																"{{settlementId}}"
															]
														}
													},
													"response": []
												}
											],
											"description": "This will allow us to not leave any window unsettled. Means eachwindow that we close using this collection will be gone through the whole manual settlement process and the positions gets reset.",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "6fbd9656-6dec-4172-9264-fcfa7a347799",
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "a0d5d0fe-a272-4d93-bb47-d811889a3af5",
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Store Settlement&Position Account Balances Before Transfers",
											"item": [
												{
													"name": "testfsp1 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "1a240957-566b-4afb-b0af-1e96bf0422c5",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp1SettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp1PositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"    /*        pm.test(\"testfsp1 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp1",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "testfsp2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "1b5242ce-220d-40e2-a22c-92e5ecf59b33",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp2SettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp2PositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"    /*        pm.test(\"testfsp2 position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp2",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payerfsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "ccfe083a-ac3a-424c-bbf9-d95e0c5b212e",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payerfspSettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payerfspPositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"     /*       pm.test(\"payerfsp position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payerfsp",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payeefsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "87d7d5e3-4678-4394-b824-518e531bfe0e",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payeefspSettleAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payeefspPositionAccountBalanceBeforeTransfer\", curAccount.value);",
																	"       /*     pm.test(\"payeefsp position account balance is 0\", function () {",
																	"                pm.expect(curAccount.value).to.eql(0);",
																	"            });*/",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payeefsp",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "HUB balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "1c2e7610-3c19-4f98-9619-18a9f1cf98ff",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {",
																	"            pm.environment.set(\"hubReconciliationAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {",
																	"            pm.environment.set(\"hubMultilateralAccountBalanceBeforeTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"Hub",
																"accounts"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Run Quote & Transfers",
											"item": [
												{
													"name": "Send Quote 1 (testfsp1 to testfsp2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "f80f13ae-3606-46d9-bf0d-9f7535e4ca68",
																"exec": [
																	"  var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"testfsp1\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"testfsp2\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"60\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "d8312ebb-6d70-4df8-8583-b3e6388a96a0",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\") + \"/requests/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"\r",
																	"            //Check the Headers\r",
																	"            var headers = response.json().headers;\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-source is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-uri is /quotes\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"            });\r",
																	"\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null)\r",
																	"        }\r",
																	"    });\r",
																	"}, 2500)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"    pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\") + \"/callbacks/\" + pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"        if (response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"\r",
																	"            var { signature, protectedHeader } = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"\r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:', decodedProtectedHeaders)\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\" + pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/' + pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"\r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp2\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/\" + pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/' + pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"\r",
																	"            var jsonData = response.json().data;\r",
																	"\r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"\r",
																	"            pm.test(\"Response condition is not null\", function () {\r",
																	"                pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"                pm.environment.set(\"condition\", jsonData.condition);\r",
																	"            });\r",
																	"        } else {\r",
																	"            pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on Payer side');\r",
																	"            });\r",
																	"            // postman.setNextRequest(null);\r",
																	"        }\r",
																	"\r",
																	"    });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 1 ( testfsp1 to testfsp2 )",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "74107c65-3dd5-4a0d-8f48-44317e6db64c",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"testfsp1\",\r",
																	"  \"payeeFsp\": \"testfsp2\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"60\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "c66292f8-4edc-42be-b249-898ecfb79105",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp2 fspiop-source is goldentestfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"testfsp2 data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 1100)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is goldentestfsp2 \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1500)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}",
															"options": {
																"raw": {}
															}
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 2 (testfsp1 to payeefsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "457f642b-24db-416d-8b1e-3d9c888dda22",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"testfsp1\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payeefsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"55\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "7e8905b8-166d-47a1-9660-fbb16ba8582e",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payeefsp fspiop-source is testfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is payeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 2 (testfsp1 to payeefsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "eb627f18-81ba-4d4f-96cf-94d03d748e02",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"testfsp1\",\r",
																	"  \"payeeFsp\": \"payeefsp\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"55\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "60b025d8-8ad5-4597-b49b-2ae0d366c621",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payeefsp fspiop-source is goldentestfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"payeefsp data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('55');\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"payeefsp data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 3000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp1 fspiop-source is goldenpayeefsp \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 3000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP1_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 3 (payerfspto testfsp1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "7d9b7dfd-59d5-42f9-88c2-4a05877b87db",
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"pm.variables.set('payerMSISDN', '918381008987');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"testfsp1\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),\r",
																	"      \"fspId\": \"payerfsp\"\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),\r",
																	"      \"fspId\": \"testfsp1\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "24cf0e72-a6e8-482d-a3ef-b85a85acfdc7",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp1 fspiop-source is payerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payerfsp fspiop-source is testfsp1\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp1JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp1\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 3 (payerfsp to testfsp1)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "ed78c42c-3486-46bc-b07f-d192948e8cef",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"testfsp1\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"payerfsp\",\r",
																	"  \"payeeFsp\": \"testfsp1\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "49197119-fc95-405e-8224-81cf192b0cf9",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp1\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp1 fspiop-source is goldenpayerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp1 fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"testfsp1 data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same payerfspId as request\", function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same testfsp1Id as request\", function () {\r",
																	"                  pm.expect('testfsp1');\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp1 data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payerfsp fspiop-source is goldentestfsp1 \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp1",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 4 (testfsp2 to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "1861d45d-e8fb-4180-9d1b-73c86487a8ae",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp2\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"testfsp2\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payerfsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"20\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp2JWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "cdcef7ba-353d-4169-a6c7-8d80494f62cd",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is testfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp2 fspiop-source is payerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayerfsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp2\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"testfsp2 FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															},
															{
																"key": "x-forwarded-for",
																"value": "34.245.65.70",
																"type": "text",
																"disabled": true
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 4 (testfsp2 to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "55ce3f1b-4935-4ada-8536-44b5de0fc3a1",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp2\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"testfsp2\",\r",
																	"  \"payeeFsp\": \"payerfsp\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"20\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp2JWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "c3e8d799-7863-4103-abe0-c4f0b2a70c69",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is goldentestfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"payerfsp data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('20');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"testfsp2 fspiop-source is goldenpayerfsp \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"testfsp2 fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{TESTFSP2_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 5 (payeefsp to testfsp2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "7d832b58-3b0e-42a9-89ba-f1f8be631386",
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"pm.variables.set('payerMSISDN', '918381008987');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),\r",
																	"      \"fspId\": \"payeefsp\"\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),\r",
																	"      \"fspId\": \"testfsp2\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "524a780f-000a-4167-aff3-fb91af3147e2",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp2 fspiop-source is payeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is testfsp2\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp2\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payeefsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"payeefsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/quotes",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 5 (payeefsp to testfsp2)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "82b09879-4ce2-4f01-bdee-b0eb38f90689",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"payeefsp\",\r",
																	"  \"payeeFsp\": \"testfsp2\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"35\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "a15f5fea-d1ec-40f0-9f30-217096ac68c2",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to testfsp2\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"testfsp2 fspiop-source is goldenpayeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"testfsp2 fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"testfsp2 data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('35');\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"testfsp2 data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is goldentestfsp2 \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "testfsp2",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Quote 6 (payeefsp to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "c0d49bb1-1438-43fd-bfc4-71480573ea8a",
																"exec": [
																	"var navigator = {}; \r",
																	"var window = {}; \r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('quoteId', generatedUUID);\r",
																	"generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transactionId', generatedUUID);\r",
																	"\r",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());\r",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');\r",
																	"pm.variables.set('payerMSISDN', '918381008987');\r",
																	"\r",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');\r",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');\r",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"quoteId\": pm.environment.get('quoteId'),\r",
																	"  \"transactionId\": pm.environment.get('transactionId'),\r",
																	"  \"payer\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),\r",
																	"      \"fspId\": \"payeefsp\"\r",
																	"    },\r",
																	"    \"personalInfo\": {\r",
																	"      \"complexName\": {\r",
																	"        \"firstName\": \"Mats\",\r",
																	"        \"lastName\": \"Hagman\"\r",
																	"      },\r",
																	"      \"dateOfBirth\": \"1983-10-25\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"payee\": {\r",
																	"    \"partyIdInfo\": {\r",
																	"      \"partyIdType\": \"MSISDN\",\r",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),\r",
																	"      \"fspId\": \"payerfsp\"\r",
																	"    }\r",
																	"  },\r",
																	"  \"amountType\": \"RECEIVE\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"transactionType\": {\r",
																	"    \"scenario\": \"TRANSFER\",\r",
																	"    \"initiator\": \"PAYER\",\r",
																	"    \"initiatorType\": \"CONSUMER\"\r",
																	"  },\r",
																	"  \"note\": \"hej\"\r",
																	"}\r",
																	"\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"quoteRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "d1ae2bc4-fd2a-43ff-9cb9-52bdacded847",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is payeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /quotes\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Quote FAILED\", function () {\r",
																	"                throw new Error('Did not receive request on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 1100)\r",
																	"\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
																	"      if(response.responseSize !== 0) {\r",
																	"          //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is payerfsp\", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            \r",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
																	"            // var strData = JSON.stringify(response.json().data)\r",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
																	"            // console.log(`token: ${token}`)\r",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayerfspJWSPubKey'), {alg: ['RS256']})\r",
																	"            // console.log(`isValid: ${isValid}`)\r",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
																	"            //     pm.expect(isValid).to.eql(true);\r",
																	"            // });\r",
																	"            \r",
																	"            //Validate protected header inside Signature\r",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
																	"            \r",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayerfsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payeefsp\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
																	"            });\r",
																	"           \r",
																	"            pm.test(\"payeefsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            \r",
																	"            pm.test(\"Response quoteId is  null\", function () {\r",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
																	"                \r",
																	"            });\r",
																	"          \r",
																	"            pm.test(\"Response ilpPacket is not null\", function () {\r",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
																	"            });\r",
																	"       \r",
																	"           pm.test(\"Response condition is not null\", function () {\r",
																	"               pm.expect(jsonData.condition).not.equal(undefined);\r",
																	"               pm.environment.set(\"condition\", jsonData.condition);\r",
																	"           });\r",
																	"      } else {\r",
																	"          pm.test(\"Quote FAILED\", function () {\r",
																	"            throw new Error('Did not receive response on Payer side');\r",
																	"           });\r",
																	"           // postman.setNextRequest(null);\r",
																	"      }\r",
																	"       \r",
																	"   });\r",
																	"}, 1000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer 6 (payeefsp to payerfsp)",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "d55b4711-8614-4461-877e-5e99a2f5ae42",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib\r",
																	"var window = {}; //fake a window object for the lib\r",
																	"eval(pm.environment.get('jrsassign'));\r",
																	"\r",
																	"var uuid = require('uuid');\r",
																	"var generatedUUID = uuid.v4();\r",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
																	"\r",
																	"\r",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
																	"\r",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
																	"\r",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
																	"var sHeader = JSON.stringify(oHeader);\r",
																	"console.log(`sHeader: ${sHeader}`)\r",
																	"\r",
																	"var objPayload = {\r",
																	"  \"transferId\": pm.environment.get('transfer_ID'),\r",
																	"  \"payerFsp\": \"payeefsp\",\r",
																	"  \"payeeFsp\": \"payerfsp\",\r",
																	"  \"amount\": {\r",
																	"    \"amount\": \"25\",\r",
																	"    \"currency\": pm.environment.get('currency')\r",
																	"  },\r",
																	"  \"expiration\": pm.environment.get('transferExpiration'),\r",
																	"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
																	"  \"condition\": pm.environment.get('condition')\r",
																	"}\r",
																	"var sPayload = JSON.stringify(objPayload)\r",
																	"console.log(`sPayload: ${sPayload}`)\r",
																	"pm.variables.set(\"transferRequest\", sPayload);\r",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));\r",
																	"//console.log(`token: ${token}`)\r",
																	"\r",
																	"// var encodedHeaders = btoa(sHeader)\r",
																	"\r",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
																	"// var token = JSON.stringify(ofspiopSignature)\r",
																	"\r",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
																	"\r",
																	"const signatureObject = {\r",
																	"    signature: signature.replace('\"', ''),\r",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
																	"};\r",
																	"\r",
																	"console.log(JSON.stringify(signatureObject))\r",
																	"\r",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "b8db21d0-2e2c-43e6-98b6-0931f4ec84c9",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {\r",
																	"    pm.response.to.have.status(202);\r",
																	"});\r",
																	"\r",
																	"// //Check the request that Switch forwards to payerfsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"              \r",
																	"              //Check the Headers\r",
																	"              var headers = response.json().headers;\r",
																	"              \r",
																	"                pm.test(\"payerfsp fspiop-source is goldenpayeefsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {\r",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp content-typeis same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp accept is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-signature is same as sent in the request\", function () {\r",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-http-method is POST\", function () {\r",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
																	"                });\r",
																	"                \r",
																	"                pm.test(\"payerfsp fspiop-uri is /transfers\", function () {\r",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
																	"                });\r",
																	"                \r",
																	"                \r",
																	"                //Check the data\r",
																	"                var jsonData = response.json().data;\r",
																	"                pm.test(\"payerfsp data should have the same transferId as request\", function () {\r",
																	"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same payeefspId as request\", function () {\r",
																	"                  pm.expect(jsonData.payeeFsp).to.eql('payerfsp');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same payerfspId as request\", function () {\r",
																	"                  pm.expect(jsonData.payerFsp).to.eql('payeefsp');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same amount as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.amount).to.eql('25');\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same currency as request\", function () {\r",
																	"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same expiration as request\", function () {\r",
																	"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same ilpPacket as request\", function () {\r",
																	"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
																	"                });\r",
																	"                pm.test(\"payerfsp data should have the same condition as request\", function () {\r",
																	"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
																	"                });\r",
																	"                \r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payee side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"  });\r",
																	"}, 2000)\r",
																	"\r",
																	"//Check the callback response that Switch forwards to payeefsp\r",
																	"setTimeout(function () {\r",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
																	"          if(response.responseSize !== 0) {\r",
																	"            //Checking headers\r",
																	"            var headers = response.json().headers;\r",
																	"            pm.test(\"payeefsp fspiop-source is goldenpayerfsp \", function () {\r",
																	"                pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {\r",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp accept is empty\", function () {\r",
																	"                pm.expect(headers['accept']).to.eql(undefined);\r",
																	"            });\r",
																	"            \r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
																	"            });\r",
																	"            \r",
																	"            pm.test(\"payeefsp fspiop-http-method is PUT\", function () {\r",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
																	"            });\r",
																	"            \r",
																	"            var jsonData = response.json().data;\r",
																	"            pm.test(\"Response data does not have transferId\", function () {\r",
																	"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
																	"            });\r",
																	"            pm.test(\"Response status is COMMITTED\", function () {\r",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
																	"            });\r",
																	"          } else {\r",
																	"              pm.test(\"Transfer FAILED\", function () {\r",
																	"                throw new Error('Did not receive response on payer side');\r",
																	"              });\r",
																	"              // postman.setNextRequest(null)\r",
																	"          }\r",
																	"   });\r",
																	"}, 2000)\r",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/transfers"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Create Settlement",
											"item": [
												{
													"name": "Get Existing Open Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "0a6b43d6-878b-4698-a3b7-c8302ec3acdb",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"State should be OPEN\", function () {",
																	"    var jsonData = pm.response.json();",
																	"    pm.expect(jsonData[0].state).to.eql('OPEN');",
																	"    pm.environment.set(\"openWindowID\", jsonData[0].settlementWindowId);",
																	"    console.log('openWindowID',pm.environment.get(\"openWindowID\"));",
																	"});",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows"
															],
															"query": [
																{
																	"key": "state",
																	"value": "OPEN"
																}
															]
														}
													},
													"response": []
												},
												{
													"name": "Close Existing Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "fe124002-f4d2-45a3-9210-e081a6f5009f",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.test(\"New window State should be OPEN\", function () {",
																	"    console.log(pm.response.json());",
																	"    pm.expect(pm.response.json().state).to.eql('OPEN');",
																	"    pm.environment.set(\"newOpenWindowID\", pm.response.json().settlementWindowId);",
																	"    pm.environment.set(\"closedWindowID\",  pm.environment.get(\"openWindowID\"));",
																	"    console.log('newOpenWindowID',pm.environment.get(\"newOpenWindowID\"));",
																	"    console.log('closedWindowID',pm.environment.get(\"closedWindowID\"));",
																	"});"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n  \"state\": \"CLOSED\",\n  \"reason\": \"string\"\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openWindowID}}",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlementWindows",
																"{{openWindowID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Create Settlement for Closed Window",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "a10895f1-8b91-49f7-a6d4-c170764c9ade",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"pm.environment.set(\"settlementId\", pm.response.json().id);",
																	"var jsonData = pm.response.json();",
																	"    ",
																	"pm.test(\"Settlement State should be PENDING_SETTLEMENT\", function () {",
																	"    pm.expect(jsonData.state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Number of associated windows should be 1\", function () {",
																	"    pm.expect(jsonData.settlementWindows.length).to.eql(1);",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
																	"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
																	"});",
																	"",
																	"pm.test(\"Associated Settlement Window state should be PENDING_SETTLEMENT \", function () {",
																	"    pm.expect(jsonData.settlementWindows[0].state).to.eql('PENDING_SETTLEMENT');",
																	"});",
																	"",
																	"pm.test(\"Associated number of participants should be 4 \", function () {",
																	"    pm.expect(jsonData.participants.length).to.eql(4);",
																	"});",
																	"",
																	"for(var j in jsonData.participants) {",
																	"    for(var k in jsonData.participants[j].accounts) {",
																	"        console.log(jsonData.participants[j].accounts[k].id)",
																	"        if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payerFspAccountId\"))) {",
																	"            console.log('payerfspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payerfspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        } else if(jsonData.participants[j].accounts[k].id === Number(pm.environment.get(\"payeeFspAccountId\"))) {",
																	"            console.log('payeefspNetSettlementAmount:',jsonData.participants[j].accounts[k].netSettlementAmount.amount)",
																	"            pm.environment.set(\"payeefspNetSettlementAmount\",jsonData.participants[j].accounts[k].netSettlementAmount.amount);",
																	"        }",
																	"        ",
																	"    }",
																	"}",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n\t\"settlementModel\": \"DEFERREDNET\",\n  \"reason\": \"TESTING\",\n  \"settlementWindows\": [\n    {\n      \"id\": {{closedWindowID}}\n    }\n  ]\n}"
														},
														"url": {
															"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements",
															"host": [
																"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
															],
															"path": [
																"settlements"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "Store Settlement&Position Account Balances After Transfers",
											"item": [
												{
													"name": "testfsp1 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "f31e2985-94b4-4e5b-bdbd-f893d6d71e41",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .forEach(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp1SettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp1PositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp1",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "testfsp2 balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "f8a06ed5-fcf3-4bbc-ac52-84e3b4e399e3",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"testfsp2SettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"testfsp2PositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"testfsp2",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payerfsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "17ff462d-7148-448e-8ce9-a8a8b2c319c6",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payerfspSettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payerfspPositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"value": "{{hub_operator}}",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payerfsp",
																"accounts"
															]
														}
													},
													"response": []
												},
												{
													"name": "payeefsp balances",
													"event": [
														{
															"listen": "test",
															"script": {
																"id": "fbf030df-e846-46ba-b261-4ec2cef497df",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"var jsonData = pm.response.json();",
																	"jsonData",
																	"    .filter(account => account.currency === pm.environment.get('currency'))",
																	"    .map(curAccount => {",
																	"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
																	"            pm.environment.set(\"payeefspSettleAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"        if(curAccount.ledgerAccountType === \"POSITION\") {",
																	"            pm.environment.set(\"payeefspPositionAccountBalanceAfterTransfer\", curAccount.value);",
																	"        }",
																	"    })",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "{{hub_operator}}"
															}
														],
														"url": {
															"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
															"host": [
																"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
															],
															"path": [
																"participants",
																"payeefsp",
																"accounts"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Prepare Settlement",
									"item": [
										{
											"name": "Prepare Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "abc1d774-7c09-40c8-838f-a2bdf13609fa",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers recorded for payer\",",
															"                      \"state\": \"PS_TRANSFERS_RECORDED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         console.log(jsonData.participants[j].accounts[k].id)",
															"//         if(jsonData.participants[j].accounts[k].currency === 'XOF') {",
															"//             const participantPutRequest = {",
															"//               url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"//               method: 'PUT',",
															"//               header: {",
															"//                   \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"//                   \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"//                   \"Content-Type\": \"application/json\"",
															"//               },",
															"//               body: {",
															"//                 mode: 'raw',",
															"//                 raw: JSON.stringify(",
															"//                     {",
															"//                       \"participants\": [",
															"//                         {",
															"//                           \"id\": jsonData.participants[j].id,",
															"//                           \"accounts\": [",
															"//                             {",
															"//                               \"id\": jsonData.participants[j].accounts[k].id,",
															"//                               \"reason\": \"Transfers recorded for payer\",",
															"//                               \"state\": \"PS_TRANSFERS_RECORDED\"",
															"//                             }",
															"//                           ]",
															"//                         }",
															"//                       ]",
															"//                     }",
															"//                 )",
															"//               }",
															"//             };",
															"//             pm.sendRequest(participantPutRequest, function (err, response) {",
															"//                 console.log(response.json());",
															"//             });",
															"//         }",
															"",
															"",
															"//     }",
															"// }"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f0050453-bc29-4e1e-a1a3-b5b1d6ffc634",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RECORDED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RECORDED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"// for(var j in jsonData.participants) {",
															"//     for(var k in jsonData.participants[j].accounts) {",
															"//         pm.test(`Participant Account ${jsonData.participants[j].accounts[k].id} state is PS_TRANSFERS_RECORDED`, function () {",
															"//             pm.expect(jsonData.participants[j].accounts[k].state).to.eql(\"PS_TRANSFERS_RECORDED\");",
															"//         });",
															"//     }",
															"// }",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "c143629a-c2bc-4a88-981d-314652cea446",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterPrepare;",
															"var testfsp1PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"",
															"pm.test(\"Testfsp1 position account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceAfterTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f9882a66-0690-4d27-93fb-cd9043cdd6d2",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterPrepare;",
															"var testfsp2PositionAccountBalanceAfterPrepare;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterPrepare = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance before and  after prepare should be the same.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceAfterTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ce64a486-a857-48a1-b86e-57452decd965",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterPrepare;\r",
															"var payerfspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payerfsp position account balance before and  after prepare should be the same.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceAfterTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after prepare",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0153e9cd-052d-4d9c-9aba-3567fb7b3f5d",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterPrepare;\r",
															"var payeefspPositionAccountBalanceAfterPrepare;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterPrepare = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after prepare should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance before and  after prepare should be the same.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterPrepare).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceAfterTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Reserve Settlement",
									"item": [
										{
											"name": "Reserve Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "7fbff7eb-b004-42d5-975c-58a9ebd7d611",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"  participant.accounts",
															"    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"      const participantPutRequest = {",
															"        url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\") + pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\") + '/settlements/' + pm.environment.get(\"settlementId\"),",
															"        method: 'PUT',",
															"        header: {",
															"          \"Authorization\": \"Bearer \" + pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"          \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"          \"Content-Type\": \"application/json\"",
															"        },",
															"        body: {",
															"          mode: 'raw',",
															"          raw: JSON.stringify(",
															"            {",
															"              \"participants\": [",
															"                {",
															"                  \"id\": participant.id,",
															"                  \"accounts\": [",
															"                    {",
															"                      \"id\": curAccount.id,",
															"                      \"reason\": \"Transfers reserved\",",
															"                      \"state\": \"PS_TRANSFERS_RESERVED\"",
															"                    }",
															"                  ]",
															"                }",
															"              ]",
															"            }",
															"          )",
															"        }",
															"      };",
															"      pm.sendRequest(participantPutRequest, function (err, response) {",
															"        console.log(response.json());",
															"      });",
															"    })",
															"})"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f8046182-b79f-48cb-a5af-7ef8fa050576",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \" + pm.environment.get('settlementId'), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_RESERVED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is PS_TRANSFERS_RESERVED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"PS_TRANSFERS_RESERVED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "d87916d6-641c-4ecd-8267-3279b251a875",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterReserve;",
															"var testfsp1PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after reserve should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp1 position account balance before and  after reserve should be the same.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceAfterTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2f70e44c-0967-4378-8560-ede1f23a04bc",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterReserve;",
															"var testfsp2PositionAccountBalanceAfterReserve;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterReserve = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after reserve should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance after reserve gets increased by its net settlement  amount.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "fa609150-3603-4958-bce2-1c711cfa185c",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterReserve;\r",
															"var payerfspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"\r",
															"pm.test(\"payerfsp position account balance after reserve gets increased by its net settlement  amount.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after reserve",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "601c02aa-500e-4922-b062-3a3cfbf0ce32",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterReserve;\r",
															"var payeefspPositionAccountBalanceAfterReserve;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .map(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterReserve = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance before and  after reserve should be the same.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterReserve).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Commit Settlement",
									"item": [
										{
											"name": "Commit Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "48a72423-257d-4e5f-9da9-9856d2d4da7d",
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers committed\",",
															"                                          \"state\": \"PS_TRANSFERS_COMMITTED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "42203768-38a5-43c2-a710-5142cc69c1a5",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be PS_TRANSFERS_COMMITTED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be PENDING_SETTLEMENT\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"PENDING_SETTLEMENT\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === 'XOF')",
															"                    .forEach(xofAccount => {",
															"                        pm.test(`Participant Account ${xofAccount.id} state is PS_TRANSFERS_COMMITTED`, function () {",
															"                            pm.expect(xofAccount.state).to.eql(\"PS_TRANSFERS_COMMITTED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "99f7095f-0d1c-4387-9b62-72524b315926",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterCommit;",
															"var testfsp1PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceAfterTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp1 position account balance after commit should be reduced by its net settlement amount.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "3087f0f3-49dd-47bd-bbe5-a291f0cd568a",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance before and after commit should be the same.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceBeforeTransfer\"));",
															"});",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ce6e1e0a-c857-4a61-b711-c7dc88c01dc5",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payerfsp position account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after commit",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0f755b2b-31a6-4e57-a34e-ad6426519e37",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance after commit should be reduced by its net settlement amount.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "hub account balance check",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "d78f8433-8170-474b-be62-341d817631ce",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var hubReconciliationAccountBalanceAfterCommit;\r",
															"var hubMultilateralAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"HUB_RECONCILIATION\") {\r",
															"            hubReconciliationAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"HUB_MULTILATERAL_SETTLEMENT\") {\r",
															"            hubMultilateralAccountBalanceAfterCommit = curAccount.value;\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"hub reconciliation account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubReconciliationAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubReconciliationAccountBalanceBeforeTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"hub multilateral account balance before transfer and  after commit should be the same.\", function () {\r",
															"    pm.expect(hubMultilateralAccountBalanceAfterCommit).to.eql(pm.environment.get(\"hubMultilateralAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"Hub",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "Settle Settlement",
									"item": [
										{
											"name": "Settle Settlement",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "8154b706-89ff-4050-ae8c-bfaf928775e5",
														"exec": [
															"",
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        const participantPutRequest = {",
															"                          url: pm.environment.get(\"HOST_CENTRAL_SETTLEMENT\")+pm.environment.get(\"BASE_CENTRAL_SETTLEMENT\")+'/settlements/'+pm.environment.get(\"settlementId\"),",
															"                          method: 'PUT',",
															"                          header: {",
															"                              \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
															"                              \"FSPIOP-Source\": pm.environment.get(\"hub_operator\"),",
															"                              \"Content-Type\": \"application/json\"",
															"                          },",
															"                          body: {",
															"                            mode: 'raw',",
															"                            raw: JSON.stringify(",
															"                                {",
															"                                  \"participants\": [",
															"                                    {",
															"                                      \"id\": participant.id,",
															"                                      \"accounts\": [",
															"                                        {",
															"                                          \"id\": curAccount.id,",
															"                                          \"reason\": \"Transfers settled for payer\",",
															"                                          \"state\": \"SETTLED\"",
															"                                        }",
															"                                      ]",
															"                                    }",
															"                                  ]",
															"                                }",
															"                            )",
															"                          }",
															"                        };",
															"                        pm.sendRequest(participantPutRequest, function (err, response) {",
															"                            console.log(response.json());",
															"                        });",
															"                    })",
															"})",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"type": "text",
														"value": "{{hub_operator}}"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "check state for participants after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e1ab1f60-3c62-4f4e-a65a-c104a86c6fe7",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"    ",
															"pm.test(\"Settlement Id should be: \"+pm.environment.get(\"settlementId\"), function () {",
															"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"settlementId\"));",
															"});",
															"",
															"pm.test(\"Settlement state should be SETTLED\", function () {",
															"    pm.expect(jsonData.state).to.eql(\"SETTLED\");",
															"});",
															"",
															"pm.test(\"Settlement Window ID should be: \"+pm.environment.get(\"closedWindowID\"), function () {",
															"    pm.expect(jsonData.settlementWindows[0].id).to.eql(pm.environment.get(\"closedWindowID\"));",
															"});",
															"",
															"pm.test(\"Settlement Window State should be SETTLED\", function () {",
															"    pm.expect(jsonData.settlementWindows[0].state).to.eql(\"SETTLED\");",
															"});",
															"",
															"jsonData.participants.map(participant => {",
															"    participant.accounts",
															"                    .filter(account => account.netSettlementAmount.currency === pm.environment.get('currency'))",
															"                    .forEach(curAccount => {",
															"                        pm.test(`Participant Account ${curAccount.id} state is SETTLED`, function () {",
															"                            pm.expect(curAccount.state).to.eql(\"SETTLED\");",
															"                        });",
															"                    })",
															"})",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlements/{{settlementId}}",
													"host": [
														"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
													],
													"path": [
														"settlements",
														"{{settlementId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp1 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "42bd9ca5-4781-4c88-88c0-9b181c9f9399",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp1SettleAccountBalanceAfterSettle;",
															"var testfsp1PositionAccountBalanceAfterSettle;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp1SettleAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp1PositionAccountBalanceAfterSettle = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp1 settlement account balance before and  after settle should be the same.\", function () {",
															"    pm.expect(testfsp1SettleAccountBalanceAfterSettle).to.eql(pm.environment.get(\"testfsp1SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp1 position account balance before and  after settle should be the same.\", function () {",
															"    pm.expect(testfsp1PositionAccountBalanceAfterSettle).to.eql(pm.environment.get(\"testfsp1PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp1/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp1",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "testfsp2 settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "4ac44d86-d2b7-4c36-b3fb-d4964391ff54",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"var testfsp2SettleAccountBalanceAfterCommit;",
															"var testfsp2PositionAccountBalanceAfterCommit;",
															"jsonData",
															"    .filter(account => account.currency === pm.environment.get('currency'))",
															"    .forEach(curAccount => {",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {",
															"            testfsp2SettleAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {",
															"            testfsp2PositionAccountBalanceAfterCommit = curAccount.value",
															"        }",
															"    })",
															"",
															"pm.test(\"Testfsp2 settlement account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp2SettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2SettleAccountBalanceBeforeTransfer\"));",
															"});",
															"",
															"pm.test(\"Testfsp2 position account balance before and  after commit should be the same.\", function () {",
															"    pm.expect(testfsp2PositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"testfsp2PositionAccountBalanceBeforeTransfer\"));",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"testfsp2",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payerfsp settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "15b2cfd7-7f5a-455f-9de1-184199125995",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payerfspSettleAccountBalanceAfterCommit;\r",
															"var payerfspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payerfspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payerfspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"\r",
															"pm.test(\"payerfsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payerfsp position account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payerfspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payerfspPositionAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payerfsp",
														"accounts"
													]
												}
											},
											"response": []
										},
										{
											"name": "payeefsp settlement&position accont balance after settle",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "9cd72410-1373-4cc5-8ad2-90b9f1859383",
														"exec": [
															"pm.test(\"Status code is 200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"var jsonData = pm.response.json();\r",
															"var payeefspSettleAccountBalanceAfterCommit;\r",
															"var payeefspPositionAccountBalanceAfterCommit;\r",
															"jsonData\r",
															"    .filter(account => account.currency === pm.environment.get('currency'))\r",
															"    .forEach(curAccount => {\r",
															"        if(curAccount.ledgerAccountType === \"SETTLEMENT\") {\r",
															"            payeefspSettleAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"        if(curAccount.ledgerAccountType === \"POSITION\") {\r",
															"            payeefspPositionAccountBalanceAfterCommit = curAccount.value\r",
															"        }\r",
															"    })\r",
															"\r",
															"pm.test(\"payeefsp settlement account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payeefspSettleAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspSettleAccountBalanceAfterTransfer\"));\r",
															"});\r",
															"\r",
															"pm.test(\"payeefsp position account balance before and  after commit should be the same.\", function () {\r",
															"    pm.expect(payeefspPositionAccountBalanceAfterCommit).to.eql(pm.environment.get(\"payeefspPositionAccountBalanceBeforeTransfer\"));\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "FSPIOP-Source",
														"value": "{{hub_operator}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/accounts",
													"host": [
														"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
													],
													"path": [
														"participants",
														"payeefsp",
														"accounts"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "9e2a2a08-329b-4908-a1ce-246b50ae26a8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "1bd10cf3-5f5c-4b98-9c7f-c553074dbb20",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "transfer_negative_scenarios",
					"item": [
						{
							"name": "fulfil-reserved-v1.0",
							"item": [
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "99c6c6fb-eee9-4b3b-8e45-bdf414f0512e",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"1\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "55a6e40f-f873-422a-970a-75a86b1c4f9e",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1100)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer-Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "eb8336de-77c6-48c2-a07c-0ce2f87cd9b0",
												"exec": [
													"",
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 1000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"noresponsepayeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": \"payerfsp\",",
													"  \"payeeFsp\": \"noresponsepayeefsp\",",
													"  \"amount\": {",
													"    \"amount\": \"1\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
													"  \"condition\": pm.environment.get('validCondition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "533787db-685f-40eb-9019-8a9c15ce4015",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "noresponsepayeefsp",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Fulfill-Reserved",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "63f300ce-5fa5-4f15-9f60-6bb3ede3eb5a",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let retries = 0;",
													"const maxRetries = 6;",
													"",
													"const runTest = () => {",
													"    setTimeout(function () {",
													"        pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\") + \"/callbacks/\" + pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"            if (response.responseSize !== 0) {",
													"                //Check headers",
													"                var headers = response.json().headers;",
													"",
													"                pm.test(\"fspiop-source is source\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
													"                });",
													"",
													"                pm.test(\"fspiop-destination is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"                });",
													"",
													"                //Uncomment after JWS is implemented",
													"                // pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
													"                // });",
													"",
													"",
													"                pm.test(\"payeefsp content-type is same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"",
													"                pm.test(\"date header should not be empty\", function () {",
													"                    pm.expect(headers['date']).to.be.not.empty;",
													"                });",
													"",
													"                pm.test(\"accept header should be sent in the response\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"",
													"                //Check data",
													"                var jsonData = response.json().data;",
													"                pm.test(\"Response should be timeout error information\", function () {",
													"                    pm.expect(jsonData).to.deep.eql({",
													"                        errorInformation: {",
													"                            errorCode: \"3300\",",
													"                            errorDescription: \"Generic expired error\"",
													"                        }",
													"                    });",
													"                });",
													"            } else {",
													"                if (retries < maxRetries) {",
													"                    console.log('retrying...', ++retries)",
													"                    runTest()",
													"                    return;",
													"                }",
													"                pm.test(\"Transfer FAILED\", function () {",
													"                    throw new Error('Did not receive response');",
													"                });",
													"            }",
													"        }",
													"        );",
													"    }, 2000)",
													"}",
													"runTest()",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "e1ad7092-21a4-497c-b9cc-839e7b14a492",
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"fulfilment\": pm.environment.get('validFulfillment'),",
													"  \"transferState\": \"RESERVED\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferResponse\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "noresponsepayeefsp",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payerfsp",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers/{{transfer_ID}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferResponse}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Transfer status",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "61a0847f-dec9-42f4-948d-6304a1a232d1",
												"exec": [
													"",
													"   pm.variables.set('transferDate', (new Date()).toUTCString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "1fb162f2-f68a-4c00-8efe-72ca9eec3365",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Check headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"fspiop-source is switch\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
													"                });",
													"                ",
													"                pm.test(\"fspiop-destination is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\" content-type is same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"date header should not be empty\", function () {",
													"                    pm.expect(headers['date']).to.be.not.empty;",
													"                });",
													"                ",
													"                pm.test(\"accept header should not be sent in the response\", function () {",
													"                    pm.expect(headers['accept']).to.eql(undefined);",
													"                });",
													"                ",
													"                pm.test(\"fspiop-signature is not null\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"                ",
													"                pm.test(\" fspiop-http-method is PUT\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"                });",
													"                ",
													"                pm.test(` fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
													"                });",
													"                ",
													"             //Check data    ",
													"              var jsonData = response.json().data;",
													"              pm.test(\"Response transferState should be ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"          }",
													"   });",
													"}, 1300)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "payee_invalid_fulfillment",
							"item": [
								{
									"name": "Store Payerfsp position",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "505314c7-9de7-470f-a44a-de33e4ae823d",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('currency'))",
													"    .forEach(position => {",
													"        pm.environment.set(\"payerfspPositionBeforeTransfer\", position.value);",
													"    })",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "b3bd91b0-ea69-476d-9763-639584e1750c",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"value": "{{hub_operator}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store Payeefsp position",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "48e445c6-f9d6-49de-babc-0636aa36cbef",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(position => position.currency === pm.environment.get('currency'))",
													"    .forEach(position => {",
													"        pm.environment.set(\"payeefspPositionBeforeTransfer\", position.value);",
													"    })",
													"    ",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "85fa9d5e-2291-4b5c-8fa4-005c7de65d0e",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payeefsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payeefsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote - RECEIVE",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "4617b047-12a0-4f2a-b511-4a6df80b5ada",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "c5311dfc-e866-43d2-8829-ae3132c28fc5",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              //Check the Headers",
													"              var headers = response.json().headers;",
													"              ",
													"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
													"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
													"                });",
													"                ",
													"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
													"                });",
													"                ",
													"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
													"                });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1100)",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Response quoteId is  null\", function () {",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);",
													"                ",
													"            });",
													"          ",
													"            pm.test(\"Response ilpPacket is not null\", function () {",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"            });",
													"       ",
													"           pm.test(\"Response condition is not null\", function () {",
													"               pm.expect(jsonData.condition).not.equal(undefined);",
													"               pm.environment.set(\"condition\", jsonData.condition);",
													"           });",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "7ce514c5-f0d2-45f5-b2b2-53731cc4ea13",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"noresponsepayeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": \"payerfsp\",\r",
													"  \"payeeFsp\": \"noresponsepayeefsp\",\r",
													"  \"amount\": {\r",
													"    \"amount\": \"10\",\r",
													"    \"currency\": pm.environment.get('currency')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "77cae3d7-01ed-4510-8e7b-798b20a312ac",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "noresponsepayeefsp",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Payee Invalid Fulfillment",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "1b1451f1-873f-41da-ba9a-b5aa50a4e028",
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "b4cb3b87-593a-4275-9fb4-99f634381357",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"//TODO Need to doublecheck ML Backend functionality in the new release",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"//             //Checking headers",
													"//             var headers = response.json().headers;",
													"//             pm.test(\"payeefsp fspiop-source is switch \", function () {",
													"//                 pm.expect(headers['fspiop-source']).to.eql('switch');",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-destination is noresponsepayeefsp\", function () {",
													"//                 pm.expect(headers['fspiop-destination']).to.eql('noresponsepayeefsp');",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp accept is empty\", function () {",
													"//                 pm.expect(headers['accept']).to.eql(undefined);",
													"//             });",
													"            ",
													"            ",
													"//             pm.test(\"payeefsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"//                 pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-signature is not null\", function () {",
													"//                 pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"//             });",
													"            ",
													"//             pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
													"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"//             });",
													"            ",
													"//             var jsonData = response.json().data;",
													"//             pm.test(\"Response Error Code is 3100\", function () {",
													"//               pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"//             });",
													"//             pm.test(\"Response Error Description is Generic validation error - invalid fulfilment\", function () {",
													"//               pm.expect(jsonData.errorInformation.errorDescription).to.eql('Generic validation error - invalid fulfilment');",
													"//             });",
													"//           } else {",
													"//               pm.test(\"Transfer FAILED\", function () {",
													"//                 throw new Error('Did not receive response on payer side');",
													"//               });",
													"//               // postman.setNextRequest(null)",
													"//           }",
													"//   });",
													"// }, 3000)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "noresponsepayeefsp"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"fulfilment\": \"{{invalidFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"COMMITTED\"\n}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Transfer status on Payerfsp - ABORTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "44433ef0-4769-4f54-bd23-41c2aca41488",
												"exec": [
													"",
													"   var uuid = require('uuid');",
													"   var generatedUUID = uuid.v4();",
													"   pm.variables.set('transferId', generatedUUID);",
													"",
													"   pm.variables.set('transferDate', (new Date()).toUTCString());",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "0b0ed181-cbc1-4a5b-84ca-91a5ed16d571",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
													"// });",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"transfer_ID\"), function (err, response) {",
													"          if(response !== null) {",
													"              var jsonData = response.json().data;",
													"              ",
													"              pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"              });",
													"              pm.test(\"Extension List value is 3100: Generic validation error - invalid fulfilment\", function () {",
													"                pm.expect(jsonData.extensionList.extension[0].value).to.eql('3100: Generic validation error - invalid fulfilment');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 3000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYERFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{payeefsp}}",
												"disabled": true
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payerfsp&Payeefsp position",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "03cf7ee2-2c23-4bb4-a64c-4a4923a29e08",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payerfsp position after transfer and after Payee ABORT should be same as position before transfer.\", function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payerfspPositionBeforeTransfer')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "79f8333f-f543-44de-8e28-e76f115c90a9",
												"exec": [
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 10000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"value": "{{hub_operator}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "payee_abort_v1.1",
							"item": [
								{
									"name": "Store Payerfsp position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a71de95e-aef8-4e38-9921-ffceca5f8102",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payerfspPositionBeforePrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d7557972-74eb-41f3-a03d-731f2b66d360",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store Payeefsp position before prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fda2f8fd-3bd4-4650-8b6d-745c4d5b1e58",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payeefspPositionBeforePrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "40e40710-9014-4f16-9d55-039ebe8c68e0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payeefsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/noresponsepayeefsp/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"noresponsepayeefsp",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Prepare",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "9e3feb56-79b4-44c3-9f63-336d7837f123",
												"exec": [
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transfer_ID', generatedUUID);",
													"pm.environment.set('transferDate', (new Date()).toUTCString());",
													"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));",
													"pm.environment.set('transferAmount', 99);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "03fb9775-1458-41de-8db2-217ef7e577c2",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "noauth"
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.1"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "noresponsepayeefsp"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"transferId\": \"{{transfer_ID}}\",\n  \"payerFsp\": \"{{payerfsp}}\",\n  \"payeeFsp\": \"noresponsepayeefsp\",\n  \"amount\": {\n    \"amount\": \"{{transferAmount}}\",\n    \"currency\": \"{{currency}}\"\n  },\n  \"expiration\": \"{{transferExpiration}}\",\n  \"ilpPacket\": \"{{ilpPacket}}\",\n  \"condition\": \"{{validCondition}}\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Store Payerfsp position after Prepare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "733748ac-2a7f-44ea-9e1e-2cabd807a27b",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.environment.set(\"payerfspPositionAfterPrepare\", jsonData[0].value);",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "78064bf0-7d51-4b2c-acc0-de3f2730469c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Payee Abort - should do nothing but log in fulfil handler",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c262fa12-9e59-47fb-ba67-aaef882334c4",
												"exec": [
													"// pm.test(\"Status code is 200\", function () {",
													"//     pm.response.to.have.status(200);",
													"// });",
													"",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/correlationid/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"//               var jsonData = response.json();",
													"//               pm.test(\"Response code should be ABORTED\", function () {",
													"//                 pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"//               });",
													"//           } else {",
													"//               pm.test(\"Transfer FAILED\", function () {",
													"//                 throw new Error('Did not receive response');",
													"//               });",
													"              ",
													"//           }",
													"//   });",
													"// }, 5000)",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a368f177-9eea-4349-92fa-558597d16a3f",
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true,
											"content-type": true
										}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYEEFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.1"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "noresponsepayeefsp"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"fulfilment\": \"{{validFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"ABORTED\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payerfsp position after Abort to wrong url",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9e0cc228-246f-4170-bfcb-47a4ac307ebc",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payerfsp position after Payee ABORT should be same as position after prepare.\", function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payerfspPositionAfterPrepare')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2636e3ee-0c65-41d0-8572-f16f091b9abe",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Fulfill-Reject",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e15f9e1a-398a-4ae3-b75e-51e5d7405c1b",
												"exec": [
													"pm.environment.set(\"completedTimestamp\",new Date().toISOString());"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "6b653fc7-e4d6-4b53-bca3-dfa3b7e8480f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"//               //Check headers",
													"//               var headers = response.json().headers;",
													"              ",
													"//                 pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
													"//                     pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
													"//                 });",
													"                ",
													"//                 pm.test(\"fspiop-destination is payerfsp\", function () {",
													"//                     pm.expect(headers['fspiop-destination']).to.eql(pm.environment.get('payerfsp'));",
													"//                 });",
													"                ",
													"//                 //Uncomment after JWS is implemented",
													"//                 // pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"//                 //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
													"//                 // });",
													"                ",
													"                ",
													"//                 pm.test(\"payeefsp content-type is same as sent in the request\", function () {",
													"//                     pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.1');",
													"//                 });",
													"                ",
													"//                 pm.test(\"date header should not be empty\", function () {",
													"//                     pm.expect(headers['date']).to.be.not.empty;",
													"//                 });",
													"                ",
													"//                 pm.test(\"accept header should not be sent in the response\", function () {",
													"//                     pm.expect(headers['accept']).to.eql(undefined);",
													"//                 });",
													"                ",
													"//               //Check data",
													"//               var jsonData = response.json().data;",
													"//               console.log('== response ==', jsonData)",
													"//               pm.test(\"Response Error Code is 5101\", function () {",
													"//                 pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
													"//               });",
													"              ",
													"//               pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
													"//                 pm.expect(jsonData.errorInformation.errorDescription).to.include('Payee transaction limit reached');",
													"//                 //pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
													"//               });",
													"              ",
													"//           } else {",
													"//               pm.test(\"Transfer FAILED\", function () {",
													"//                 throw new Error('Did not receive response');",
													"//               });",
													"              ",
													"//           }",
													"//   });",
													"// }, 5000)"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true
										}
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{PAYEEFSP_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transfers+json;version=1.1"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{dateHeader}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "noresponsepayeefsp"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"errorInformation\": {\n\t\t\"errorCode\": \"5101\",\n\t\t\"errorDescription\": \"Payee transaction limit reached\",\n\t\t\"extensionList\": {\n\t\t\t\"extension\": [{\n\t\t\t\t\"key\": \"errorDetail\",\n\t\t\t\t\"value\": \"This is an abort extension\"\n\t\t\t}]\n\t\t}\n\t}\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}",
												"error"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Transfer status - ABORTED",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "28aae8d1-e118-4ea7-9a52-8760c14494fb",
												"exec": [
													"if (pm.environment.get('CONFIG_GENERATE_NEW_TRANSFER_UUID_ON_PREPARE') === 'true') {",
													"   var uuid = require('uuid');",
													"   var generatedUUID = uuid.v4();",
													"   pm.environment.set('transferId', generatedUUID);",
													"}",
													"",
													"if (pm.environment.get('CONFIG_GENERATE_NEW_PREPARE_DATE') === 'true') {",
													"   pm.environment.set('transferDate', (new Date()).toUTCString());",
													"}"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "e98f1815-8438-432a-a5c2-6467a301b287",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.transfers+json;version=1.0\");",
													"// });",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"              var jsonData = response.json().data;",
													"              ",
													"              pm.test(\"Response status is ABORTED\", function () {",
													"                pm.expect(jsonData.transferState).to.eql('ABORTED');",
													"              });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response');",
													"              });",
													"              ",
													"          }",
													"   });",
													"}, 3000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "noresponsepayeefsp"
											}
										],
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers",
												"{{transfer_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payerfsp position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "836bbc8b-199d-4ae7-b814-1f0f9979eaf3",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payerfsp position after Payee ABORT should be same as position before prepare.\", function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payerfspPositionBeforePrepare')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "fd06bbdd-e61e-4928-8714-639027a57204",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{payerfsp}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{payerfsp}}",
												"positions"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Payeefsp position after Abort",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7e91b14a-b38e-4b7b-8596-83701ce121c7",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"Payeefsp position after Payee ABORT should be same as position before prepare.\", function () {",
													"    ",
													"    pm.expect(jsonData[0].value).to.equal(Number(pm.environment.get('payeefspPositionBeforePrepare')));",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "f58c6db0-8400-4f78-bbfd-e32b1cd9f829",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "noresponsepayeefsp"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/noresponsepayeefsp/positions",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"noresponsepayeefsp",
												"positions"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"description": "Author: Sridevi Miriyala",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f8fdd454-e994-45c1-8693-e1b216cdb275",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "975d66fb-8fc5-4910-8887-ffe16ec11eaa",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "duplicate_handling",
					"item": [
						{
							"name": "transfers",
							"item": [
								{
									"name": "original_transfer_at_committed",
									"item": [
										{
											"name": "Send Quote - RECEIVE",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "33c9f651-06da-4065-a3ec-a01be902c8e5",
														"exec": [
															"var navigator = {}; ",
															"var window = {}; ",
															"eval(pm.environment.get('jrsassign'));",
															"",
															"",
															"var uuid = require('uuid');",
															"var generatedUUID = uuid.v4();",
															"pm.environment.set('quoteId', generatedUUID);",
															"generatedUUID = uuid.v4();",
															"pm.environment.set('transactionId', generatedUUID);",
															"",
															"pm.variables.set('quoteDate', (new Date()).toUTCString());",
															"pm.variables.set('payerName', 'PayerFirst PayerLast');",
															"pm.variables.set('payerMSISDN', '918381008987');",
															"",
															"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
															"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
															"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
															"",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
															"var sHeader = JSON.stringify(oHeader);",
															"console.log(`sHeader: ${sHeader}`)",
															"",
															"var objPayload = {",
															"  \"quoteId\": pm.environment.get('quoteId'),",
															"  \"transactionId\": pm.environment.get('transactionId'),",
															"  \"payer\": {",
															"    \"partyIdInfo\": {",
															"      \"partyIdType\": \"MSISDN\",",
															"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
															"      \"fspId\": \"payerfsp\"",
															"    },",
															"    \"personalInfo\": {",
															"      \"complexName\": {",
															"        \"firstName\": \"Mats\",",
															"        \"lastName\": \"Hagman\"",
															"      },",
															"      \"dateOfBirth\": \"1983-10-25\"",
															"    }",
															"  },",
															"  \"payee\": {",
															"    \"partyIdInfo\": {",
															"      \"partyIdType\": \"MSISDN\",",
															"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
															"      \"fspId\": \"payeefsp\"",
															"    }",
															"  },",
															"  \"amountType\": \"RECEIVE\",",
															"  \"amount\": {",
															"    \"amount\": \"1\",",
															"    \"currency\": pm.environment.get('currency')",
															"  },",
															"  \"transactionType\": {",
															"    \"scenario\": \"TRANSFER\",",
															"    \"initiator\": \"PAYER\",",
															"    \"initiatorType\": \"CONSUMER\"",
															"  },",
															"  \"note\": \"hej\"",
															"}",
															"",
															"var sPayload = JSON.stringify(objPayload)",
															"console.log(`sPayload: ${sPayload}`)",
															"pm.variables.set(\"quoteRequest\", sPayload);",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
															"console.log(`token: ${token}`)",
															"",
															"// var encodedHeaders = btoa(sHeader)",
															"",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
															"// var token = JSON.stringify(ofspiopSignature)",
															"",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');",
															"",
															"const signatureObject = {",
															"    signature: signature.replace('\"', ''),",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
															"};",
															"",
															"console.log(JSON.stringify(signatureObject))",
															"",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "97e85c53-7089-4565-9fd8-78e43af4512b",
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
															"          if(response.responseSize !== 0) {",
															"              ",
															"              //Check the Headers",
															"              var headers = response.json().headers;",
															"              ",
															"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
															"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
															"                });",
															"                ",
															"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
															"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
															"                });",
															"                ",
															"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
															"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
															"                });",
															"                ",
															"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
															"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
															"                });",
															"                ",
															"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
															"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
															"                });",
															"                ",
															"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
															"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
															"                });",
															"                ",
															"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
															"                });",
															"                ",
															"          } else {",
															"              pm.test(\"Quote FAILED\", function () {",
															"                throw new Error('Did not receive request on payee side');",
															"              });",
															"              // postman.setNextRequest(null)",
															"          }",
															"   });",
															"}, 1100)",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
															"      if(response.responseSize !== 0) {",
															"          //Checking headers",
															"            var headers = response.json().headers;",
															"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
															"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
															"            });",
															"            ",
															"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
															"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
															"            });",
															"            ",
															"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
															"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
															"            });",
															"            ",
															"            pm.test(\"payerfsp accept is empty\", function () {",
															"                pm.expect(headers['accept']).to.eql(undefined);",
															"            });",
															"            ",
															"            ",
															"            ",
															"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
															"            // var strData = JSON.stringify(response.json().data)",
															"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
															"            // console.log(`token: ${token}`)",
															"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
															"            // console.log(`isValid: ${isValid}`)",
															"            // pm.test(\"Check if the response is JWS valid\", function () {",
															"            //     pm.expect(isValid).to.eql(true);",
															"            // });",
															"            ",
															"            //Validate protected header inside Signature",
															"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
															"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
															"            ",
															"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
															"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
															"            });",
															"            ",
															"",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
															"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
															"            });",
															"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
															"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
															"            });",
															"           ",
															"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
															"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
															"            });",
															"            ",
															"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
															"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
															"            });",
															"            ",
															"            var jsonData = response.json().data;",
															"            ",
															"            pm.test(\"Response quoteId is  null\", function () {",
															"                pm.expect(jsonData.quoteId).to.eql(undefined);",
															"                ",
															"            });",
															"          ",
															"            pm.test(\"Response ilpPacket is not null\", function () {",
															"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
															"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
															"            });",
															"       ",
															"           pm.test(\"Response condition is not null\", function () {",
															"               pm.expect(jsonData.condition).not.equal(undefined);",
															"               pm.environment.set(\"condition\", jsonData.condition);",
															"           });",
															"      } else {",
															"          pm.test(\"Quote FAILED\", function () {",
															"            throw new Error('Did not receive response on Payer side');",
															"           });",
															"           // postman.setNextRequest(null);",
															"      }",
															"       ",
															"   });",
															"}, 1000)",
															"",
															"",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{PAYERFSP_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "application/vnd.interoperability.quotes+json;version=1.0"
													},
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.quotes+json;version=1.0"
													},
													{
														"key": "Date",
														"value": "{{quoteDate}}"
													},
													{
														"key": "FSPIOP-Source",
														"value": "payerfsp"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "payeefsp"
													},
													{
														"key": "FSPIOP-Signature",
														"type": "text",
														"value": "{{fspiopSignature}}"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"type": "text",
														"value": "POST"
													},
													{
														"key": "FSPIOP-URI",
														"type": "text",
														"value": "/quotes"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{quoteRequest}}"
												},
												"url": {
													"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
													"host": [
														"{{HOST_QUOTING_SERVICE}}"
													],
													"path": [
														"quotes"
													]
												}
											},
											"response": []
										},
										{
											"name": "Send Transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "c014ec0b-67c7-4bad-8d82-04a0fc05549f",
														"exec": [
															"pm.test(\"Status code is 202\", function () {\r",
															"    pm.response.to.have.status(202);\r",
															"});\r",
															"\r",
															"// //Check the request that Switch forwards to payeefsp\r",
															"setTimeout(function () {\r",
															"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
															"          if(response.responseSize !== 0) {\r",
															"              \r",
															"              //Check the Headers\r",
															"              var headers = response.json().headers;\r",
															"              \r",
															"                pm.test(\"payeefsp fspiop-source is goldenpayerfsp\", function () {\r",
															"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');\r",
															"                });\r",
															"                \r",
															"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {\r",
															"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');\r",
															"                });\r",
															"                \r",
															"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {\r",
															"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
															"                });\r",
															"                \r",
															"                pm.test(\"payeefsp accept is same as sent in the request\", function () {\r",
															"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
															"                });\r",
															"                \r",
															"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {\r",
															"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
															"                });\r",
															"                \r",
															"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {\r",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
															"                });\r",
															"                \r",
															"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {\r",
															"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
															"                });\r",
															"                \r",
															"                \r",
															"                //Check the data\r",
															"                var jsonData = response.json().data;\r",
															"                pm.test(\"payeefsp data should have the same transferId as request\", function () {\r",
															"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
															"                });\r",
															"                pm.test(\"payeefsp data should have the same payerfspId as request\", function () {\r",
															"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');\r",
															"                });\r",
															"                pm.test(\"payeefsp data should have the same payeefspId as request\", function () {\r",
															"                  pm.expect('payeefsp');\r",
															"                });\r",
															"                pm.test(\"payeefsp data should have the same amount as request\", function () {\r",
															"                  pm.expect(jsonData.amount.amount).to.eql('1');\r",
															"                });\r",
															"                pm.test(\"payeefsp data should have the same currency as request\", function () {\r",
															"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
															"                });\r",
															"                pm.test(\"payeefsp data should have the same expiration as request\", function () {\r",
															"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
															"                });\r",
															"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {\r",
															"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
															"                });\r",
															"                pm.test(\"payeefsp data should have the same condition as request\", function () {\r",
															"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
															"                });\r",
															"                \r",
															"          } else {\r",
															"              pm.test(\"Transfer FAILED\", function () {\r",
															"                throw new Error('Did not receive response on payee side');\r",
															"              });\r",
															"              // postman.setNextRequest(null)\r",
															"          }\r",
															"  });\r",
															"}, 1500)\r",
															"\r",
															"//Check the callback response that Switch forwards to payerfsp\r",
															"setTimeout(function () {\r",
															"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
															"          if(response.responseSize !== 0) {\r",
															"            //Checking headers\r",
															"            var headers = response.json().headers;\r",
															"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp \", function () {\r",
															"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');\r",
															"            });\r",
															"            \r",
															"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {\r",
															"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');\r",
															"            });\r",
															"            \r",
															"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
															"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
															"            });\r",
															"            \r",
															"            pm.test(\"payerfsp accept is empty\", function () {\r",
															"                pm.expect(headers['accept']).to.eql(undefined);\r",
															"            });\r",
															"            \r",
															"            \r",
															"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
															"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
															"            });\r",
															"            \r",
															"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {\r",
															"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
															"            });\r",
															"            \r",
															"            var jsonData = response.json().data;\r",
															"            pm.test(\"Response data does not have transferId\", function () {\r",
															"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
															"            });\r",
															"            pm.test(\"Response status is COMMITTED\", function () {\r",
															"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
															"            });\r",
															"            pm.test(\"Response fulfillment is not null\", function () {\r",
															"                pm.expect(jsonData.fulfilment).not.eql(undefined);\r",
															"                pm.environment.set('DupTransferFulfillment',jsonData.fulfilment)\r",
															"            });\r",
															"          } else {\r",
															"              pm.test(\"Transfer FAILED\", function () {\r",
															"                throw new Error('Did not receive response on payer side');\r",
															"              });\r",
															"              // postman.setNextRequest(null)\r",
															"          }\r",
															"   });\r",
															"}, 1500)"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "373b5c34-2e2b-44dd-9d74-fb9896bbca68",
														"exec": [
															"var navigator = {}; //fake a navigator object for the lib\r",
															"var window = {}; //fake a window object for the lib\r",
															"eval(pm.environment.get('jrsassign'));\r",
															"\r",
															"var uuid = require('uuid');\r",
															"var generatedUUID = uuid.v4();\r",
															"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
															"\r",
															"\r",
															"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
															"\r",
															"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
															"\r",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
															"var sHeader = JSON.stringify(oHeader);\r",
															"console.log(`sHeader: ${sHeader}`)\r",
															"\r",
															"var objPayload = {\r",
															"  \"transferId\": pm.environment.get('transfer_ID'),\r",
															"  \"payerFsp\": \"payerfsp\",\r",
															"  \"payeeFsp\": \"payeefsp\",\r",
															"  \"amount\": {\r",
															"    \"amount\": \"1\",\r",
															"    \"currency\": pm.environment.get('currency')\r",
															"  },\r",
															"  \"expiration\": pm.environment.get('transferExpiration'),\r",
															"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
															"  \"condition\": pm.environment.get('condition')\r",
															"}\r",
															"var sPayload = JSON.stringify(objPayload)\r",
															"console.log(`sPayload: ${sPayload}`)\r",
															"pm.variables.set(\"transferRequest\", sPayload);\r",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));\r",
															"//console.log(`token: ${token}`)\r",
															"\r",
															"// var encodedHeaders = btoa(sHeader)\r",
															"\r",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
															"// var token = JSON.stringify(ofspiopSignature)\r",
															"\r",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
															"\r",
															"const signatureObject = {\r",
															"    signature: signature.replace('\"', ''),\r",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
															"};\r",
															"\r",
															"console.log(JSON.stringify(signatureObject))\r",
															"\r",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{PAYERFSP_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"type": "text"
													},
													{
														"key": "Date",
														"value": "{{transferDate}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Source",
														"value": "payerfsp",
														"type": "text"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "payeefsp",
														"type": "text"
													},
													{
														"key": "FSPIOP-Signature",
														"value": "{{fspiopSignature}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-URI",
														"value": "/transfers",
														"type": "text"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"value": "POST",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{transferRequest}}"
												},
												"url": {
													"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
													"host": [
														"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
													],
													"path": [
														"transfers"
													]
												}
											},
											"response": []
										},
										{
											"name": "Duplicate Transfer",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "ca45ae4d-32d1-46ab-8e91-3051219bdd6b",
														"exec": [
															"pm.test(\"Status code is 202\", function () {",
															"    pm.response.to.have.status(202);",
															"});",
															"",
															"setTimeout(function () {",
															"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
															"          if(response.responseSize !== 0) {",
															"           var jsonData = response.json().data;",
															"              var headers = response.json().headers",
															"              pm.test(\"Response data does not have transferId\", function () {",
															"               pm.expect(jsonData.transferId).to.eql(undefined);",
															"             });",
															"          ",
															"              pm.test(\"fspiop-source is switch\", function () {",
															"                pm.expect(headers['fspiop-source']).to.eql('switch');",
															"              });",
															"              ",
															"              pm.test(\"fspiop-destination is payerfsp\", function () {",
															"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
															"              });",
															"              ",
															"              pm.test(\"content-type is application/vnd.interoperability.transfers+json;version=1.0\", function () {",
															"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
															"                });",
															"                ",
															"                pm.test(\"accept is empty\", function () {",
															"                    pm.expect(headers['accept']).to.eql(undefined);",
															"                });",
															"                ",
															"                pm.test(\"fspiop-signature is not null\", function () {",
															"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
															"                });",
															"                ",
															"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
															"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
															"                });",
															"                ",
															"                pm.test(`payeefsp fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
															"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
															"                });",
															"              ",
															"               //Check data    ",
															"             ",
															"              ",
															"              pm.test(\"Response State is COMMITTED\", function () {",
															"                pm.expect(jsonData.transferState).to.eql(\"COMMITTED\");",
															"              });",
															"              ",
															"              pm.test(\"Response fulfillmet is same as sent in request'\", function () {",
															"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get('DupTransferFulfillment'));",
															"              });",
															"              ",
															"              ",
															"          } else {",
															"              pm.test(\"Transfer FAILED\", function () {",
															"                throw new Error('Did not receive response on payer side');",
															"              });",
															"              // postman.setNextRequest(null)",
															"          }",
															"   });",
															"}, 1500)",
															"",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"id": "1dfbd5d9-fba0-4782-bb83-245e1665d39a",
														"exec": [
															"var navigator = {}; //fake a navigator object for the lib\r",
															"var window = {}; //fake a window object for the lib\r",
															"eval(pm.environment.get('jrsassign'));\r",
															"\r",
															"var uuid = require('uuid');\r",
															"var generatedUUID = uuid.v4();\r",
															"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
															"\r",
															"\r",
															"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
															"\r",
															"//pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
															"\r",
															"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
															"var sHeader = JSON.stringify(oHeader);\r",
															"console.log(`sHeader: ${sHeader}`)\r",
															"\r",
															"var objPayload = {\r",
															"  \"transferId\": pm.environment.get('transfer_ID'),\r",
															"  \"payerFsp\": \"payerfsp\",\r",
															"  \"payeeFsp\": \"payeefsp\",\r",
															"  \"amount\": {\r",
															"    \"amount\": \"1\",\r",
															"    \"currency\": pm.environment.get('currency')\r",
															"  },\r",
															"  \"expiration\": pm.environment.get('transferExpiration'),\r",
															"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
															"  \"condition\": pm.environment.get('condition')\r",
															"}\r",
															"var sPayload = JSON.stringify(objPayload)\r",
															"console.log(`sPayload: ${sPayload}`)\r",
															"pm.variables.set(\"transferRequest\", sPayload);\r",
															"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));\r",
															"//console.log(`token: ${token}`)\r",
															"\r",
															"// var encodedHeaders = btoa(sHeader)\r",
															"\r",
															"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
															"// var token = JSON.stringify(ofspiopSignature)\r",
															"\r",
															"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
															"\r",
															"const signatureObject = {\r",
															"    signature: signature.replace('\"', ''),\r",
															"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
															"};\r",
															"\r",
															"console.log(JSON.stringify(signatureObject))\r",
															"\r",
															"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{PAYERFSP_BEARER_TOKEN}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Accept",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/vnd.interoperability.transfers+json;version=1.0",
														"type": "text"
													},
													{
														"key": "Date",
														"value": "{{transferDate}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-Source",
														"value": "payerfsp",
														"type": "text"
													},
													{
														"key": "FSPIOP-Destination",
														"value": "payeefsp",
														"type": "text"
													},
													{
														"key": "FSPIOP-Signature",
														"value": "{{fspiopSignature}}",
														"type": "text"
													},
													{
														"key": "FSPIOP-URI",
														"value": "/transfers",
														"type": "text"
													},
													{
														"key": "FSPIOP-HTTP-Method",
														"value": "POST",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{transferRequest}}"
												},
												"url": {
													"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
													"host": [
														"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
													],
													"path": [
														"transfers"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "fulfill_commit",
									"item": [
										{
											"name": "positive",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "6544b74f-fd70-4c5e-8355-b81cede76b1c",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"payerfsp\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payeefsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "89a11693-ce85-45b3-89c5-cbf527109c6f",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1100)",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp accept is empty\", function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, 1000)",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "3d61d957-d468-40da-8853-b7a475b9f1b7",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"noresponsepayeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": \"payerfsp\",",
																	"  \"payeeFsp\": \"noresponsepayeefsp\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "a288a811-e391-449f-8097-13df6e59c012",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "1077efd6-9a9d-4773-9e59-3177133979de",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "db99b52e-4fa0-4c31-b150-d590eb96dbac",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                //Uncomment after JWS is implemented",
																	"                // pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
																	"                //     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
																	"                // });",
																	"                ",
																	"                ",
																	"                pm.test(\"payeefsp content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Duplicate Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "ef207673-7d7e-47bd-9859-5974428ccee3",
																"exec": [
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"//pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"//pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`);",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload);",
																	"console.log(`sPayload: ${sPayload}`);",
																	"pm.variables.set(\"transferResponse2\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "4c6734bf-b0ec-437c-a2a7-17a5b0524c14",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"            //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\" content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`payeefsp fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1300)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse2}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														},
														"description": "Author: Sridevi Miriyala\n\nTo test this feature, since there is no simulator as noresponsepayeefsp, the endpoints for it is set to payeefsp's endpoint. so in the tests, you get the response from payeefsp/callbacks and do assertions."
													},
													"response": []
												},
												{
													"name": "Check Transfer status",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "a0a6fcbf-5d76-4f04-80eb-033c44a76f0d",
																"exec": [
																	"",
																	"   pm.variables.set('transferDate', (new Date()).toUTCString());",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "633a903a-ae03-480d-b37e-be7a77817a05",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"            //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\" content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\" fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(` fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response fulfilment should be same as in request\", function () {",
																	"                pm.expect(jsonData.fulfilment).to.eql(pm.environment.get(\"validFulfillment\"));",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1300)",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "GET",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "{{payerfsp}}"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "",
																"disabled": true
															}
														],
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "negative",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "629d0ebd-5778-40be-9396-49dc2896d6dd",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"payerfsp\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payeefsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "3421bd5b-0d0e-431e-8ed9-666cfa9b55d4",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1100)",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp accept is empty\", function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, 1000)",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "f415b6cf-0842-4726-8de3-a78dddced008",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"noresponsepayeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": \"payerfsp\",",
																	"  \"payeeFsp\": \"noresponsepayeefsp\",",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "c2b722a7-6dec-46c2-b35b-2100af0b002e",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "db4415ce-7912-492d-b0e7-f8c30443d07e",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('validFulfillment'),",
																	"  \"completedTimestamp\": pm.environment.get('completedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "fde49664-deb0-4fcf-b8d4-7eeea61d6251",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"             //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-signature is not empty\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-uri contains\"+pm.environment.get('transfer_ID'), function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}`);",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              ",
																	"              pm.test(\"Response transferState should be COMMITTED\", function () {",
																	"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1000)",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Invalid Duplicate Fulfill",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "9e92305a-aa45-43f5-9b89-8abdad6bba93",
																"exec": [
																	"pm.variables.set(\"updatedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"    ",
																	"  \"fulfilment\": pm.environment.get('invalidFulfillment'),",
																	"  \"completedTimestamp\": pm.variables.get('updatedTimestamp'),",
																	"  \"transferState\": \"COMMITTED\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "e6606a06-e12a-4a1b-8781-7d9e8d9425cf",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"             //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is switch\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-signature is not empty\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`payerfsp fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                ",
																	"             //Check data    ",
																	"              var jsonData = response.json().data;",
																	"              ",
																	"              pm.test(\"Response Error Code is 3106\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Modified request'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Modified request');",
																	"              });",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response on payer side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1300)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"description": "Send a transfer-prepare from payerfsp to payeefsp\nDo not send transfer-fulfil from payeefsp.\n\nSend a duplicate transfer-prepare with same params.\ncheck the simulator logs to make sure that there should not be any response for the duplicate transfer when the actual transfer is not at terminal state which means neither committed nor aborted but in process.\n\nThis is same as sending duplicate transfer when actual transfer is at ABORTED state.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "27ab6551-29c3-4f00-8208-9b47bae36ae5",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "824228d1-1e04-43bf-b2a8-f829583102bd",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "fulfill_reject",
									"item": [
										{
											"name": "positive",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "6ccf2f5a-9820-4437-b8b1-16dd30fc6bcf",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"payerfsp\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payeefsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "f5e46eae-8b96-4cff-aab8-f92a6e7daad3",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1100)",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp accept is empty\", function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, 1000)",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "cda1d7c0-9d4a-44dd-aa39-8c9f16862214",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"noresponsepayeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": \"payerfsp\",",
																	"  \"payeeFsp\": \"noresponsepayeefsp\",",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "78b387d3-173f-4482-8b87-c859e1e4fe40",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "79f243c6-63cb-4f73-a1ee-16fd82f71ffa",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "66305310-d00e-473e-b56a-bed841262bd6",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`payerfsp fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"name": "Content-Type",
																"type": "text",
																"value": "application/vnd.interoperability.transfers+json;version=1.0"
															},
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"type": "text",
																"value": "{{transferDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"type": "text",
																"value": "noresponsepayeefsp"
															},
															{
																"key": "FSPIOP-Destination",
																"type": "text",
																"value": "{{payerfsp}}"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}/error",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Duplicate Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "bfc19a08-e468-46b5-9bfb-e072751bc776",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "31fcb651-8d1d-4535-9528-18d8a1205384",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`payerfsp fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error);`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{dateHeader}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{payerfsp}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										},
										{
											"name": "negative",
											"item": [
												{
													"name": "Send Quote - RECEIVE",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "f3c7e4ac-1657-4587-abb1-edc93eae52c7",
																"exec": [
																	"var navigator = {}; ",
																	"var window = {}; ",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('quoteId', generatedUUID);",
																	"generatedUUID = uuid.v4();",
																	"pm.environment.set('transactionId', generatedUUID);",
																	"",
																	"pm.variables.set('quoteDate', (new Date()).toUTCString());",
																	"pm.variables.set('payerName', 'PayerFirst PayerLast');",
																	"pm.variables.set('payerMSISDN', '918381008987');",
																	"",
																	"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
																	"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
																	"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"quoteId\": pm.environment.get('quoteId'),",
																	"  \"transactionId\": pm.environment.get('transactionId'),",
																	"  \"payer\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
																	"      \"fspId\": \"payerfsp\"",
																	"    },",
																	"    \"personalInfo\": {",
																	"      \"complexName\": {",
																	"        \"firstName\": \"Mats\",",
																	"        \"lastName\": \"Hagman\"",
																	"      },",
																	"      \"dateOfBirth\": \"1983-10-25\"",
																	"    }",
																	"  },",
																	"  \"payee\": {",
																	"    \"partyIdInfo\": {",
																	"      \"partyIdType\": \"MSISDN\",",
																	"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
																	"      \"fspId\": \"payeefsp\"",
																	"    }",
																	"  },",
																	"  \"amountType\": \"RECEIVE\",",
																	"  \"amount\": {",
																	"    \"amount\": \"1\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"transactionType\": {",
																	"    \"scenario\": \"TRANSFER\",",
																	"    \"initiator\": \"PAYER\",",
																	"    \"initiatorType\": \"CONSUMER\"",
																	"  },",
																	"  \"note\": \"hej\"",
																	"}",
																	"",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"quoteRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "63d05aec-ab07-4f4e-86b5-e144e2dfa994",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              ",
																	"              //Check the Headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
																	"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
																	"                });",
																	"                ",
																	"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
																	"                });",
																	"                ",
																	"          } else {",
																	"              pm.test(\"Quote FAILED\", function () {",
																	"                throw new Error('Did not receive request on payee side');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 1100)",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
																	"      if(response.responseSize !== 0) {",
																	"          //Checking headers",
																	"            var headers = response.json().headers;",
																	"            pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
																	"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
																	"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
																	"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp accept is empty\", function () {",
																	"                pm.expect(headers['accept']).to.eql(undefined);",
																	"            });",
																	"            ",
																	"            ",
																	"            ",
																	"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
																	"            // var strData = JSON.stringify(response.json().data)",
																	"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
																	"            // console.log(`token: ${token}`)",
																	"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
																	"            // console.log(`isValid: ${isValid}`)",
																	"            // pm.test(\"Check if the response is JWS valid\", function () {",
																	"            //     pm.expect(isValid).to.eql(true);",
																	"            // });",
																	"            ",
																	"            //Validate protected header inside Signature",
																	"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
																	"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
																	"            ",
																	"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
																	"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
																	"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
																	"            });",
																	"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
																	"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
																	"            });",
																	"           ",
																	"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
																	"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
																	"            });",
																	"            ",
																	"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"            });",
																	"            ",
																	"            var jsonData = response.json().data;",
																	"            ",
																	"            pm.test(\"Response quoteId is  null\", function () {",
																	"                pm.expect(jsonData.quoteId).to.eql(undefined);",
																	"                ",
																	"            });",
																	"          ",
																	"            pm.test(\"Response ilpPacket is not null\", function () {",
																	"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
																	"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
																	"            });",
																	"       ",
																	"           pm.test(\"Response condition is not null\", function () {",
																	"               pm.expect(jsonData.condition).not.equal(undefined);",
																	"               pm.environment.set(\"condition\", jsonData.condition);",
																	"           });",
																	"      } else {",
																	"          pm.test(\"Quote FAILED\", function () {",
																	"            throw new Error('Did not receive response on Payer side');",
																	"           });",
																	"           // postman.setNextRequest(null);",
																	"      }",
																	"       ",
																	"   });",
																	"}, 1000)",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.quotes+json;version=1.0"
															},
															{
																"key": "Date",
																"value": "{{quoteDate}}"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "payeefsp"
															},
															{
																"key": "FSPIOP-Signature",
																"type": "text",
																"value": "{{fspiopSignature}}"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"type": "text",
																"value": "POST"
															},
															{
																"key": "FSPIOP-URI",
																"type": "text",
																"value": "/quotes"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{quoteRequest}}"
														},
														"url": {
															"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
															"host": [
																"{{HOST_QUOTING_SERVICE}}"
															],
															"path": [
																"quotes"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Transfer-Prepare",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "8763b27e-7fd2-46ff-8b1e-1a275c080b26",
																"exec": [
																	"",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"noresponsepayeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"  \"transferId\": pm.environment.get('transfer_ID'),",
																	"  \"payerFsp\": \"payerfsp\",",
																	"  \"payeeFsp\": \"noresponsepayeefsp\",",
																	"  \"amount\": {",
																	"    \"amount\": \"10\",",
																	"    \"currency\": pm.environment.get('currency')",
																	"  },",
																	"  \"expiration\": pm.environment.get('transferExpiration'),",
																	"  \"ilpPacket\": pm.environment.get('validIlpPacket'),",
																	"  \"condition\": pm.environment.get('validCondition')",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"transferRequest\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "7341cd9d-b854-466b-8b55-a94a11895326",
																"exec": [
																	"pm.test(\"Status code is 202\", function () {",
																	"    pm.response.to.have.status(202);",
																	"});",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{PAYERFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "POST",
														"header": [
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "payerfsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "POST",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{transferRequest}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "46525856-ad64-41ec-a019-9dd74091ce71",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"noresponsepayeefsp\",\"FSPIOP-Destination\":\"payerfsp\", \"FSPIOP-URI\":`/transfers/${pm.environment.get('transfer_ID')}/error`, \"FSPIOP-HTTP-Method\":\"PUT\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"Payee transaction limit reached\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "cce776d3-4e58-4276-9a39-7042adb98699",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`payerfsp fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 2000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{transferDate}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{payerfsp}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}/error",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												},
												{
													"name": "Send Invalid Duplicate Fulfill-Reject",
													"event": [
														{
															"listen": "prerequest",
															"script": {
																"id": "bab354be-b30c-4fbe-a3f4-0346ae803c5c",
																"exec": [
																	"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
																	"var navigator = {}; //fake a navigator object for the lib",
																	"var window = {}; //fake a window object for the lib",
																	"eval(pm.environment.get('jrsassign'));",
																	"",
																	"var uuid = require('uuid');",
																	"var generatedUUID = uuid.v4();",
																	"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
																	"",
																	"",
																	"pm.variables.set('transferDate', (new Date()).toUTCString());",
																	"",
																	"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
																	"",
																	"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
																	"var sHeader = JSON.stringify(oHeader);",
																	"console.log(`sHeader: ${sHeader}`)",
																	"",
																	"var objPayload = {",
																	"\t\"errorInformation\": {",
																	"\t\t\"errorCode\": \"5101\",",
																	"\t\t\"errorDescription\": \"This is an invalid duplicate request\",",
																	"\t\t\"extensionList\": {",
																	"\t\t\t\"extension\": [{",
																	"\t\t\t\t\"key\": \"errorDetail\",",
																	"\t\t\t\t\"value\": \"This is an abort extension\"",
																	"\t\t\t}]",
																	"\t\t}",
																	"\t}",
																	"}",
																	"var sPayload = JSON.stringify(objPayload)",
																	"console.log(`sPayload: ${sPayload}`)",
																	"pm.variables.set(\"fulfillResponse\", sPayload);",
																	"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payeefspJWSKey'));",
																	"//console.log(`token: ${token}`)",
																	"",
																	"// var encodedHeaders = btoa(sHeader)",
																	"",
																	"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
																	"// var token = JSON.stringify(ofspiopSignature)",
																	"",
																	"const [ protectedHeaderBase64, , signature ] = token.split('.');",
																	"",
																	"const signatureObject = {",
																	"    signature: signature.replace('\"', ''),",
																	"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
																	"};",
																	"",
																	"console.log(JSON.stringify(signatureObject))",
																	"",
																	"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
																],
																"type": "text/javascript"
															}
														},
														{
															"listen": "test",
															"script": {
																"id": "4c57c109-8120-4b1b-bbf7-38a5b7804ab6",
																"exec": [
																	"pm.test(\"Status code is 200\", function () {",
																	"    pm.response.to.have.status(200);",
																	"});",
																	"",
																	"setTimeout(function () {",
																	"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
																	"          if(response.responseSize !== 0) {",
																	"              //Check headers",
																	"              var headers = response.json().headers;",
																	"              ",
																	"                pm.test(\"fspiop-source is noresponsepayeefsp\", function () {",
																	"                    pm.expect(headers['fspiop-source']).to.eql('noresponsepayeefsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"fspiop-destination is payerfsp\", function () {",
																	"                    pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
																	"                });",
																	"                ",
																	"                pm.test(\"date header should not be empty\", function () {",
																	"                    pm.expect(headers['date']).to.be.not.empty;",
																	"                });",
																	"                ",
																	"                pm.test(\"accept header should not be sent in the response\", function () {",
																	"                    pm.expect(headers['accept']).to.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp content-type is same as sent in the request\", function () {",
																	"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-signature is not null\", function () {",
																	"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
																	"                });",
																	"                ",
																	"                pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
																	"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
																	"                });",
																	"                ",
																	"                pm.test(`payerfsp fspiop-uri is /transfers/${pm.environment.get('transfer_ID')}/error`, function () {",
																	"                    pm.expect(headers['fspiop-uri']).to.eql(`/transfers/${pm.environment.get('transfer_ID')}/error`);",
																	"                });",
																	"                ",
																	"              //Check data",
																	"              var jsonData = response.json().data;",
																	"              pm.test(\"Response Error Code is 5101\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorCode).to.eql('5101');",
																	"              });",
																	"              ",
																	"              pm.test(\"Response Error Desription is 'Payee transaction limit reached'\", function () {",
																	"                pm.expect(jsonData.errorInformation.errorDescription).to.eql('Payee transaction limit reached');",
																	"              });",
																	"              ",
																	"          } else {",
																	"              pm.test(\"Transfer FAILED\", function () {",
																	"                throw new Error('Did not receive response');",
																	"              });",
																	"              // postman.setNextRequest(null)",
																	"          }",
																	"   });",
																	"}, 5000)"
																],
																"type": "text/javascript"
															}
														}
													],
													"request": {
														"auth": {
															"type": "bearer",
															"bearer": [
																{
																	"key": "token",
																	"value": "{{NORESPONSEPAYEEFSP_BEARER_TOKEN}}",
																	"type": "string"
																}
															]
														},
														"method": "PUT",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Accept",
																"value": "application/vnd.interoperability.transfers+json;version=1.0",
																"type": "text"
															},
															{
																"key": "Date",
																"value": "{{dateHeader}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Source",
																"value": "noresponsepayeefsp",
																"type": "text"
															},
															{
																"key": "FSPIOP-Destination",
																"value": "{{payerfsp}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-Signature",
																"value": "{{fspiopSignature}}",
																"type": "text"
															},
															{
																"key": "FSPIOP-HTTP-Method",
																"value": "PUT",
																"type": "text"
															},
															{
																"key": "FSPIOP-URI",
																"value": "/transfers/{{transfer_ID}}",
																"type": "text"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{{fulfillResponse}}"
														},
														"url": {
															"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/{{transfer_ID}}/error",
															"host": [
																"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
															],
															"path": [
																"transfers",
																"{{transfer_ID}}",
																"error"
															]
														}
													},
													"response": []
												}
											],
											"protocolProfileBehavior": {},
											"_postman_isSubFolder": true
										}
									],
									"description": "Send a transfer-prepare from payerfsp to payeefsp\nDo not send transfer-fulfil from payeefsp.\n\nSend a duplicate transfer-prepare with same params.\ncheck the simulator logs to make sure that there should not be any response for the duplicate transfer when the actual transfer is not at terminal state which means neither committed nor aborted but in process.\n\nThis is same as sending duplicate transfer when actual transfer is at ABORTED state.",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "bd2c9960-9115-444d-b6b9-653b4e15bf3b",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "955846b4-fb94-4ab0-926a-8c583616bd40",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Active_Inactive_participants",
					"item": [
						{
							"name": "089 - Active and inactive participant",
							"item": [
								{
									"name": "Update participant (testfsp2 to inactive)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0500fe99-02a6-4944-bdcc-19170fa8c305",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{hub_operator}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": false\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"testfsp2"
											]
										},
										"description": "Inactives participant testfsp4"
									},
									"response": []
								},
								{
									"name": "(BUG) Send Quote fail (testfsp1 to testfsp2)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "13858fa8-3d56-4b6f-b373-db6bfba447b9",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"testfsp1\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"testfsp2\"",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "eb4d239d-cfc2-46bf-b5aa-2d16d7dcf009",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"testfsp1 fspiop-source is switch\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');",
													"            });",
													"            ",
													"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"testfsp1 accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\")+'/error');",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be switch\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('switch');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\")+'/error');",
													"            });",
													"            ",
													"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Error code is 3201\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3201');",
													"            });",
													"           ",
													"           pm.test(\"Error Description is Destination FSP Error - \\'testfsp2\\' is inactive \", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported participant');",
													"           });",
													"           ",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Send Transfer fail(testfsp1 to testfsp2)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ac583321-acaf-4342-89d1-6b54244826d2",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"fspiop-destination is testfsp1\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');",
													"            });",
													"            ",
													"            pm.test(\"content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(\"fspiop-uri includes /transfers/{{transfer_ID}/error}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
													"            });",
													"            ",
													"            pm.test(\"fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Error code is 3100\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"            });",
													"           ",
													"           pm.test(\"Error Description is Generic validation error - Participant testfsp2 is inactive \", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error - Participant testfsp2 is inactive');",
													"           });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1300)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c046b003-d355-456c-a426-0e98fc049c22",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": \"testfsp1\",",
													"  \"payeeFsp\": \"testfsp2\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update participant (testfsp2 to active)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "459cb638-f07c-49d2-967f-edb9edee9d7a",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n              \"isActive\": true\r\n            }"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"testfsp2"
											]
										},
										"description": "Reactivate participant testfsp4"
									},
									"response": []
								},
								{
									"name": "Send Quote (testfsp1 to testfsp2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e11e3228-bb63-4f41-8c68-cfb95ec9fe3d",
												"exec": [
													"  var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"testfsp1\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"testfsp2\"",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "476a0ffe-38ac-4193-b6d8-eb5d8c526603",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(\"testfsp2 fspiop-source is testfsp1\", function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-uri is /quotes\", function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Quote FAILED\", function () {\r",
													"                throw new Error('Did not receive request on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, 1100)\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
													"      if(response.responseSize !== 0) {\r",
													"          //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(\"testfsp1 fspiop-source is testfsp2\", function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 accept is empty\", function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            \r",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
													"            // var strData = JSON.stringify(response.json().data)\r",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
													"            // console.log(`token: ${token}`)\r",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
													"            // console.log(`isValid: ${isValid}`)\r",
													"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
													"            //     pm.expect(isValid).to.eql(true);\r",
													"            // });\r",
													"            \r",
													"            //Validate protected header inside Signature\r",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
													"            \r",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp2\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp2');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
													"            });\r",
													"           \r",
													"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            \r",
													"            pm.test(\"Response quoteId is  null\", function () {\r",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
													"                \r",
													"            });\r",
													"          \r",
													"            pm.test(\"Response ilpPacket is not null\", function () {\r",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
													"            });\r",
													"       \r",
													"           pm.test(\"Response condition is not null\", function () {\r",
													"               pm.expect(jsonData.condition).not.equal(undefined);\r",
													"               pm.environment.set(\"condition\", jsonData.condition);\r",
													"           });\r",
													"      } else {\r",
													"          pm.test(\"Quote FAILED\", function () {\r",
													"            throw new Error('Did not receive response on Payer side');\r",
													"           });\r",
													"           // postman.setNextRequest(null);\r",
													"      }\r",
													"       \r",
													"   });\r",
													"}, 1000)\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/quotes",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer ( testfsp1 to testfsp2 ) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "2f29eb4e-eae4-4d2b-a877-b3cc2f692751",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": \"testfsp1\",\r",
													"  \"payeeFsp\": \"testfsp2\",\r",
													"  \"amount\": {\r",
													"    \"amount\": \"60\",\r",
													"    \"currency\": pm.environment.get('currency')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "734d28d6-411c-4270-8e79-f12e09ca3784",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"// //Check the request that Switch forwards to testfsp2\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(\"testfsp2 fspiop-source is goldentestfsp1\", function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-uri is /transfers\", function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
													"                });\r",
													"                \r",
													"                \r",
													"                //Check the data\r",
													"                var jsonData = response.json().data;\r",
													"                pm.test(\"testfsp2 data should have the same transferId as request\", function () {\r",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same amount as request\", function () {\r",
													"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same currency as request\", function () {\r",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same expiration as request\", function () {\r",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same ilpPacket as request\", function () {\r",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same condition as request\", function () {\r",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"  });\r",
													"}, 1100)\r",
													"\r",
													"//Check the callback response that Switch forwards to testfsp1\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"            //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(\"testfsp1 fspiop-source is goldentestfsp2 \", function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 accept is empty\", function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            pm.test(\"Response data does not have transferId\", function () {\r",
													"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
													"            });\r",
													"            pm.test(\"Response status is COMMITTED\", function () {\r",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
													"            });\r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payer side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, 1500)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "090 - Active and inactive participants accounts",
							"item": [
								{
									"name": "3. Get testfsp2 Participant Account",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "22992a40-b99d-4990-a4c9-1bbec808ef74",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ebecaf45-0c40-4fe3-a0ea-f3b03881f421",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData",
													"    .filter(account => account.currency === pm.environment.get('currency'))",
													"    .forEach(curAccount => {",
													"        if(curAccount.ledgerAccountType === \"POSITION\") {",
													"            pm.environment.set(\"testfsp2PositionAccountId\", curAccount.id);",
													"            ",
													"        }",
													"    })",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"testfsp2",
												"accounts"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update testfsp2 to inactive_XOF account",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "19b9d63c-6cc1-40bc-a0c3-afec55e56900",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": false\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts/{{testfsp2PositionAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"testfsp2",
												"accounts",
												"{{testfsp2PositionAccountId}}"
											]
										},
										"description": "inactives testfsp4 position account"
									},
									"response": []
								},
								{
									"name": "Send Quote fail (testfsp1 to testfsp2)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "637c0bec-5b14-470d-945f-dfa4d9e2938b",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"testfsp1\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"testfsp2\"",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "03aac31a-34b7-454f-b7e3-409b6039beff",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"          //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"testfsp1 fspiop-source is switch\", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');",
													"            });",
													"            ",
													"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"testfsp1 accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            ",
													"            ",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"            // var strData = JSON.stringify(response.json().data)",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
													"            // console.log(`token: ${token}`)",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
													"            // console.log(`isValid: ${isValid}`)",
													"            // pm.test(\"Check if the response is JWS valid\", function () {",
													"            //     pm.expect(isValid).to.eql(true);",
													"            // });",
													"            ",
													"            //Validate protected header inside Signature",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\")+'/error');",
													"            });",
													"            ",
													"",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('switch');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');",
													"            });",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);",
													"            });",
													"           ",
													"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/error\"+pm.environment.get(\"quoteId\"), function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\")+'/error');",
													"            });",
													"            ",
													"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Error code is 3201\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3201');",
													"            });",
													"           ",
													"           pm.test(\"Error Description is Unsupported participant\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported participant ');",
													"           });",
													"           ",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response on Payer side');",
													"           });",
													"           // postman.setNextRequest(null);",
													"      }",
													"       ",
													"   });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "(BUG) Send Transfer fail(testfsp1 to testfsp2)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4f9c01ce-d7a5-4100-ba11-2ea72359095f",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the callback response that Switch forwards to payerfsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
													"          if(response.responseSize !== 0) {",
													"            //Checking headers",
													"            var headers = response.json().headers;",
													"            pm.test(\"fspiop-source is switch \", function () {",
													"                pm.expect(headers['fspiop-source']).to.eql('switch');",
													"            });",
													"            ",
													"            pm.test(\"fspiop-destination is testfsp1\", function () {",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');",
													"            });",
													"            ",
													"            pm.test(\"content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
													"            });",
													"            ",
													"            pm.test(\"accept is empty\", function () {",
													"                pm.expect(headers['accept']).to.eql(undefined);",
													"            });",
													"            ",
													"            pm.test(\"fspiop-signature is not empty\", function () {",
													"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
													"                });",
													"            ",
													"            ",
													"            pm.test(\"fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
													"            });",
													"            ",
													"            pm.test(\"fspiop-http-method is PUT\", function () {",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"            });",
													"            ",
													"            var jsonData = response.json().data;",
													"            pm.test(\"Error code is 3100\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"            });",
													"           ",
													"           pm.test(\"Error Description is GENERIC VALIDATION ERROR \", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include(`Generic validation error - Participant testfsp2 ${pm.environment.get('currency')} account is inactive`);",
													"           });",
													"          } else {",
													"              pm.test(\"Transfer FAILED\", function () {",
													"                throw new Error('Did not receive response on payer side');",
													"              });",
													"              // postman.setNextRequest(null)",
													"          }",
													"   });",
													"}, 1300)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "582a08d1-66cf-4642-80d2-58cc99b236c5",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
													"",
													"",
													"pm.variables.set('transferDate', (new Date()).toUTCString());",
													"",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"transferId\": pm.environment.get('transfer_ID'),",
													"  \"payerFsp\": \"testfsp1\",",
													"  \"payeeFsp\": \"testfsp2\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"expiration\": pm.environment.get('transferExpiration'),",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
													"  \"condition\": pm.environment.get('condition')",
													"}",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"transferRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
													"//console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/transfers"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								},
								{
									"name": "Update participant (testfsp2 to active) account",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "42fa795e-d389-4bc9-84e0-11caae33a1d8",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "{{hub_operator}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"isActive\": true\r\n}"
										},
										"url": {
											"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/testfsp2/accounts/{{testfsp2PositionAccountId}}",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"testfsp2",
												"accounts",
												"{{testfsp2PositionAccountId}}"
											]
										},
										"description": "inactives testfsp4 position account"
									},
									"response": []
								},
								{
									"name": "Send Quote (testfsp1 to testfsp2) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "40e51f46-be5f-42b4-9127-94924f67cc72",
												"exec": [
													"  var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"testfsp1\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"testfsp2\"",
													"    }",
													"  },",
													"  \"amountType\": \"RECEIVE\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "f1b5a08e-4392-477a-82a7-eb9e9c116036",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(\"testfsp2 fspiop-source is testfsp1\", function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-destination is testfsp2\", function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-uri is /quotes\", function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Quote FAILED\", function () {\r",
													"                throw new Error('Did not receive request on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, 1100)\r",
													"\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {\r",
													"      if(response.responseSize !== 0) {\r",
													"          //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(\"testfsp1 fspiop-source is testfsp2\", function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-destination is testfsp1\", function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 accept is empty\", function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            \r",
													"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])\r",
													"            // var strData = JSON.stringify(response.json().data)\r",
													"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`\r",
													"            // console.log(`token: ${token}`)\r",
													"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldentestfsp2JWSPubKey'), {alg: ['RS256']})\r",
													"            // console.log(`isValid: ${isValid}`)\r",
													"            // pm.test(\"Check if the response is JWS valid\", function () {\r",
													"            //     pm.expect(isValid).to.eql(true);\r",
													"            // });\r",
													"            \r",
													"            //Validate protected header inside Signature\r",
													"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))\r",
													"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)\r",
													"            \r",
													"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldentestfsp2\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('testfsp2');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be testfsp1\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('testfsp1');\r",
													"            });\r",
													"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {\r",
													"                pm.expect(decodedProtectedHeaders['Date']).to.eql(headers['date']);\r",
													"            });\r",
													"           \r",
													"            pm.test(\"testfsp1 FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            \r",
													"            pm.test(\"Response quoteId is  null\", function () {\r",
													"                pm.expect(jsonData.quoteId).to.eql(undefined);\r",
													"                \r",
													"            });\r",
													"          \r",
													"            pm.test(\"Response ilpPacket is not null\", function () {\r",
													"                pm.expect(jsonData.ilpPacket).not.equal(undefined);\r",
													"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);\r",
													"            });\r",
													"       \r",
													"           pm.test(\"Response condition is not null\", function () {\r",
													"               pm.expect(jsonData.condition).not.equal(undefined);\r",
													"               pm.environment.set(\"condition\", jsonData.condition);\r",
													"           });\r",
													"      } else {\r",
													"          pm.test(\"Quote FAILED\", function () {\r",
													"            throw new Error('Did not receive response on Payer side');\r",
													"           });\r",
													"           // postman.setNextRequest(null);\r",
													"      }\r",
													"       \r",
													"   });\r",
													"}, 1000)\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/quotes",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Transfer ( testfsp1 to testfsp2 ) - pass",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "0042cfc5-7ca1-4933-8bd1-45aa041af58c",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib\r",
													"var window = {}; //fake a window object for the lib\r",
													"eval(pm.environment.get('jrsassign'));\r",
													"\r",
													"var uuid = require('uuid');\r",
													"var generatedUUID = uuid.v4();\r",
													"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));\r",
													"\r",
													"\r",
													"pm.variables.set('transferDate', (new Date()).toUTCString());\r",
													"\r",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))\r",
													"\r",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp1\",\"FSPIOP-Destination\":\"testfsp2\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};\r",
													"var sHeader = JSON.stringify(oHeader);\r",
													"console.log(`sHeader: ${sHeader}`)\r",
													"\r",
													"var objPayload = {\r",
													"  \"transferId\": pm.environment.get('transfer_ID'),\r",
													"  \"payerFsp\": \"testfsp1\",\r",
													"  \"payeeFsp\": \"testfsp2\",\r",
													"  \"amount\": {\r",
													"    \"amount\": \"60\",\r",
													"    \"currency\": pm.environment.get('currency')\r",
													"  },\r",
													"  \"expiration\": pm.environment.get('transferExpiration'),\r",
													"  \"ilpPacket\": pm.environment.get('ilpPacket'),\r",
													"  \"condition\": pm.environment.get('condition')\r",
													"}\r",
													"var sPayload = JSON.stringify(objPayload)\r",
													"console.log(`sPayload: ${sPayload}`)\r",
													"pm.variables.set(\"transferRequest\", sPayload);\r",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp1JWSKey'));\r",
													"//console.log(`token: ${token}`)\r",
													"\r",
													"// var encodedHeaders = btoa(sHeader)\r",
													"\r",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}\r",
													"// var token = JSON.stringify(ofspiopSignature)\r",
													"\r",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');\r",
													"\r",
													"const signatureObject = {\r",
													"    signature: signature.replace('\"', ''),\r",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')\r",
													"};\r",
													"\r",
													"console.log(JSON.stringify(signatureObject))\r",
													"\r",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "3dc09a7f-1cab-4e27-917c-e47b9d1039d1",
												"exec": [
													"pm.test(\"Status code is 202\", function () {\r",
													"    pm.response.to.have.status(202);\r",
													"});\r",
													"\r",
													"// //Check the request that Switch forwards to testfsp2\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP2_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"              \r",
													"              //Check the Headers\r",
													"              var headers = response.json().headers;\r",
													"              \r",
													"                pm.test(\"testfsp2 fspiop-source is goldentestfsp1\", function () {\r",
													"                    pm.expect(headers['fspiop-source']).to.eql('testfsp1');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-destination is goldentestfsp2\", function () {\r",
													"                    pm.expect(headers['fspiop-destination']).to.eql('testfsp2');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 content-typeis same as sent in the request\", function () {\r",
													"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 accept is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-signature is same as sent in the request\", function () {\r",
													"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-http-method is POST\", function () {\r",
													"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');\r",
													"                });\r",
													"                \r",
													"                pm.test(\"testfsp2 fspiop-uri is /transfers\", function () {\r",
													"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');\r",
													"                });\r",
													"                \r",
													"                \r",
													"                //Check the data\r",
													"                var jsonData = response.json().data;\r",
													"                pm.test(\"testfsp2 data should have the same transferId as request\", function () {\r",
													"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same amount as request\", function () {\r",
													"                  pm.expect(jsonData.amount.amount).to.eql('60');\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same currency as request\", function () {\r",
													"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same expiration as request\", function () {\r",
													"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same ilpPacket as request\", function () {\r",
													"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));\r",
													"                });\r",
													"                pm.test(\"testfsp2 data should have the same condition as request\", function () {\r",
													"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));\r",
													"                });\r",
													"                \r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payee side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"  });\r",
													"}, 1100)\r",
													"\r",
													"//Check the callback response that Switch forwards to testfsp1\r",
													"setTimeout(function () {\r",
													"  pm.sendRequest(pm.environment.get(\"TESTFSP1_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {\r",
													"          if(response.responseSize !== 0) {\r",
													"            //Checking headers\r",
													"            var headers = response.json().headers;\r",
													"            pm.test(\"testfsp1 fspiop-source is goldentestfsp2 \", function () {\r",
													"                pm.expect(headers['fspiop-source']).to.eql('testfsp2');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-destination is goldentestfsp1\", function () {\r",
													"                pm.expect(headers['fspiop-destination']).to.eql('testfsp1');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {\r",
													"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 accept is empty\", function () {\r",
													"                pm.expect(headers['accept']).to.eql(undefined);\r",
													"            });\r",
													"            \r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-uri includes /transfers/{{transfer_ID}}\", function () {\r",
													"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));\r",
													"            });\r",
													"            \r",
													"            pm.test(\"testfsp1 fspiop-http-method is PUT\", function () {\r",
													"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');\r",
													"            });\r",
													"            \r",
													"            var jsonData = response.json().data;\r",
													"            pm.test(\"Response data does not have transferId\", function () {\r",
													"               pm.expect(jsonData.transferId).to.eql(undefined);\r",
													"            });\r",
													"            pm.test(\"Response status is COMMITTED\", function () {\r",
													"                pm.expect(jsonData.transferState).to.eql('COMMITTED');\r",
													"            });\r",
													"          } else {\r",
													"              pm.test(\"Transfer FAILED\", function () {\r",
													"                throw new Error('Did not receive response on payer side');\r",
													"              });\r",
													"              // postman.setNextRequest(null)\r",
													"          }\r",
													"   });\r",
													"}, 1500)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transfers+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transferDate}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-Source",
												"value": "testfsp1",
												"type": "text"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "testfsp2",
												"type": "text"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiopSignature}}",
												"type": "text"
											},
											{
												"key": "FSPIOP-URI",
												"value": "/transfers",
												"type": "text"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"value": "POST",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{transferRequest}}"
										},
										"url": {
											"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
											"host": [
												"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
											],
											"path": [
												"transfers"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "api-tests",
			"item": [
				{
					"name": "admin-api-tests",
					"item": [
						{
							"name": "Get participants List",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fd8c1380-85ad-450f-af6e-c443371f6e03",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Participant",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "25794c75-aee0-4a3c-a6e0-b6f63eb12659",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payerfsp}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Get Hub Account",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8cd0deec-aa92-4ce9-90ec-989cd1b5fdcc",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/Hub/accounts",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"Hub",
										"accounts"
									]
								}
							},
							"response": []
						},
						{
							"name": "11. Get Endpoints",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "53348729-b679-4cf4-b041-152e09ea3933",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Cache-Control",
										"value": "no-cache"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payerfsp/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"payerfsp",
										"endpoints"
									]
								},
								"description": "Generated from a curl request: \ncurl -i -X POST     http://test-central-ledger.mojaloop.test/admin/participants/testfsp2/initialPositionAndLimits     -H 'Cache-Control: no-cache'     -H 'Content-Type: application/json'     -d '{\n    \\\"currency\\\": \\\"USD\\\",\n    \\\"limit\\\": {\n      \\\"type\\\": \\\"NET_DEBIT_CAP\\\",\n      \\\"value\\\": 1000\n    },\n    \\\"initialPosition\\\": 0\n  }'"
							},
							"response": []
						},
						{
							"name": "Get - limits - All FSPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b86b4726-3299-4eb4-8b35-5565ec0793f3",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									},
									{
										"key": "currency",
										"value": "{{currency}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/limits?type=NET_DEBIT_CAP",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"limits"
									],
									"query": [
										{
											"key": "currency",
											"value": "{{currency}}",
											"disabled": true
										},
										{
											"key": "type",
											"value": "NET_DEBIT_CAP"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get payerfsp position",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fbc4dcf4-0ade-47e5-87b2-aa4934460532",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Atleast one account position should be returned\", function () {",
											"    pm.variables.set(\"payerfspPositionBeforeTransfer\", jsonData[0].value);",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{payerfsp}}/positions",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"{{payerfsp}}",
										"positions"
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala\n\nThese are the requests that only HUB operator can run.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "260f24eb-fde9-438c-9334-b2a803f33c1d",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "52152b96-8424-484f-87e4-f1d416fb66dc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Quotes",
					"item": [
						{
							"name": "FN, LN",
							"item": [
								{
									"name": "Send Quote - payerFN missing",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "602e501f-f81d-4780-956c-1603bb553422",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"       ",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "1aa182b1-f73c-47b3-8ba4-a7014dd8f308",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Commented the following tests because the payer firstName is not required field",
													"",
													"// pm.test(\"Status code is 400\", function () {",
													"//     pm.response.to.have.status(400);",
													"// });",
													"",
													"// pm.test(\"ERROR code is 3102\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"// });",
													"",
													"// pm.test(\"ERROR msg is Missing Payer firstName\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - Quote request ${pm.environment.get('quoteId')} failed: firstName is required`);",
													"// });"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - payerLN missing",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "a8a53afd-10d9-4f03-9a37-3a4a82fc9c2f",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\"",
													"       ",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "13821cfe-3528-4c1c-bb14-7f264d78c710",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Commented the following tests because the payer lastName is not required field",
													"",
													"// pm.test(\"Status code is 400\", function () {",
													"//     pm.response.to.have.status(400);",
													"// });",
													"",
													"// pm.test(\"ERROR code is 3102\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"// });",
													"",
													"// pm.test(\"ERROR Description is Missing Payer lastName\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - Quote request ${pm.environment.get('quoteId')} failed: lastName is required`);",
													"// });"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Invalid payerLN (not a string)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e994afe9-cdac-48a6-91c5-452beb805a71",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"@#4768\"",
													"       ",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "6404ecd1-13cb-49e9-9c7e-0f8176f3da57",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer Lastname\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"lastName\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote Payer personal info missing",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "dafb1754-8ae4-4082-919f-16ff4185ac48",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    ",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "e2fea250-44cf-4b74-b487-80b21b619854",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Commented the following tests because the payer personal info is not required object",
													"",
													"// pm.test(\"Status code is 400\", function () {",
													"//     pm.response.to.have.status(400);",
													"// });",
													"",
													"// pm.test(\"ERROR code is 3102\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"// });",
													"",
													"// pm.test(\"ERROR msg is Missing Payer personalInfo\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - Quote request ${pm.environment.get('quoteId')} failed: PartyPersonalInfo is required`);",
													"// });",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - String payerFN (Mats123) -",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "3c07c755-3f14-45ba-a46a-1783be834aa7",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"     \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats123\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"    ",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "72a4158b-7de1-4356-99e7-d32a5fd5e32a",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// pm.test(\"Check that Content-Type is present\", function () {",
													"//     pm.response.to.have.header(\"Content-Type\");",
													"//     pm.response.to.be.header(\"Content-Type\", \"application/vnd.interoperability.quotes+json;version=1.0\");",
													"// });",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - String payerFN (Mats123@#$)",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "19985635-d396-45ac-a53e-f60154a1c6ae",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"     \"personalInfo\": {",
													"      \"complexName\": {",
													"         \"firstName\": \"Mats12@#$3\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"    ",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "a67a6b88-5c07-4cda-8f6b-58a5c9136116",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR Description is Malformed Payer firstName\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"firstName\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "DOB",
							"item": [
								{
									"name": "Send Quote - Malformed DOB1",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "fad119c5-6a08-4fd6-9ff7-15a34f052529",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-25-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "521d1818-2b7e-4aba-9585-e7fb637cad97",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"dateOfBirth\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "RECEIVE Quote - empty string in DOB",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "025118b1-d54c-4752-ab7a-08738194210c",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "abc91e76-6cc8-4bc5-9a20-3a43560a9872",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"dateOfBirth\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - null DOB_string",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "f4a72547-c3a1-4d47-93f9-9e713bcd8412",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"null\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "b0faa0c8-541e-42ee-aade-7deb6cad9a82",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"dateOfBirth\"",
													");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - null DOB",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "34f72d00-049f-44d2-8211-de64d4228180",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": null",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "c5204b34-c450-405f-8780-a77383511279",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"dateOfBirth\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - invalid DOB format",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "683bcf3e-6704-4cd6-9e8a-1a6b44a2b972",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983/10/25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "9fccb220-9115-4a0e-a8c6-f8bb2063a9cf",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"dateOfBirth\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - missing DOB in payer object",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "294f08c6-a241-4559-a449-2c77b5aa0c94",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"     ",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "6d95bfd1-04cb-444d-85a4-5ede60e5f049",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Commented the following tests because the payer DOB is not required field",
													"",
													"// pm.test(\"Status code is 400\", function () {",
													"//     pm.response.to.have.status(400);",
													"// });",
													"",
													"// pm.test(\"ERROR code is 3102\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3102\");",
													"// });",
													"",
													"// pm.test(\"ERROR msg is Missing Payer DOB\", function () {",
													"//     var jsonData = pm.response.json();",
													"//     pm.expect(jsonData.errorInformation.errorDescription).to.eql(`Missing mandatory element - Quote request ${pm.environment.get('quoteId')} failed: dateOfBirth is required`);",
													"// });"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Malformed DOB3",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "50f42a5a-57ba-4e0f-b52d-a77474d490d7",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"       \"dateOfBirth\": \"abc@3#\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "af0935d2-98d4-4803-a63a-b42b68d8c8a3",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"dateOfBirth\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								},
								{
									"name": "Send Quote - Malformed DOB2",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "12b0e633-1203-409b-9d39-75d2c86190a2",
												"exec": [
													"var navigator = {}; //fake a navigator object for the lib",
													"var window = {}; //fake a window object for the lib",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'Testfsp3First Testfsp3Last');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"testfsp3\",\"FSPIOP-Destination\":\"testfsp4\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp3MSISDN'),",
													"      \"fspId\": \"testfsp3\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"       \"dateOfBirth\": \"83-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('testfsp4MSISDN'),",
													"      \"fspId\": \"testfsp4\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"10\",",
													"    \"currency\": \"EUR\"",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('testfsp3JWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "585a0ad6-2eba-4145-9708-0058339eb565",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"ERROR code is 3100\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql(\"3100\");",
													"});",
													"",
													"pm.test(\"ERROR msg is Malformed Payer DOB\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include(\"dateOfBirth\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP3_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"type": "text",
												"value": "testfsp3"
											},
											{
												"key": "FSPIOP-Destination",
												"type": "text",
												"value": "testfsp4"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiopSignature}}"
											},
											{
												"key": "FSPIOP-HTTP-Method",
												"type": "text",
												"value": "POST"
											},
											{
												"key": "FSPIOP-URI",
												"type": "text",
												"value": "/quotes"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										},
										"description": "Send POST /quotes from simdfsp1 (EUR) to simdfsp2 (XOF) with extensionlist.\n\nLOGS:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Received POST quote request headers: { host: 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-request-id': '80d08b5eecc42ee029a319f8993d8cb7',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-real-ip': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-for': '52.174.6.185',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-host': 'dev-casa-interop-switch.casahub.live',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-port': '80',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-forwarded-proto': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-scheme': 'https',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-original-forwarded-for': '52.174.6.185, 10.0.1.20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 2226,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-verify': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-sha1': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-before': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip, deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-dn': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:42 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] activityid: '833294909889594271858448',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-not-after': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl': '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-client-cert': '0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-ssl-issuer': '',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'Synapse-PT-HttpComponents-NIO',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: quote request body : {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.210Z, [quotesmodel]: Is request from FXP? : false\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payer currencies : [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.283Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.287Z, [quotesdatabase]: Cache miss for getForexProvider: [ 'EUR' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: This is a FOREX request will be forwarded to FXP : DFSPEUR\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.292Z, [quotesmodel]: Calculated sha256 hash of quote request with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: 5ed0d8f2f8eff39d06f6bda1856b8a00ad95cdd3df694a04a9ba478f526650b3\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: DB query for quote duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.297Z, [quotesmodel]: New quote identified with quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiatorType: [ 'CONSUMER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getInitiator: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getScenario: [ 'TRANSFER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.303Z, [quotesdatabase]: Cache miss for getAmountType: [ 'SEND' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Connection Error: Error: read ECONNRESET\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.311Z, [quotesdatabase]: inserted new transactionReference in db: d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'EUR' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYER' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp1' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYER_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.385Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyType: [ 'PAYEE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getPartyIdentifierType: [ 'MSISDN' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getParticipant: [ 'simdfsp2' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getTransferParticipantRoleType: [ 'PAYEE_DFSP' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.386Z, [quotesdatabase]: Cache miss for getLedgerEntryType: [ 'PRINCIPLE_VALUE' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.400Z, [quotesdatabase]: inserted new quoteParty in db: 12566\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.405Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6306 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.408Z, [quotesdatabase]: inserted new quoteParty in db: 12567\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.420Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPEUR', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp1\",\"FSPIOP-SourceCurrency\":\"EUR\",\"FSPIOP-Destination\":\"DFSPEUR\",\"FSPIOP-DestinationCurrency\":\"XOF\",\"FSPIOP-Signature\":\"{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.451Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"transactionId\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-SourceCurrency': 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-DestinationCurrency': 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"iU4GBXSfY8twZMj1zXX1CTe3LDO8Zvgui53icrriBxCUF_wltQmnjgWLWI4ZUEueVeOeTbDPBZazpBWYvBYpl5WJSUoXi14nVlangcsmu2vYkQUPmHtjOW-yb2ng6_aPfwd7oHLWrWzcsjTF-S4dW7GZRPHEbY_qCOhEwmmMOnE1FWF1OLvP0dM0r4y7FlnrZNhmuVIFhk_pMbEC44rtQmMFv4pm4EVGqmIm3eyXz0GkX8q_O1kGBoyIeV_P6RRcZ0nL6YUVMhPFSLJo6CIhL2zPm54Qdl2nVzDFWn_shVyV0Cl5vpcMJxJ--O_Zcbmpv6lxqDdygTC782Ob3CNMvg\\\",\\\"protectedHeader\\\":\\\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJwYXllcmZzcCIsIkZTUElPUC1EZXN0aW5hdGlvbiI6InBheWVlZnNwIiwiRGF0ZSI6IiJ9\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12566,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12567 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743208:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13892) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (264ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a POST /quotes request: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payee:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803915',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp2' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payer:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdInfo:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { partyIdType: 'MSISDN',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyIdentifier: '27713803905',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] fspId: 'simdfsp1' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] personalInfo: { complexName: [Object], dateOfBirth: '1983-10-25' } },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountType: 'SEND',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionType:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { scenario: 'TRANSFER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiator: 'PAYER',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] initiatorType: 'CONSUMER' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2017-11-15T22:17:28.985-01:00',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] extensionList:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { extension:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [ [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object],\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] [Object] ] } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: Received POST quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1423,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.487Z, [quotesmodel]: quote request body : {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: The regex to check forex dfsp is : /^DFSP([A-Z]{3})$/g\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.488Z, [quotesmodel]: Is request from FXP? : true\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payer currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.503Z, [quotesmodel]: Available payee currencies : [ 'XOF' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.507Z, [quotesmodel]: Calculated sha256 hash of quote request with id ebbd328d-32ad-4aff-870e-c886196db4ce as: a1e81388a4c1e7bb28032999a9cefbe6da5081b955bc877667fed3a9310e6c88\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: DB query for quote duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.510Z, [quotesmodel]: New quote identified with quoteId ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: inserted new duplicate check in db for quoteId: ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiatorType [ 'CONSUMER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getInitiator [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getScenario [ 'TRANSFER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.516Z, [quotesdatabase]: Cache hit for getAmountType [ 'SEND' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.519Z, [quotesdatabase]: inserted new transactionReference in db: 9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: inserted new quote in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionRequestId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] note: 'hej',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expirationDate: 2017-11-15T23:17:28.985Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] balanceOfPaymentsId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionSubScenarioId: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] currencyId: 'XOF' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYER' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.523Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp1' ]: 645\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYER_DFSP' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyType [ 'PAYEE' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getPartyIdentifierType [ 'MSISDN' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getParticipant [ 'simdfsp2' ]: 646\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getTransferParticipantRoleType [ 'PAYEE_DFSP' ]: 2\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.524Z, [quotesdatabase]: Cache hit for getLedgerEntryType [ 'PRINCIPLE_VALUE' ]: 1\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.527Z, [quotesdatabase]: inserted new quoteParty in db: 12568\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.530Z, [quotesdatabase]: inserted new quoteParty in db: 12569\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.533Z, [quotesdatabase]: inserted new party in db: { firstName: 'Mats',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] middleName: undefined,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] lastName: 'Hagman',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] dateOfBirth: '1983-10-25',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quotePartyId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] partyId: 6307 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesmodel]: create quote transaction committed to db: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.547Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp2', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Resolved PAYEE party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://mowbkd-simulators:80/simdfsp2'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request to endpoint: http://mowbkd-simulators:80/simdfsp2/quotes\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPXOF\",\"FSPIOP-Destination\":\"simdfsp2\",\"FSPIOP-HTTP-Method\":\"POST\",\"FSPIOP-Signature\":\"{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes\",\"Accept\":\"application/vnd.interoperability.quotes+json;version=1.0\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding quote request body: {\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.561Z, [quotesmodel]: Forwarding request : { method: 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] url: 'http://mowbkd-simulators:80/simdfsp2/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] data: '{\"quoteId\":\"ebbd328d-32ad-4aff-870e-c886196db4ce\",\"transactionId\":\"9678a1c6-9ef6-47dd-a2de-44c9b3920a7b\",\"payee\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803915\",\"fspId\":\"simdfsp2\"}},\"payer\":{\"partyIdInfo\":{\"partyIdType\":\"MSISDN\",\"partyIdentifier\":\"27713803905\",\"fspId\":\"simdfsp1\"},\"personalInfo\":{\"complexName\":{\"firstName\":\"Mats\",\"lastName\":\"Hagman\"},\"dateOfBirth\":\"1983-10-25\"}},\"amountType\":\"SEND\",\"amount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"transactionType\":{\"scenario\":\"TRANSFER\",\"initiator\":\"PAYER\",\"initiatorType\":\"CONSUMER\"},\"note\":\"hej\",\"expiration\":\"2017-11-15T22:17:28.985-01:00\",\"extensionList\":{\"extension\":[{\"key\":\"KYCPayerTier\",\"value\":\"1\"},{\"key\":\"KYCNationality\",\"value\":\"CI\"},{\"key\":\"KYCOccupation\",\"value\":\"Engineer\"},{\"key\":\"KYCEmployerName\",\"value\":\"Example Corp\"},{\"key\":\"KYCContactPhone\",\"value\":\"1122334455\"},{\"key\":\"KYCEmailAddress\",\"value\":\"user@mail.com\"},{\"key\":\"KYCBirthCountry\",\"value\":\"CI\"},{\"key\":\"KYCPayerAddress1\",\"value\":\"Immeuble Le Quartz Boulevard Valry Giscard d'Estaing Marcory\"},{\"key\":\"KYCPayerAddress2\",\"value\":\"11 BP 202 Abidjan 11\"},{\"key\":\"KYCPayerAddressCity\",\"value\":\"Abidjan\"},{\"key\":\"KYCPayerAddressCode\",\"value\":\"NE1 3TQ\"},{\"key\":\"KYCPayerIDType\",\"value\":\"PASSPORT\"},{\"key\":\"KYCPayerIDValue\",\"value\":\"770423742\"},{\"key\":\"KYCPayerTransferReason\",\"value\":\"Bill payment\"},{\"key\":\"parentTransferId\",\"value\":\"d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}]}}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] headers:\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] { 'Content-Type': 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Source': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Destination': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-HTTP-Method': 'POST',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-Signature': '{\"signature\":\"bX2yc_Ns4TlWBT6Y4fY0SWWiQH8sDqUqXEKUhRIWSIGZ_BuEVpZSRsZCJp-1GnxshWs6Uh9DZxR28_l1Jn-sgemFwYopnfmFYDBqz-J1unMKHEnZ7usfr2jf_d97t61VGyLgeClpFsTdufYrHSL18FUWxQhza27M_-SUMMxKhUgQfbZdO-pQ7vuTv3hnq6u6TE_2AWRvTBMkoIQPrX8QAZZTbxDtnpt3UEleEVZ0Xb9iwXMABAgbmy1kSuoxAvkzrsZ84MBi-jFwvVahciCe48Or6qgI_rmzNkgRfiirUh9kAWwbxAKI4Q8cKNI_arjnyoSqZhrnz1vJ8rU7klibWw\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzIiwiRlNQSU9QLUhUVFAtTWV0aG9kIjoiUE9TVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQWE9GIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDIiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'FSPIOP-URI': '/quotes',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] Accept: 'application/vnd.interoperability.quotes+json;version=1.0' } }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: POST quote request succeeded and returned: { transactionReferenceId: '9678a1c6-9ef6-47dd-a2de-44c9b3920a7b',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionInitiatorId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transactionScenarioId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] amountTypeId: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payerId: 12568,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeId: 12569 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743486:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13893) [response,api] http://0.0.0.0:3000: post /quotes {} 202 (84ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '13333', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Received PUT quote request headers: { accept: 'application/vnd.interoperability.quotes+json;version=1.0',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'simdfsp2',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'DFSPXOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 406,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'accept-encoding': 'gzip,deflate',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote id : ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.573Z, [quotesmodel]: Calculated sha256 hash of quote response with id ebbd328d-32ad-4aff-870e-c886196db4ce as: 892edfcbf04e070e104264e4b588f372450c75a2242ed3ea642f6156fec795da\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: DB query for quote response duplicate check with id ebbd328d-32ad-4aff-870e-c886196db4ce returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.576Z, [quotesmodel]: Check duplicate for quoteId ebbd328d-32ad-4aff-870e-c886196db4ce update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.582Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'ebbd328d-32ad-4aff-870e-c886196db4ce',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '13333',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.585Z, [quotesdatabase]: inserted new response duplicate check in db for quote ebbd328d-32ad-4aff-870e-c886196db4ce, quoteResponseId: 5276\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.588Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.595Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'DFSPXOF', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote ebbd328d-32ad-4aff-870e-c886196db4ce to: 'http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response to endpoint: http://fxp-mojaloop-fxp-adapter.fxp.svc.cluster.local:8000/quotes/ebbd328d-32ad-4aff-870e-c886196db4ce\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"simdfsp2\",\"FSPIOP-Destination\":\"DFSPXOF\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.599Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"13333\",\"currency\":\"XOF\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"eyJxdW90ZUlkIjoiZWJiZDMyOGQtMzJhZC00YWZmLTg3MGUtYzg4NjE5NmRiNGNlIiwidHJhbnNhY3Rpb25JZCI6Ijk2NzhhMWM2LTllZjYtNDdkZC1hMmRlLTQ0YzliMzkyMGE3YiJ9\",\"condition\":\"mVZ8slpkYoaulzBxHFZso6YGON-K4gGlhzIavldZ7D8\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5276 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743571:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13894) [response,api] http://0.0.0.0:3000: put /quotes/ebbd328d-32ad-4aff-870e-c886196db4ce {} 200 (45ms)\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: got a PUT /quotes/{id} request: { transferAmount: { amount: '20', currency: 'EUR' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFee: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommission: { amount: '1', currency: 'XOF' },\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] expiration: '2019-08-28T05:35:43.567Z',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpPacket: 'AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] condition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Received PUT quote request headers: { 'content-type': 'application/json',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] date: 'Wed, 28 Aug 2019 05:05:43 GMT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-source': 'DFSPEUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-destination': 'simdfsp1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-http-method': 'PUT',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-uri': '/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'fspiop-signature': '{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] host: 'mowbkd-quoting-service-api-adapter.casa-backend.svc.cluster.local',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'content-length': 1277,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] connection: 'close',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 'x-content-type': 'application/vnd.interoperability.quotes+json;version=1.0' }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote id : d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: quote request body : {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.631Z, [quotesmodel]: Calculated sha256 hash of quote response with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb as: b95b3304d47e192475bb712d226a2f937cc0256c5ab9ff4d3f11ffbe42a3d39b\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: DB query for quote response duplicate check with id d2b2d578-f3c5-4a26-bed7-c76eed79a5cb returned: null\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.635Z, [quotesmodel]: Check duplicate for quoteId d2b2d578-f3c5-4a26-bed7-c76eed79a5cb update returned: { isResend: false, isDuplicateId: false }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.641Z, [quotesdatabase]: inserted new quoteResponse in db: { quoteId: 'd2b2d578-f3c5-4a26-bed7-c76eed79a5cb',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmountCurrencyId: 'EUR',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] transferAmount: '20',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmountCurrencyId: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeReceiveAmount: null,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspFeeAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionCurrencyId: 'XOF',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] payeeFspCommissionAmount: '1',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] ilpCondition: 'aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg',\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] responseExpirationDate: 2019-08-28T05:35:43.567Z,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] isValid: 1,\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.643Z, [quotesdatabase]: inserted new response duplicate check in db for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb, quoteResponseId: 5277\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.646Z, [quotesdatabase]: inserted new quoteResponseIlpPacket in db: [ 0 ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesmodel]: create quote update transaction committed to db: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.654Z, [quotesdatabase]: Cache miss for getParticipantEndpoint: [ 'simdfsp1', 'FSPIOP_CALLBACK_URL' ]\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Resolved PAYER/FXP party FSPIOP_CALLBACK_URL endpoint for quote d2b2d578-f3c5-4a26-bed7-c76eed79a5cb to: 'http://mowbkd-simulators:80/simdfsp1'\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response to endpoint: http://mowbkd-simulators:80/simdfsp1/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response headers: {\"Content-Type\":\"application/vnd.interoperability.quotes+json;version=1.0\",\"Date\":\"Wed, 28 Aug 2019 05:05:43 GMT\",\"FSPIOP-Source\":\"DFSPEUR\",\"FSPIOP-Destination\":\"simdfsp1\",\"FSPIOP-HTTP-Method\":\"PUT\",\"FSPIOP-Signature\":\"{\"signature\":\"J1QoYaSEi2RrDB6CXwSOnWB_QOh3L9o1myVCl1VTv7AjGP4gTYASYn7QXeAN09bvV0bEIrZjSBygoVYE5tLJ1QlkUbeOqrAYYcnCOi76ZrRJjS3TuR0kQvMhXdHL1Cq8oFJQiqWjTrp57K_AQdKvbJytR6Ku1T52EnjiJMOqcTC3GK7P7yAwTqMxy6Goc_Vd84Y0FQir9tKivdA_cuKOhvBa0AU-6fCMxxzkpwrN4m0a2ORHHorxnHC1COPDgQ2cb7faOSwH98kjRNuXfwCuC6ZhnIJElriZdP_WiUVPlOnGKunKzkg4C1T8eaWu4JGOX8TbGiLhVJ3fmePV93uFLA\",\"protectedHeader\":\"eyJhbGciOiJSUzI1NiIsIkZTUElPUC1VUkkiOiIvcXVvdGVzL2QyYjJkNTc4LWYzYzUtNGEyNi1iZWQ3LWM3NmVlZDc5YTVjYiIsIkZTUElPUC1IVFRQLU1ldGhvZCI6IlBVVCIsIkZTUElPUC1Tb3VyY2UiOiJERlNQRVVSIiwiRlNQSU9QLURlc3RpbmF0aW9uIjoic2ltZGZzcDEiLCJEYXRlIjoiV2VkLCAyOCBBdWcgMjAxOSAwNTowNTo0MyBHTVQifQ\"}\",\"FSPIOP-URI\":\"/quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43.665Z, [quotesmodel]: Forwarding quote response body: {\"transferAmount\":{\"amount\":\"20\",\"currency\":\"EUR\"},\"payeeFspFee\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"payeeFspCommission\":{\"amount\":\"1\",\"currency\":\"XOF\"},\"expiration\":\"2019-08-28T05:35:43.567Z\",\"ilpPacket\":\"AYIC9AAAAAAAAAfQHWcuc2ltZGZzcDIubXNpc2RuLjI3NzEzODAzOTE1ggLKZXlKMGNtRnVjMkZqZEdsdmJrbGtJam9pT1RZM09HRXhZell0T1dWbU5pMDBOMlJrTFdFeVpHVXRORFJqT1dJek9USXdZVGRpSWl3aWNYVnZkR1ZKWkNJNkltVmlZbVF6TWpoa0xUTXlZV1F0TkdGbVppMDROekJsTFdNNE9EWXhPVFprWWpSalpTSXNJbkJoZVdWbElqcDdJbkJoY25SNVNXUkpibVp2SWpwN0luQmhjblI1U1dSVWVYQmxJam9pVFZOSlUwUk9JaXdpY0dGeWRIbEpaR1Z1ZEdsbWFXVnlJam9pTWpjM01UTTRNRE01TVRVaUxDSm1jM0JKWkNJNkluTnBiV1JtYzNBeUluMTlMQ0p3WVhsbGNpSTZleUp3WVhKMGVVbGtTVzVtYnlJNmV5SndZWEowZVVsa1ZIbHdaU0k2SWsxVFNWTkVUaUlzSW5CaGNuUjVTV1JsYm5ScFptbGxjaUk2SWpJM056RXpPREF6T1RBMUlpd2labk53U1dRaU9pSnphVzFrWm5Od01TSjlMQ0p3WlhKemIyNWhiRWx1Wm04aU9uc2lZMjl0Y0d4bGVFNWhiV1VpT25zaVptbHljM1JPWVcxbElqb2lUV0YwY3lJc0lteGhjM1JPWVcxbElqb2lTR0ZuYldGdUluMHNJbVJoZEdWUFprSnBjblJvSWpvaU1UazRNeTB4TUMweU5TSjlmU3dpWVcxdmRXNTBJanA3SW1GdGIzVnVkQ0k2SWpJd0lpd2lZM1Z5Y21WdVkza2lPaUpGVlZJaWZTd2lkSEpoYm5OaFkzUnBiMjVVZVhCbElqcDdJbk5qWlc1aGNtbHZJam9pVkZKQlRsTkdSVklpTENKcGJtbDBhV0YwYjNJaU9pSlFRVmxGVWlJc0ltbHVhWFJwWVhSdmNsUjVjR1VpT2lKRFQwNVRWVTFGVWlKOWZRAA\",\"condition\":\"aYpmN2ak61z4DLpS7Ps1BRhlFElyWY3WvDaCzQnpzlg\"}\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, [log,info] data: PUT quote request succeeded and returned: { quoteResponseId: 5277 }\n[mowbkd-quoting-service-api-adapter-66c8649988-dmkmr quoting-service-api-adapter] 2019-08-28T05:05:43Z, (1566968743630:mowbkd-quoting-service-api-adapter-66c8649988-dmkmr:1:jzuhhmwe:13895) [response,api] http://0.0.0.0:3000: put /quotes/d2b2d578-f3c5-4a26-bed7-c76eed79a5cb {} 200 (40ms)"
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "SettlementWindows",
					"item": [
						{
							"name": "200 - ValidRequest - OpenWindowById",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1207d054-5016-47ee-a57a-a044cdb8eb0f",
										"exec": [
											"//Input Variables",
											"pm.variables.set(\"iptSettlementWindowId\", \"2\");",
											"",
											"//Expected Ouput values",
											"pm.variables.set(\"optSettlementWindowId\", 2);",
											"pm.variables.set(\"optSettlementWindowState\", \"PENDING_SETTLEMENT\");"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b22c675c-c120-4ac0-b01f-572bf29d8a00",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"// Commenting this test because the windows ID is hardcoded and considering it as a test bug",
											"",
											"// var jsonData = pm.response.json();",
											"",
											"// pm.test(\"Expected Settlement Window Id should be: \"+pm.variables.get(\"optSettlementWindowId\"), function () {",
											"//     pm.expect(jsonData.settlementWindowId).to.eql(pm.variables.get(\"optSettlementWindowId\"));",
											"// });",
											"",
											"// pm.test(\"Expected Settlement State should be PENDING_SETTLEMENT\", function () {",
											"//     pm.expect(jsonData.state).to.eql(pm.variables.get(\"optSettlementWindowState\"));",
											"// });",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{optSettlementWindowId}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{optSettlementWindowId}}"
									]
								},
								"description": "Happy path test"
							},
							"response": []
						},
						{
							"name": "200 - Window- state (OPEN)-643a",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ef3db858-91aa-4826-acfd-7f6e965eec55",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is OPEN\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('OPEN');",
											"    });",
											"}",
											"pm.environment.set(\"openSettlementWindowId\",jsonData[0].settlementWindowId);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=OPEN",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "OPEN",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "400 - Bad Request-CloseWindow",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "721843ed-118a-48e8-ac97-68e855c494de",
										"exec": [
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "7a1f50e0-eaa4-4f11-a240-36bf5282810d",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"state\": \"CLOSE\",\n  \"reason\": \"TESTING\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows/{{openSettlementWindowId}}",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows",
										"{{openSettlementWindowId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "200 - param - state (SETTLED)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2856d3ec-570d-4760-8a4c-12a0927d21a9",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"for (var i in jsonData){",
											"    pm.test(\"Window State is SETTLED\", function () {",
											"        pm.expect(jsonData[i].state).to.eql('SETTLED');",
											"    });",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{hub_operator}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?state=SETTLED",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"settlementWindows"
									],
									"query": [
										{
											"key": "participantId",
											"value": "",
											"disabled": true
										},
										{
											"key": "state",
											"value": "SETTLED",
											"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
										},
										{
											"key": "fromDateTime",
											"value": "",
											"disabled": true
										},
										{
											"key": "toDateTime",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Author: Sridevi Miriyala",
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "bug_fixes",
			"item": [
				{
					"name": "Tests for Bugfix #998 - Quoting service not using most recent endpoint",
					"item": [
						{
							"name": "Add payeefsp request URL - QUOTES PUT with incorrect endpoint",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cdaf627d-7b6b-4ae9-8859-ce692709477a",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_QUOTES\",\n  \"value\": \"{{PAYEEFSP_CALLBACK_URL}}/incorrectpayeefsp\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"payeefsp",
										"endpoints"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND should not get callback",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "140ee55f-27ee-4173-a162-6cab98c645c8",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "2d37e73f-9a95-42c1-a141-fb6368c0bbf8",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"",
											"//Check Data on payee side - payeefsp should not receive any data as we added the incorrectpayeefsp as endpoint in the previous step",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          ",
											"            pm.test(\"Test Failed\", function () {",
											"                throw new Error('Recieved request at payeefsp, so failed');",
											"            });",
											"          ",
											"      } else {",
											"          pm.test(\"Test Passed - Because didn't get request at payeefsp request URL\", function () {",
											"            //Do nothing",
											"           });",
											"",
											"      }",
											"       ",
											"   });",
											"}, 1000)",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/quotes",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add payeefsp request URL - QUOTES PUT with correct endpoint",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "34bf1be1-c20a-47f6-b6dd-b0585f451962",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_QUOTES\",\n  \"value\": \"{{PAYEEFSP_CALLBACK_URL}}\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/payeefsp/endpoints",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"payeefsp",
										"endpoints"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND should get callback",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2170e4c5-7d1b-43b6-8a86-ab4b2f037bd1",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "2fecc556-5d77-4fdd-8713-12c64b07d2a3",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"//Check Data on payee side - payeefsp should get request now as we updated the correct endpoint in the previous step",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"            pm.test(\"Test Passed, request received at payeefsp\", function () {",
											"            //Do Nothing",
											"           });",
											"          ",
											"      } else {",
											"            pm.test(\"Test Failed\", function () {",
											"                throw new Error('Did not get response, so failed');",
											"            });",
											"      }",
											"       ",
											"   });",
											"}, 1000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/quotes",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests for Bugfix #1009 - ML Adapter and ALS service health should include broker status Copy",
					"item": [
						{
							"name": "Get health status of ML Adapter",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "46cac868-4f35-4c7d-a7ab-cfee914163b8",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"//Checking data",
											"var jsonData = pm.response.json();",
											"pm.test(\"ML Adaptor - Expected Status is OK\", function () {",
											"   pm.expect(jsonData.status).to.eql(\"OK\");",
											"",
											"    pm.test(\"ML Adaptor - Expected body to have services array\", function () {",
											"       pm.expect(jsonData.services).to.be.an('array');",
											"       ",
											"        pm.test(\"ML Adaptor - Expected services to have broker and status is OK\", function () {",
											"            const brokerOk = jsonData.services.find(item => {",
											"               return item.name=='broker' && item.status=='OK'; ",
											"            });",
											"            pm.expect(brokerOk).to.be.an('object');",
											"   ",
											"        });",
											"    });",
											"    ",
											"",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/health",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"health"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get health status of ALS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9e1141ec-96fd-4401-b589-06343a2f405b",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"//Checking data",
											"var jsonData = pm.response.json();",
											"pm.test(\"ALS - Expected Status is OK\", function () {",
											"   pm.expect(jsonData.status).to.eql(\"OK\");",
											"",
											"    pm.test(\"ALS - Expected body to have services array\", function () {",
											"       pm.expect(jsonData.services).to.be.an('array');",
											"       ",
											"        pm.test(\"ALS - Expected services to have datastore and status is OK\", function () {",
											"            const brokerOk = jsonData.services.find(item => {",
											"               return item.name=='datastore' && item.status=='OK'; ",
											"            });",
											"            pm.expect(brokerOk).to.be.an('object');",
											"   ",
											"        });",
											"    });",
											"    ",
											"",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/health",
									"host": [
										"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
									],
									"path": [
										"health"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get health status of Central Ledger",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "72e8b75b-7b64-41ff-8bc5-37160bfc199e",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"//Checking data",
											"var jsonData = pm.response.json();",
											"pm.test(\"Expected Status is OK\", function () {",
											"   pm.expect(jsonData.status).to.eql(\"OK\");",
											"",
											"    pm.test(\"Central Ledger - Expected body to have services array\", function () {",
											"       pm.expect(jsonData.services).to.be.an('array');",
											"       ",
											"        pm.test(\"Central Ledger - Expected services to have datastore and status is OK\", function () {",
											"            const brokerOk = jsonData.services.find(item => {",
											"               return item.name=='datastore' && item.status=='OK'; ",
											"            });",
											"            pm.expect(brokerOk).to.be.an('object');",
											"   ",
											"        });",
											"        pm.test(\"Central Ledger - Expected services to have broker and status is OK\", function () {",
											"            const brokerOk = jsonData.services.find(item => {",
											"               return item.name=='broker' && item.status=='OK'; ",
											"            });",
											"            pm.expect(brokerOk).to.be.an('object');",
											"   ",
											"        });        ",
											"    });",
											"    ",
											"",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/health",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"health"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get health status of Central Settlement",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "529bf5df-d9e3-4258-9b78-519bb684469f",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"//Checking data",
											"var jsonData = pm.response.json();",
											"pm.test(\"Central Settlement - Expected Status is OK\", function () {",
											"   pm.expect(jsonData.status).to.eql(\"OK\");",
											"",
											"    pm.test(\"Central Settlement - Expected body to have services array\", function () {",
											"       pm.expect(jsonData.services).to.be.an('array');",
											"       ",
											"        pm.test(\"Central Settlement - Expected services to have datastore and status is OK\", function () {",
											"            const brokerOk = jsonData.services.find(item => {",
											"               return item.name=='datastore' && item.status=='OK'; ",
											"            });",
											"            pm.expect(brokerOk).to.be.an('object');",
											"   ",
											"        });",
											"    });",
											"    ",
											"",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/health",
									"host": [
										"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
									],
									"path": [
										"health"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1df1812c-17c4-4b66-81d8-7a63e82d09da",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "f64c04c0-4952-4a1c-9179-1b4b3663cf86",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests for Bugfix #981 - Fix 500 http code instead of 400",
					"item": [
						{
							"name": "Add Participant - Duplicate account",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "dd7b8589-74db-42ad-8055-0034381b70ad",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Generic client error for duplicate currency\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic client error');",
											"});",
											"",
											"pm.test(\"Check Error code 3000\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"{{payerfsp}}\",\n  \"currency\": \"USD\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add non existing Participant",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3549c7e1-1490-49bf-8030-97ae75562aee",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Generic ID not found - non existing participant\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic ID not found');",
											"});",
											"",
											"pm.test(\"Check Error code 3200\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3200');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/xyz",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants",
										"xyz"
									]
								}
							},
							"response": [
								{
									"name": "Get Participant",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "http://{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{participant}}",
											"protocol": "http",
											"host": [
												"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
											],
											"path": [
												"participants",
												"{{participant}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Connection",
											"value": "keep-alive",
											"name": "Connection",
											"description": "Options that are desired for the connection"
										},
										{
											"key": "Content-Length",
											"value": "251",
											"name": "Content-Length",
											"description": "The length of the response body in octets (8-bit bytes)"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8",
											"name": "Content-Type",
											"description": "The mime type of this content"
										},
										{
											"key": "Date",
											"value": "Wed, 22 Aug 2018 15:25:18 GMT",
											"name": "Date",
											"description": "The date and time that the message was sent"
										},
										{
											"key": "Server",
											"value": "nginx/1.13.8",
											"name": "Server",
											"description": "A name for the server"
										},
										{
											"key": "accept-ranges",
											"value": "bytes",
											"name": "accept-ranges",
											"description": "Content-Types that are acceptable"
										},
										{
											"key": "cache-control",
											"value": "no-cache",
											"name": "cache-control",
											"description": "Tells all caching mechanisms from server to client whether they may cache this object. It is measured in seconds"
										}
									],
									"cookie": [],
									"body": "{\"name\":\"testfsp\",\"id\":\"test-central-ledger.mojaloop.test/participants/testfsp\",\"created\":\"2018-08-22T08:16:50.000Z\",\"isActive\":1,\"links\":{\"self\":\"test-central-ledger.mojaloop.test/participants/testfsp\"},\"currencies\":[{\"currency\":\"USD\",\"isActive\":1}]}"
								}
							]
						},
						{
							"name": "Add Participant - Invalid Currency",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "abddce0e-2dbf-4591-937d-623857f32327",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax - malformed currency\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"payer10\",\n  \"currency\": \"A#\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b67966c7-77c0-4d7b-9b74-1f2829b1dc8a",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a7e36c3c-d4a2-474b-88e0-f0a799b8a604",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests for Bugfix #1331 - 405 status code - unsupported method",
					"item": [
						{
							"name": "Post Party Receiver - Unsupported Method",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "27997cf1-9254-4c25-b528-edeff2752c59",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 405\", function () {",
											"    pm.response.to.have.status(405);",
											"});",
											"",
											"pm.test(\"Check Method Not Allowed\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Method Not Allowed');",
											"});",
											"",
											"pm.test(\"Check Error code 3000\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8ef685e9-92a9-45d7-b97a-6db263a66844",
										"exec": [
											"pm.variables.set('expectedFullName', 'Siabelo Maroka');",
											"pm.variables.set('expectedFirstName', 'Siabelo');",
											"pm.variables.set('expectedLastName', 'Maroka');",
											"pm.variables.set('expectedDOB', '1973-03-03');",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.interoperability.parties+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.parties+json;version=1.0"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{payerfsp}}"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{dateHeader}}"
									}
								],
								"url": {
									"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{payeefspMSISDN}}",
									"host": [
										"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
									],
									"path": [
										"parties",
										"MSISDN",
										"{{payeefspMSISDN}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Quote - Unsupported Method",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "274d086d-12f1-4668-ae6f-038da5db4c04",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"pm.environment.set('quoteDate', (new Date()).toUTCString());",
											"pm.environment.set('transferAmount', 60.11);",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "bb0f15f5-d536-4afa-82b6-6c4b5807261a",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 405\", function () {",
											"    pm.response.to.have.status(405);",
											"});",
											"",
											"pm.test(\"Check Delete Quotes - 'Method Not Allowed' \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Method Not Allowed');",
											"});",
											"",
											"pm.test(\"Check Error code 3000\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"quoteId\": \"{{quoteId}}\",\n  \"transactionId\": \"{{transactionId}}\",\n  \"payer\": {\n    \"partyIdInfo\": {\n      \"partyIdType\": \"MSISDN\",\n      \"partyIdentifier\": \"{{payerMSISDN}}\",\n      \"fspId\": \"payerfsp\"\n    },\n    \"personalInfo\": {\n      \"complexName\": {\n        \"firstName\": \"Mats\",\n        \"lastName\": \"Hagman\"\n      },\n      \"dateOfBirth\": \"1983-10-25\"\n    }\n  },\n  \"payee\": {\n    \"partyIdInfo\": {\n      \"partyIdType\": \"MSISDN\",\n      \"partyIdentifier\": \"22556999125\",\n      \"fspId\": \"payeefsp\"\n    }\n  },\n  \"amountType\": \"SEND\",\n  \"amount\": {\n    \"amount\": \"{{transferAmount}}\",\n    \"currency\": \"{{currency}}\"\n  },\n  \"transactionType\": {\n    \"scenario\": \"TRANSFER\",\n    \"initiator\": \"PAYER\",\n    \"initiatorType\": \"CONSUMER\"\n  },\n  \"note\": \"hej\"\n}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Transfer - Unsupported method",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8b87047a-eb21-46d3-be5c-2ff6c06bc224",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 405\", function () {",
											"    pm.response.to.have.status(405);",
											"});",
											"",
											"pm.test(\"Check Method Not Allowed\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Method Not Allowed');",
											"});",
											"",
											"pm.test(\"Check Error code 3000\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3000');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "63c91458-6b1a-49ce-9071-2583a5bfcb43",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transfer_ID', generatedUUID);",
											"pm.environment.set('transferDate', (new Date()).toUTCString());",
											"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));",
											"pm.environment.set('transferAmount', 1.11);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"transferId\": \"{{transfer_ID}}\",\n  \"payerFsp\": \"{{payerfsp}}\",\n  \"payeeFsp\": \"{{payeefsp}}\",\n  \"amount\": {\n    \"amount\": \"{{transferAmount}}\",\n    \"currency\": \"{{currency}}\"\n  },\n  \"expiration\": \"{{transferExpiration}}\",\n  \"ilpPacket\": \"{{ilpPacket}}\",\n  \"condition\": \"{{condition}}\"\n}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7396d6dd-4ccc-41f8-a39e-f1009d22b9e1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "513e936f-1c83-4783-9af5-ee19075ac880",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test for Bugfix #1378 - extension list missing",
					"item": [
						{
							"name": "Send Quote_SEND  - with wrong content version",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d7e00786-d2a2-4a45-87c5-e90852572946",
										"exec": [
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"pm.environment.set('quoteDate', (new Date()).toUTCString());",
											"pm.environment.set('transferAmount', 60.11);",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f48bf7a0-c45c-4459-9482-7db4c313c7a8",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});",
											"",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=3.2"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"quoteId\": \"{{quoteId}}\",\n  \"transactionId\": \"{{transactionId}}\",\n  \"payer\": {\n    \"partyIdInfo\": {\n      \"partyIdType\": \"MSISDN\",\n      \"partyIdentifier\": \"{{payerMSISDN}}\",\n      \"fspId\": \"payerfsp\"\n    },\n    \"personalInfo\": {\n      \"complexName\": {\n        \"firstName\": \"Mats\",\n        \"lastName\": \"Hagman\"\n      },\n      \"dateOfBirth\": \"1983-10-25\"\n    }\n  },\n  \"payee\": {\n    \"partyIdInfo\": {\n      \"partyIdType\": \"MSISDN\",\n      \"partyIdentifier\": \"22556999125\",\n      \"fspId\": \"payeefsp\"\n    }\n  },\n  \"amountType\": \"SEND\",\n  \"amount\": {\n    \"amount\": \"{{transferAmount}}\",\n    \"currency\": \"{{currency}}\"\n  },\n  \"transactionType\": {\n    \"scenario\": \"TRANSFER\",\n    \"initiator\": \"PAYER\",\n    \"initiatorType\": \"CONSUMER\"\n  },\n  \"note\": \"hej\"\n}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND  - with wrong accept header version",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c2e3eb10-6412-4960-b96f-b9d70f25dddd",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"RECEIVE\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "72a0a089-7941-4d67-81aa-b63e1d809265",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});",
											"",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.4"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d6a87e1a-4e10-4884-8bf9-07684a84e91c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "558859ff-8982-4e52-9960-a30e9b3b1685",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test for Bugfix #849 - missing ID for transfers and quotes",
					"item": [
						{
							"name": "Check transfers/ Missing ID #849",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1a7cddc1-4eb7-49a4-bbb3-b8f49221ce65",
										"exec": [
											"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "98c2d152-927e-4f14-ad78-93313b39315e",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Check ID missing\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unknown URI');",
											"});",
											"",
											"pm.test(\"Check Error code 3002\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3002');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "noresponsepayeefsp"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{payeefsp}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"fulfilment\": \"{{validFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"COMMITTED\"\n}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers/",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Check quotes/ Missing ID #849",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f609fd6a-8e08-4f35-8030-8d00a1024616",
										"exec": [
											"pm.environment.set(\"completedTimestamp\",new Date().toISOString());",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "54ef1609-8086-4133-a736-796b3bc0ec5a",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Check ID missing\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unknown URI');",
											"});",
											"",
											"pm.test(\"Check Error code 3002\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3002');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{dateHeader}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "noresponsepayeefsp"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{payeefsp}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"fulfilment\": \"{{validFulfillment}}\",\n  \"completedTimestamp\": \"{{completedTimestamp}}\",\n  \"transferState\": \"COMMITTED\"\n}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/quotes",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test for 4 decimal points #949",
					"item": [
						{
							"name": "Send Quote - SEND",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "249ccf77-dd71-4a8c-ad89-36b095725069",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"pm.variables.set('transferAmount', 60.1234);",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60.1234\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e3d240a1-d0d4-4908-8d4c-12a664896702",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-uri is /quotes\", function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Quote FAILED\", function () {",
											"                throw new Error('Did not receive request on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1100)",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
											"      if(response.responseSize !== 0) {",
											"          //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp\", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            ",
											"            var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
											"            // var strData = JSON.stringify(response.json().data)",
											"            // const token = `${protectedHeader}.${btoa(strData)}.${signature}`",
											"            // console.log(`token: ${token}`)",
											"            // var isValid = KJUR.jws.JWS.verify(token, pm.environment.get('goldenpayeefspJWSPubKey'), {alg: ['RS256']})",
											"            // console.log(`isValid: ${isValid}`)",
											"            // pm.test(\"Check if the response is JWS valid\", function () {",
											"            //     pm.expect(isValid).to.eql(true);",
											"            // });",
											"            ",
											"            //Validate protected header inside Signature",
											"            var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
											"            console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
											"            ",
											"            pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
											"                pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be goldenpayeefsp\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
											"                pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
											"            });",
											"            pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
											"                pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
											"            });",
											"           ",
											"            pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"",
											"            pm.test(\"Send Quote Amount in 4 decimal returned\", function () {",
											"                pm.expect(+jsonData.transferAmount.amount).equal(pm.variables.get(\"transferAmount\"));",
											"            });",
											"            ",
											"            pm.test(\"Response quoteId is  null\", function () {",
											"                pm.expect(jsonData.quoteId).to.eql(undefined);",
											"                ",
											"            });",
											"          ",
											"            pm.test(\"Response ilpPacket is not null\", function () {",
											"                pm.expect(jsonData.ilpPacket).not.equal(undefined);",
											"                pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
											"            });",
											"       ",
											"           pm.test(\"Response condition is not null\", function () {",
											"               pm.expect(jsonData.condition).not.equal(undefined);",
											"               pm.environment.set(\"condition\", jsonData.condition);",
											"           });",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response on Payer side');",
											"           });",
											"           // postman.setNextRequest(null);",
											"      }",
											"       ",
											"   });",
											"}, 1000)",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/quotes"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Transfer - SEND",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5056e4b9-d10a-4975-955d-8e4b5498201d",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// //Check the request that Switch forwards to payeefsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"              ",
											"              //Check the Headers",
											"              var headers = response.json().headers;",
											"              ",
											"                pm.test(\"payeefsp fspiop-source is goldenpayerfsp\", function () {",
											"                    pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-destination is goldenpayeefsp\", function () {",
											"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
											"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
											"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
											"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
											"                    pm.expect(headers['fspiop-http-method']).to.eql('POST');",
											"                });",
											"                ",
											"                pm.test(\"payeefsp fspiop-uri is /transfers\", function () {",
											"                    pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
											"                });",
											"                ",
											"                ",
											"                //Check the data",
											"                var jsonData = response.json().data;",
											"                pm.test(\"payeefsp data should have the same transferId as request\", function () {",
											"                  pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same payerfspId as request\", function () {",
											"                  pm.expect(jsonData.payerFsp).to.eql('payerfsp');",
											"                });",
											"                pm.test(\"payeefsp data should have the same payeefspId as request\", function () {",
											"                  pm.expect('payeefsp');",
											"                });",
											"                // pm.test(\"payeefsp data should have the same amount as request\", function () {",
											"                //   pm.expect(jsonData.amount.amount).to.eql(pm.variables.get('transferAmount'));",
											"                // });",
											"",
											"                pm.test(\"Send Quote Amount in 4 decimal returned\", function () {",
											"                pm.expect(+jsonData.amount.amount).equal(pm.variables.get(\"transferAmount\"));",
											"                ",
											"                });",
											"                pm.test(\"payeefsp data should have the same currency as request\", function () {",
											"                  pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same expiration as request\", function () {",
											"                  pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
											"                  pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
											"                });",
											"                pm.test(\"payeefsp data should have the same condition as request\", function () {",
											"                  pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
											"                });",
											"                ",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payee side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"  });",
											"}, 1100)",
											"",
											"//Check the callback response that Switch forwards to payerfsp",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"          if(response.responseSize !== 0) {",
											"            //Checking headers",
											"            var headers = response.json().headers;",
											"            pm.test(\"payerfsp fspiop-source is goldenpayeefsp \", function () {",
											"                pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-destination is goldenpayerfsp\", function () {",
											"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
											"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
											"            });",
											"            ",
											"            pm.test(\"payerfsp accept is empty\", function () {",
											"                pm.expect(headers['accept']).to.eql(undefined);",
											"            });",
											"            ",
											"            ",
											"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
											"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\"));",
											"            });",
											"            ",
											"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
											"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"            });",
											"            ",
											"            var jsonData = response.json().data;",
											"            pm.test(\"Response data does not have transferId\", function () {",
											"               pm.expect(jsonData.transferId).to.eql(undefined);",
											"            });",
											"            pm.test(\"Response status is COMMITTED\", function () {",
											"                pm.expect(jsonData.transferState).to.eql('COMMITTED');",
											"            });",
											"          } else {",
											"              pm.test(\"Transfer FAILED\", function () {",
											"                throw new Error('Did not receive response on payer side');",
											"              });",
											"              // postman.setNextRequest(null)",
											"          }",
											"   });",
											"}, 1300)",
											"",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
											"       pm.test(\"payeefsp does not receive additional final notification\", function () {",
											"            pm.expect(response.text()).to.eql('');",
											"        });",
											"       ",
											"      ",
											"    });",
											"}, 2000)",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "97503640-dd86-44d3-b385-cc0e7f5ab270",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"pm.variables.set('transferAmount', 60.1234);",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": \"payerfsp\",",
											"  \"payeeFsp\": \"payeefsp\",",
											"  \"amount\": {",
											"    \"amount\": \"{{transferAmount}}\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{PAYERFSP_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "payerfsp"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefsp"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiopSignature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Test for Bugfix #742 - Error code check",
					"item": [
						{
							"name": "Check Error 2001 Internal server error #742",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f954a7c1-2b1b-4ea3-bb4b-3e576165b0f6",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Check Malformed syntax error \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check currency is included in the Error description\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('currency');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"payer10\",\n  \"currency\": \"A#\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3003 Add Party information error #742",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d35be766-d255-488d-ab8f-776c2308dd01",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Check ID missing\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Add Party information error');",
											"});",
											"",
											"pm.test(\"Check Error code 3003\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3003');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"{{payerfsp}}\",\n  \"currency\": \"XOF\"\n}"
								},
								"url": {
									"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
									"host": [
										"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
									],
									"path": [
										"participants"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3100  validation error#742",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "374c4921-a71c-4133-9664-33722a43aa5f",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Generic validation error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error');",
											"});",
											"",
											"pm.test(\"Check payerFsp1 is included in Error description\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('payerFsp1');",
											"});",
											"",
											"pm.test(\"Check Error code 3100\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3605af26-2ac2-4be6-a62a-db0f4a361c90",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": \"payerfsp\",",
											"  \"payerFsp1\": \"{{payerfsp}}\",",
											"  \"payeeFsp\": \"payeefsp\",",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/transfers",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3101 Malformed syntax #742",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9f80571e-ad79-441c-9fed-dea5bb470c18",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Transfer Id is included in error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Transfer Id');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0c664d24-0e2c-448b-b1db-1712991ce7b4",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID')+'+1',",
											"  \"payerFsp\": \"payerfsp\",",
											"  \"payeeFsp\": \"payeefsp\",",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									},
									{
										"key": "FSPIOP-URI",
										"type": "text",
										"value": "/transfers"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"type": "text",
										"value": "POST"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Error 3102  Missing mandatory element#742",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f8baa9b8-1d3c-411c-bf74-2aed075c057c",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Missing mandatory element\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element');",
											"});",
											"",
											"pm.test(\"Check valid Payee FSP missing \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Payee FSP');",
											"});",
											"",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "b415be73-345c-4b02-8428-4d08fc34b8ad",
										"exec": [
											"var navigator = {}; //fake a navigator object for the lib",
											"var window = {}; //fake a window object for the lib",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('transfer_ID', pm.environment.get('transactionId'));",
											"",
											"",
											"pm.variables.set('transferDate', (new Date()).toUTCString());",
											"",
											"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 60000))",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferId\": pm.environment.get('transfer_ID'),",
											"  \"payerFsp\": \"payerfsp\",",
											"  \"amount\": {",
											"    \"amount\": \"10\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"expiration\": pm.environment.get('transferExpiration'),",
											"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
											"  \"condition\": pm.environment.get('condition')",
											"}",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"transferRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"//console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transfers+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{transferDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "FSPIOP-URI",
										"value": "/transfers",
										"type": "text"
									},
									{
										"key": "FSPIOP-HTTP-Method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{transferRequest}}"
								},
								"url": {
									"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
									"host": [
										"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
									],
									"path": [
										"transfers"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "66a1a338-38ff-4041-a7e8-3851786d72bd",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "b8f2b1db-c6bc-4e38-8f27-f9c967e106e7",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Tests for Bugfix #990 and #1016 - Quotes",
					"item": [
						{
							"name": "Check duplicate quote before and after expiration",
							"item": [
								{
									"name": "Send Quote_SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "9f3ac1d7-b76f-42be-b5fa-8c9fecc7f3f7",
												"exec": [
													"",
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 3000))",
													"pm.environment.set('quoteDate', (new Date()).toUTCString());",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"noresponsepayeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "877f0910-25d6-4fd3-a162-dcfd315a5772",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "noresponsepayeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote_SEND - 12 - Validate Within Expire Time w Duplicate Quote Id Copy",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "08c15bc8-83ab-4d78-ae43-93eedfb3ee63",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"noresponsepayeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "fecc222e-e9e8-4fe5-973c-21926f11c84d",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response)  {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"            var jsonData = response.json().data;",
													"",
													"            console.log(jsonData)",
													"            ",
													"            pm.test(\"Check Modified request - Duplicate Quote before expire time\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Modified request');",
													"            });",
													"            ",
													"            pm.test(\"Check Error code 3106\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
													"            });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"          }",
													"  });",
													"}, 1100)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "noresponsepayeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote_SEND - 12 - Validate After Expire Time w Duplicate Quote Id",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "85f7fe77-0e9a-499b-be0c-38cf0a295def",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"noresponsepayeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"setTimeout(function () {",
													"  pm.sendRequest('www.google.com', function (err, response) {}",
													"    );",
													"}, 3000)",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "cbfd59dd-50ce-4fce-a54c-c6d35d159442",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"// Check the request that Switch forwards to payeefsp",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response)  {",
													"          if(response.responseSize !== 0) {",
													"              ",
													"              var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Check Modified request - Duplicate Quote before expire time\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Modified request');",
													"            });",
													"            ",
													"            pm.test(\"Check Error code 3106\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
													"            });",
													"                ",
													"          } else {",
													"              pm.test(\"Quote FAILED\", function () {",
													"                throw new Error('Did not receive request on payee side');",
													"              });",
													"          }",
													"  });",
													"}, 1100)",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{payeefsp}}"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9d5bac14-1047-4846-a912-64a908f2e24e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "db76b8d0-3964-4d28-a5e3-c44db436c4ce",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "bug8-DuplicateQuoteId",
							"item": [
								{
									"name": "Send Quote_SEND",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "be91f519-6800-4a21-bf64-3cc10de730e8",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"pm.environment.set('quoteId', generatedUUID);",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "90087948-7909-4fb1-8624-2050ed9040c2",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check the request that Switch forwards to payeefsp",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payeefsp/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"//           if(response.responseSize !== 0) {",
													"              ",
													"//               //Check the Headers",
													"//               var headers = response.json().headers;",
													"              ",
													"//                 pm.test(\"payeefsp fspiop-source is payerfsp\", function () {",
													"//                     pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp fspiop-destination is payerfsp\", function () {",
													"//                     pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
													"//                     pm.expect(headers['fspiop-signature']).to.eql(pm.environment.get(\"fspiop-signature\"));",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp accept is same as sent in the request\", function () {",
													"//                     pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"//                 });",
													"                ",
													"//                 pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
													"//                     pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"//                 });",
													"                ",
													"//           } else {",
													"//               pm.test(\"Quote FAILED\", function () {",
													"//                 throw new Error('Did not receive request on payee side');",
													"//               });",
													"//               postman.setNextRequest(null)",
													"//           }",
													"//   });",
													"// }, 1100)",
													"",
													"// //Check Data on payer side",
													"// setTimeout(function () {",
													"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/payerfsp/callbacks/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
													"//       if(response.responseSize !== 0) {",
													"//           //Checking headers",
													"//             var headers = response.json().headers;",
													"//             pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
													"//                 pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
													"//                 pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
													"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp accept is empty\", function () {",
													"//                 pm.expect(headers['accept']).to.eql(undefined);",
													"//             });",
													"            ",
													"            ",
													"            ",
													"//             //Validate protected header inside Signature",
													"//             var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
													"//             var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
													"//             console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
													"            ",
													"//             // pm.test(\"FSPIOP-Signature signature is returned\", function () {",
													"//             //     pm.expect(signature).to.eql(pm.environment.get(\"payeefsp-signature\"));",
													"//             // });",
													"            ",
													"//             pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"//             });",
													"            ",
													"",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payerfsp\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payerfsp');",
													"//             });",
													"//             pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
													"//                 pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
													"//             });",
													"           ",
													"//             pm.test(\"payerfsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
													"//                 pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
													"//             });",
													"            ",
													"//             pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
													"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
													"//             });",
													"            ",
													"//             var jsonData = response.json().data;",
													"            ",
													"//           pm.test(\"Response fees is returned\", function () {",
													"//                 pm.expect(jsonData.payeeFspFee.amount).equal(\"1\");",
													"                ",
													"//             });",
													"//             pm.test(\"Response Commission is returned\", function () {",
													"//                 pm.expect(jsonData.payeeFspCommission.amount).equal(\"1\");",
													"                ",
													"//             });",
													"            ",
													"//             pm.test(\"Response ilpPacket is not undefined\", function () {",
													"//                 pm.expect(jsonData.ilpPacket).not.equal(undefined);",
													"//                 pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
													"//             });",
													"       ",
													"//           pm.test(\"Response condition is not undefined\", function () {",
													"//               pm.expect(jsonData.condition).not.equal(undefined);",
													"//               pm.environment.set(\"condition\", jsonData.condition);",
													"//           });",
													"//       } else {",
													"//           pm.test(\"Quote FAILED\", function () {",
													"//             throw new Error('Did not receive response');",
													"//           });",
													"",
													"//       }",
													"       ",
													"//   });",
													"// }, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "payerfsp"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "payeefsp"
											},
											{
												"key": "FSPIOP-Signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}"
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								},
								{
									"name": "Send Quote_SEND - 8 - Duplicate QuoteId",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "de59686e-86ee-4fb6-9721-7e0448c9a5b8",
												"exec": [
													"var navigator = {}; ",
													"var window = {}; ",
													"eval(pm.environment.get('jrsassign'));",
													"",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"generatedUUID = uuid.v4();",
													"pm.environment.set('transactionId', generatedUUID);",
													"",
													"pm.variables.set('quoteDate', (new Date()).toUTCString());",
													"pm.variables.set('payerName', 'PayerFirst PayerLast');",
													"pm.variables.set('payerMSISDN', '918381008987');",
													"",
													"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
													"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
													"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
													"",
													"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
													"var sHeader = JSON.stringify(oHeader);",
													"console.log(`sHeader: ${sHeader}`)",
													"",
													"var objPayload = {",
													"  \"quoteId\": pm.environment.get('quoteId'),",
													"  \"transactionId\": pm.environment.get('transactionId'),",
													"  \"payer\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
													"      \"fspId\": \"payerfsp\"",
													"    },",
													"    \"personalInfo\": {",
													"      \"complexName\": {",
													"        \"firstName\": \"Mats\",",
													"        \"lastName\": \"Hagman\"",
													"      },",
													"      \"dateOfBirth\": \"1983-10-25\"",
													"    }",
													"  },",
													"  \"payee\": {",
													"    \"partyIdInfo\": {",
													"      \"partyIdType\": \"MSISDN\",",
													"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
													"      \"fspId\": \"payeefsp\"",
													"    }",
													"  },",
													"  \"amountType\": \"SEND\",",
													"  \"amount\": {",
													"    \"amount\": \"60\",",
													"    \"currency\": pm.environment.get('currency')",
													"  },",
													"  \"transactionType\": {",
													"    \"scenario\": \"TRANSFER\",",
													"    \"initiator\": \"PAYER\",",
													"    \"initiatorType\": \"CONSUMER\"",
													"  },",
													"  \"note\": \"hej\"",
													"}",
													"",
													"var sPayload = JSON.stringify(objPayload)",
													"console.log(`sPayload: ${sPayload}`)",
													"pm.variables.set(\"quoteRequest\", sPayload);",
													"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
													"console.log(`token: ${token}`)",
													"",
													"// var encodedHeaders = btoa(sHeader)",
													"",
													"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
													"// var token = JSON.stringify(ofspiopSignature)",
													"",
													"const [ protectedHeaderBase64, , signature ] = token.split('.');",
													"",
													"const signatureObject = {",
													"    signature: signature.replace('\"', ''),",
													"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
													"};",
													"",
													"console.log(JSON.stringify(signatureObject))",
													"",
													"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ef15caee-ef72-48dd-8b52-f864235cdf40",
												"exec": [
													"pm.test(\"Status code is 202\", function () {",
													"    pm.response.to.have.status(202);",
													"});",
													"",
													"//Check Data on payer side",
													"setTimeout(function () {",
													"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
													"      if(response.responseSize !== 0) {",
													"            ",
													"            var jsonData = response.json().data;",
													"            ",
													"            pm.test(\"Check Modified request - Duplicate Quote\", function () {",
													"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Modified request');",
													"            });",
													"            ",
													"            pm.test(\"Check Error code 3106\", function () {",
													"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3106');",
													"            });",
													"            ",
													"      } else {",
													"          pm.test(\"Quote FAILED\", function () {",
													"            throw new Error('Did not receive response');",
													"          });",
													"",
													"      }",
													"       ",
													"  });",
													"}, 1000)",
													"",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{TESTFSP1_BEARER_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.quotes+json;version=1.0"
											},
											{
												"key": "Date",
												"value": "{{quoteDate}}"
											},
											{
												"key": "FSPIOP-Source",
												"value": "{{payerfsp}}"
											},
											{
												"key": "FSPIOP-Destination",
												"value": "{{payeefsp}}"
											},
											{
												"key": "FSPIOP-Signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{quoteRequest}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
											"host": [
												"{{HOST_QUOTING_SERVICE}}"
											],
											"path": [
												"quotes"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Send Quote_SEND - Missing content-type version",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a6f611b7-00c2-4e00-b1bd-8e888c04ebea",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e52e3ab2-910d-47d1-90a9-0951ab41c561",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Missing mandatory element\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 6a - Invalid Content Type - application/json",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "af49cab1-b6e0-41ef-8aa6-bd27ce7b02de",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6d99eca6-2b66-42ad-9621-a811b1fb4a60",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Missing mandatory element\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 6b - Invalid Content Type - xml",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1f0419c6-f266-45ef-aaba-afc38aa6cadf",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Invalid content Type - Check XML type \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported Media Type');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "061c01f4-c01f-4119-8278-81b4f878baf8",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/xml"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "xml"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 6c - Invalid Content Type - empty body",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "354edc06-f3de-4452-bb10-f87dcb65d78b",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e0732456-92cf-4b6e-97e3-20ced516a344",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Invalid content Type - Check XML type \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unsupported Media Type');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/xml",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "xml"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payer PartyIdType",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "6d438991-d6a0-4712-9ab7-6dbcde22eb2b",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "274b421e-036b-4141-b657-7fdde6609132",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdType\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdType');",
											"});        ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payer PartyIdentifier",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c6cd8561-7a4b-469b-b050-c658a6be9ac7",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9f88552a-df41-4f74-85e6-b1b52540931e",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdentifier\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdentifier');",
											"});        ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payee PartyIdentifier",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0e0bced8-5493-49c0-a86f-b7c6fee3ec1f",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e6a62d34-e82c-45e4-ae0c-a20a59ef339f",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdentifier\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdentifier');",
											"});        ",
											"",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 7 - Missing Payee PartyIdType",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "fe93ea1d-1497-4a2e-9562-2cb0278c044f",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "95c7eb25-3b42-4f26-87fc-df544ab3d9ae",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});         ",
											"",
											"pm.test(\"Check Missing payer partyIdType\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdType');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 9- Destination FSP NOT FOUND",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0c11cad7-557d-4d3c-9921-12b8b48e0d3c",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "59812bd3-b7c0-473f-bfb4-d822539319a5",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"console.log(\"Test - FSP not found\")",
											"",
											"//Check Data on payer side",
											"setTimeout(function () {",
											"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response)  {",
											"      if(response.responseSize !== 0) {",
											"            ",
											"            var jsonData = response.json().data;",
											"            ",
											"            pm.test(\"Check Destination FSP Error - Unsupported participant\", function () {",
											"                pm.expect(jsonData.errorInformation.errorDescription).to.include('Destination FSP Error - Unsupported participant ');",
											"            });",
											"            ",
											"            pm.test(\"Check Error code 3201\", function () {",
											"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3201');",
											"            });",
											"            ",
											"      } else {",
											"          pm.test(\"Quote FAILED\", function () {",
											"            throw new Error('Did not receive response');",
											"          });",
											"",
											"      }",
											"       ",
											"  });",
											"}, 1000)",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "payeefspNOTFOUND"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 10 - PayeePartyIdentifier NOT FOUND",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a0036649-fbb3-436c-bf8c-9b5ba1552e91",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": \"\",",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a605ff4c-d1aa-4c0f-81f9-14cad4854419",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Generic Validation Error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error');",
											"});          ",
											"",
											"pm.test(\"Check partyIdentifier is included in Error description\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('partyIdentifier');",
											"});     ",
											"            ",
											"pm.test(\"Check Error code 3100\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								}
							},
							"response": []
						},
						{
							"name": "QuotesByID - 11 - Missing Condition Field",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "ab4efcc2-4c4a-4e40-a1d0-c420a33433ba",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"transferAmount\": {",
											"  \"amount\": \"11\",",
											"  \"currency\": \"XOF\" },",
											"  \"payeeReceiveAmount\": {",
											"  \"amount\": \"11\",",
											"  \"currency\": \"XOF\"   },",
											"  \"payeeFspCommission\": {",
											"   \"currency\": \"XOF\",",
											"   \"amount\": \"1\"",
											" },",
											"  \"expiration\": \"2019-10-14T20:19:20.741Z\",",
											"  \"ilpPacket\": \"AQAAAAAAAADIEHByaXZhdGUucGF5ZWVmc3CCAiB7InRyYW5zYWN0aW9uSWQiOiIyZGY3NzRlMi1mMWRiLTRmZjctYTQ5NS0yZGRkMzdhZjdjMmMiLCJxdW90ZUlkIjoiMDNhNjA1NTAtNmYyZi00NTU2LThlMDQtMDcwM2UzOWI4N2ZmIiwicGF5ZWUiOnsicGFydHlJZEluZm8iOnsicGFydHlJZFR5cGUiOiJNU0lTRE4iLCJwYXJ0eUlkZW50aWZpZXIiOiIyNzcxMzgwMzkxMyIsImZzcElkIjoicGF5ZWVmc3AifSwicGVyc29uYWxJbmZvIjp7ImNvbXBsZXhOYW1lIjp7fX19LCJwYXllciI6eyJwYXJ0eUlkSW5mbyI6eyJwYXJ0eUlkVHlwZSI6Ik1TSVNETiIsInBhcnR5SWRlbnRpZmllciI6IjI3NzEzODAzOTExIiwiZnNwSWQiOiJwYXllcmZzcCJ9LCJwZXJzb25hbEluZm8iOnsiY29tcGxleE5hbWUiOnt9fX0sImFtb3VudCI6eyJjdXJyZW5jeSI6IlVTRCIsImFtb3VudCI6IjIwMCJ9LCJ0cmFuc2FjdGlvblR5cGUiOnsic2NlbmFyaW8iOiJERVBPU0lUIiwic3ViU2NlbmFyaW8iOiJERVBPU0lUIiwiaW5pdGlhdG9yIjoiUEFZRVIiLCJpbml0aWF0b3JUeXBlIjoiQ09OU1VNRVIiLCJyZWZ1bmRJbmZvIjp7fX19\"",
											"} ",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "280e69b9-e850-4766-8d63-ab6e2f7e29d6",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Missing conditional Field- condition is required\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": ""
									},
									{
										"key": "Accept-Encoding",
										"value": "gzip, deflate",
										"disabled": true
									},
									{
										"key": "Cache-Control",
										"value": "no-cache"
									},
									{
										"key": "Connection",
										"value": "keep-alive"
									},
									{
										"key": "Content-Length",
										"value": "1117",
										"disabled": true
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "noresponsepayeefsp"
									},
									{
										"key": "Host",
										"value": "http://localhost:3002",
										"disabled": true
									},
									{
										"key": "Postman-Token",
										"value": "a1c5eda9-20eb-4041-8e1a-134f266dee23,a25e5bc7-0cee-4720-9d34-ffd28d08c908",
										"disabled": true
									},
									{
										"key": "User-Agent",
										"value": "PostmanRuntime/7.17.1",
										"disabled": true
									},
									{
										"key": "cache-control",
										"value": "no-cache",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/febf8cff-f0b8-4a09-9a17-e22401fe4332",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"febf8cff-f0b8-4a09-9a17-e22401fe4332"
									]
								}
							},
							"response": []
						},
						{
							"name": "QuotedById - 13a- 400- Missing Accept header",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "88527e8f-5b42-417a-9735-9bccae2f1196",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Malformed syntax - Invalid accept header\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax - Invalid accept header');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e779b4b1-dffb-42f9-98c0-7880ddcd3d06",
										"exec": [
											"pm.environment.set('quoteDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{payeefsp}}"
									}
								],
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/07e92ea7-d655-4f88-925c-4aeefcee80f6",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"07e92ea7-d655-4f88-925c-4aeefcee80f6"
									]
								},
								"description": "The HTTP request GET /quotes/<ID> is used to get information regarding an earlier created or requested quote. The <ID> in the URI should contain the quoteId that was used for the creation of the quote."
							},
							"response": []
						},
						{
							"name": "QuotesById - 13b - 400-Missing FSPIOP-Source header",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c2832440-05c0-4a61-ade7-390aa048def3",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});",
											"",
											"pm.test(\"Error message fspiop-source is required\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('fspiop-source');",
											"});  ",
											"            ",
											"pm.test(\"Check Error code 31012\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6c90e5f5-9d2f-45c2-bfff-eed6582dadc4",
										"exec": [
											"pm.environment.set('quoteDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{payeefsp}}"
									}
								],
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/07e92ea7-d655-4f88-925c-4aeefcee80f6",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"07e92ea7-d655-4f88-925c-4aeefcee80f6"
									]
								},
								"description": "The HTTP request GET /quotes/<ID> is used to get information regarding an earlier created or requested quote. The <ID> in the URI should contain the quoteId that was used for the creation of the quote."
							},
							"response": []
						},
						{
							"name": "QuotesById - 13c - 400-Missing Date header (BUG)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9043282f-1590-4df2-9542-768d1f3c2060",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});",
											"",
											"pm.test(\"Error message date is required\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date');",
											"}); ",
											"            ",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "64b23224-73cc-4204-8a3c-9967a6d912f6",
										"exec": [
											"pm.environment.set('quoteDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "FSPIOP-Source",
										"type": "text",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"type": "text",
										"value": "{{payeefsp}}"
									}
								],
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes/07e92ea7-d655-4f88-925c-4aeefcee80f6",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes",
										"07e92ea7-d655-4f88-925c-4aeefcee80f6"
									]
								},
								"description": "The HTTP request GET /quotes/<ID> is used to get information regarding an earlier created or requested quote. The <ID> in the URI should contain the quoteId that was used for the creation of the quote."
							},
							"response": []
						},
						{
							"name": "Send Quote_SEND - 14 - Incorrect Switch Version Header",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "18a19c5e-4466-49c9-a476-e03620fa39a4",
										"exec": [
											"var navigator = {}; ",
											"var window = {}; ",
											"eval(pm.environment.get('jrsassign'));",
											"",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"pm.environment.set('quoteId', generatedUUID);",
											"generatedUUID = uuid.v4();",
											"pm.environment.set('transactionId', generatedUUID);",
											"",
											"pm.variables.set('quoteDate', (new Date()).toUTCString());",
											"pm.variables.set('payerName', 'PayerFirst PayerLast');",
											"pm.variables.set('payerMSISDN', '918381008987');",
											"",
											"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
											"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
											"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
											"",
											"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
											"var sHeader = JSON.stringify(oHeader);",
											"console.log(`sHeader: ${sHeader}`)",
											"",
											"var objPayload = {",
											"  \"quoteId\": pm.environment.get('quoteId'),",
											"  \"transactionId\": pm.environment.get('transactionId'),",
											"  \"payer\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
											"      \"fspId\": \"payerfsp\"",
											"    },",
											"    \"personalInfo\": {",
											"      \"complexName\": {",
											"        \"firstName\": \"Mats\",",
											"        \"lastName\": \"Hagman\"",
											"      },",
											"      \"dateOfBirth\": \"1983-10-25\"",
											"    }",
											"  },",
											"  \"payee\": {",
											"    \"partyIdInfo\": {",
											"      \"partyIdType\": \"MSISDN\",",
											"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
											"      \"fspId\": \"payeefsp\"",
											"    }",
											"  },",
											"  \"amountType\": \"SEND\",",
											"  \"amount\": {",
											"    \"amount\": \"60\",",
											"    \"currency\": pm.environment.get('currency')",
											"  },",
											"  \"transactionType\": {",
											"    \"scenario\": \"TRANSFER\",",
											"    \"initiator\": \"PAYER\",",
											"    \"initiatorType\": \"CONSUMER\"",
											"  },",
											"  \"note\": \"hej\"",
											"}",
											"",
											"var sPayload = JSON.stringify(objPayload)",
											"console.log(`sPayload: ${sPayload}`)",
											"pm.variables.set(\"quoteRequest\", sPayload);",
											"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
											"console.log(`token: ${token}`)",
											"",
											"// var encodedHeaders = btoa(sHeader)",
											"",
											"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
											"// var token = JSON.stringify(ofspiopSignature)",
											"",
											"const [ protectedHeaderBase64, , signature ] = token.split('.');",
											"",
											"const signatureObject = {",
											"    signature: signature.replace('\"', ''),",
											"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
											"};",
											"",
											"console.log(JSON.stringify(signatureObject))",
											"",
											"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
											"",
											"",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "7dc0876c-bdac-4f67-82d0-0b564ea3ab0e",
										"exec": [
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"            ",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});            ",
											"            ",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{TESTFSP1_BEARER_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.quotes+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.quotes+json;version=9.0"
									},
									{
										"key": "Date",
										"value": "{{quoteDate}}"
									},
									{
										"key": "FSPIOP-Source",
										"value": "{{payerfsp}}"
									},
									{
										"key": "FSPIOP-Destination",
										"value": "{{payeefsp}}"
									},
									{
										"key": "FSPIOP-Signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{quoteRequest}}"
								},
								"url": {
									"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
									"host": [
										"{{HOST_QUOTING_SERVICE}}"
									],
									"path": [
										"quotes"
									]
								},
								"description": "Check POST/Quote  with incorrect switch version header\n\nExpectation : 400 with error code 3001"
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check Settlements Error #956",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4f0f5aad-6b0d-47e4-9a33-b03fae70cce6",
								"exec": [
									"const jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Check Malformed syntax in settlements\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
									"});",
									"",
									"pm.test(\"Check Error code 3101\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}/settlementWindows?participantId=0&state=open",
							"host": [
								"{{HOST_CENTRAL_SETTLEMENT}}{{BASE_CENTRAL_SETTLEMENT}}"
							],
							"path": [
								"settlementWindows"
							],
							"query": [
								{
									"key": "participantId",
									"value": "0"
								},
								{
									"key": "state",
									"value": "open",
									"description": "Available values : OPEN, CLOSED, PENDING_SETTLEMENT, SETTLED, NOT_SETTLED"
								},
								{
									"key": "fromDateTime",
									"value": "",
									"disabled": true
								},
								{
									"key": "toDateTime",
									"value": "",
									"disabled": true
								}
							]
						},
						"description": "State, OPEN is case sensitive.\nTocheck invalid request I have provided state = \"open\""
					},
					"response": []
				},
				{
					"name": "Check FSPIOP Headers from Switch #883",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "87842195-a60e-403e-9e49-59d57c4b05fa",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"",
									"setTimeout(function () {",
									"  partyId = pm.variables.get(\"InexistentPartyId\");",
									"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"InexistentPartyId\"), function (err, response) {",
									"      responseBody = response.json();",
									"      pm.test(\"Expect simulator to return response\", () => {",
									"          pm.expect(response.responseSize).to.be.above(0);",
									"      })",
									"      pm.test(`Expect FSPIO-URI header to be /parties/MSISDN/${partyId}/error`, function () {",
									"          pm.expect(responseBody.headers).to.have.property(\"fspiop-uri\");",
									"          pm.expect(responseBody.headers[\"fspiop-uri\"]).to.equal(`/parties/MSISDN/${partyId}/error`);",
									"        });",
									"        pm.test(\"Expected FSPIO-HTTP-Method header to be PUT\", function () {",
									"            pm.expect(responseBody.headers).to.have.property(\"fspiop-http-method\");",
									"            pm.expect(responseBody.headers[\"fspiop-http-method\"]).to.equal(\"PUT\");",
									"        });",
									"        pm.test(\"Expected error code is 3204\", function () {",
									"            pm.expect(responseBody.data.errorInformation.errorCode).to.equal(\"3204\");",
									"        });",
									"        pm.test(\"Expected error description - party not Found\", function () {",
									"            pm.expect(responseBody.data.errorInformation.errorDescription).to.equal(\"Party not found\");",
									"        });",
									"    });",
									"}, 2000)",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "e5b8a91d-740f-49c6-892f-014f492b46ea",
								"exec": [
									"pm.environment.set('dateHeader', (new Date()).toUTCString());",
									"pm.variables.set('InexistentPartyId', 1999999)",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/vnd.interoperability.parties+json;version=1.0"
							},
							{
								"key": "Date",
								"type": "text",
								"value": "{{dateHeader}}"
							},
							{
								"key": "FSPIOP-Source",
								"type": "text",
								"value": "{{payerfsp}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/vnd.interoperability.parties+json;version=1.0"
							}
						],
						"url": {
							"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/parties/MSISDN/{{InexistentPartyId}}",
							"host": [
								"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
							],
							"path": [
								"parties",
								"MSISDN",
								"{{InexistentPartyId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check FSPIOP Headers from ML-API-Adapter #1032",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9b0f1311-3468-4c9b-9168-3eebacbe1190",
								"exec": [
									"pm.test(\"Status code is 202\", () => {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"//Check the callback response that Switch forwards to payerfsp",
									"setTimeout(function () {",
									"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
									"          if(response.responseSize !== 0) {",
									"            //Checking headers",
									"            var headers = response.json().headers;",
									"            pm.test(\"payerfsp fspiop-source is switch \", function () {",
									"                pm.expect(headers['fspiop-source']).to.eql('switch');",
									"            });",
									"            ",
									"            pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
									"                pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
									"            });",
									"            ",
									"            pm.test(\"payerfsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
									"                pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
									"            });",
									"            ",
									"            pm.test(\"payerfsp accept is empty\", function () {",
									"                pm.expect(headers['accept']).to.eql(undefined);",
									"            });",
									"            ",
									"            pm.test(\"payerfsp fspiop-signature is not empty\", function () {",
									"                    pm.expect(headers['fspiop-signature']).not.eql(undefined);",
									"                });",
									"            ",
									"            ",
									"            pm.test(\"payerfsp fspiop-uri includes /transfers/{{transfer_ID}}\", function () {",
									"                console.log(headers['fspiop-uri'])",
									"                pm.expect(headers['fspiop-uri']).to.eql('/transfers/'+ pm.environment.get(\"transfer_ID\")+'/error');",
									"            });",
									"            ",
									"            pm.test(\"payerfsp fspiop-http-method is PUT\", function () {",
									"                pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"            });",
									"            ",
									"            var jsonData = response.json().data;",
									"",
									"            pm.test(\"Response data does not have transferId\", function () {",
									"               pm.expect(jsonData.transferId).to.eql(undefined);",
									"            });",
									"",
									"            pm.test(\"Error code is 3100\", function () {",
									"                pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
									"            });",
									"          } else {",
									"              pm.test(\"Transfer FAILED\", function () {",
									"                throw new Error('Did not receive response on payer side');",
									"              });",
									"              // postman.setNextRequest(null)",
									"          }",
									"   });",
									"}, 1300)",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "3f815aa7-30a0-499e-bf64-3ccdf9e5e9d5",
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('transfer_ID', generatedUUID);",
									"pm.variables.set('transferDate', (new Date()).toUTCString());",
									"pm.environment.set(\"transferExpiration\",new Date(new Date().getTime() + 200))",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/transfers\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('transferDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"transferId\": pm.environment.get('transfer_ID'),",
									"  \"payerFsp\": \"payerfsp\",",
									"  \"payeeFsp\": \"payeefspNOTFOUND\",",
									"  \"amount\": {",
									"    \"amount\": \"10\",",
									"    \"currency\": pm.environment.get('currency')",
									"  },",
									"  \"expiration\": pm.environment.get('transferExpiration'),",
									"  \"ilpPacket\": pm.environment.get('ilpPacket'),",
									"  \"condition\": pm.environment.get('condition')",
									"}",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"transferRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"//console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.transfers+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.transfers+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{transferDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "{{payerfsp}}"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefspNOTFOUND"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							},
							{
								"key": "FSPIOP-URI",
								"type": "text",
								"value": "/transfers"
							},
							{
								"key": "FSPIOP-HTTP-Method",
								"type": "text",
								"value": "POST"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{transferRequest}}"
						},
						"url": {
							"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
							"host": [
								"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
							],
							"path": [
								"transfers"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d63c348a-5532-4b2c-a04b-48593e9255a4",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "9d314dbd-823e-48e5-bc67-998ad012a57c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "transaction-request-service",
			"item": [
				{
					"name": "health",
					"item": [
						{
							"name": "health",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a9f8bff0-e26a-4fc2-981e-296bd8ed664f",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "d2d4083e-b29f-47e9-af3e-24446e356e7f",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.interoperability.health+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.health+json;version=1.0"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{transactionRequestDate}}"
									},
									{
										"key": "fspiop-source",
										"type": "text",
										"value": "{{payerfsp}}"
									},
									{
										"key": "fspiop-destination",
										"type": "text",
										"value": "{{payeefsp}}"
									},
									{
										"key": "fspiop-signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									},
									{
										"key": "fspiop-uri",
										"type": "text",
										"value": "/health"
									},
									{
										"key": "fspiop-http-method",
										"type": "text",
										"value": "GET"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/health",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"health"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "03ce95d3-c15f-480e-897f-e077dd1b91f4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "618aadb3-19fe-41b3-a5a4-7240cdd5543a",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "received State(BUG)",
					"item": [
						{
							"name": "Payee initiate request",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3249dc4c-9611-4134-840d-42b479e7099e",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"PAYERFSP_CALLBACK_URL\")+\"/requests/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"transactionRequestState is RECEIVED\", function () {",
											"//                 pm.expect(data['transactionRequestState']).to.eql('RECEIVED');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "458dcddb-99f5-4d58-9da7-ed93d1550b9a",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);",
											"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"CUSTOM_SUBSCENARIO\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n     \"expiration\": \"{{transferExpiration}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "send RECEIVED state",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d099ecb3-8fb5-44e8-b35e-4237985715d0",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "1c524f72-5177-40e0-b391-0e1f86e3d3a2",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"PAYERFSP_CALLBACK_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/transactionRequests/{{transactionRequestId}}",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "PUT",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionId\": \"{{transactionRequestId}}\",\n    \"transactionRequestState\": \"RECEIVED\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check transactionRequest state",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "212876b9-e257-4f05-9f10-8c4b829e4a36",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"PAYERFSP_CALLBACK_URL\")+\"/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             console.log(data);",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"transactionRequestState is RECEIVED\", function () {",
											"//                 pm.expect(data['transactionRequestState']).to.eql('RECEIVED');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fdcf0171-918a-466f-9780-e2df2d98f95c",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/transactionRequests",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "GET",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "reject State(BUG)",
					"item": [
						{
							"name": "Payee initiate request",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d98c8219-cccc-4f93-9c7c-2c9cc9b8725b",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/transactionRequests/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"transactionRequestState is RECEIVED\", function () {",
											"//                 pm.expect(data['transactionRequestState']).to.eql('RECEIVED');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e9e91a44-c5d9-469d-9575-a8a8da898325",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);",
											"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"CUSTOM_SUBSCENARIO\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n     \"expiration\": \"{{transferExpiration}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check transactionRequest state",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3820ed63-13bf-4d2e-a2b6-168ed299e477",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/transactionRequests/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             console.log(data);",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"transactionRequestState is RECEIVED\", function () {",
											"//                 pm.expect(data['transactionRequestState']).to.eql('RECEIVED');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e40f796b-56bc-43f3-836a-300b7dfafce0",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/transactionRequests",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "GET",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Send REJECT state",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "bcafca3b-c617-421a-af5d-9536378b02aa",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b5f8146c-3434-4e87-a058-566d5a0f0976",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"HOST_SIMULATOR\")+\"/transactionRequests/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(pm.environment.get(\"transactionRequestId\"));",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"transactionRequestState is REJECTED\", function () {",
											"//                 pm.expect(data['transactionRequestState']).to.eql('REJECTED');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{transactionRequestDate}}"
									},
									{
										"key": "fspiop-source",
										"type": "text",
										"value": "{{payerfsp}}"
									},
									{
										"key": "fspiop-destination",
										"type": "text",
										"value": "{{payeefsp}}"
									},
									{
										"key": "fspiop-signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									},
									{
										"key": "fspiop-uri",
										"type": "text",
										"value": "/transactionRequests/{{transactionRequestId}}"
									},
									{
										"key": "fspiop-http-method",
										"type": "text",
										"value": "PUT"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionId\": \"{{transactionRequestId}}\",\n    \"transactionRequestState\": \"REJECTED\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f18a0e35-cdf6-4867-98e4-25e7a76612a2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "ea38f748-9e70-49c7-9516-9e244badd3f8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "error framework",
					"item": [
						{
							"name": "Check unknown transactionID - error code and description",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cf71162e-d518-40ee-96ee-6e218c91983d",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"// setTimeout(function () {",
											"//   pm.sendRequest(pm.environment.get(\"PAYEERSP_SDK_INBOUND_URL\")+\"/transactionRequests/callbacks/\"+pm.environment.get(\"transactionRequestId\"), function (err, response) {",
											"//       if(response.responseSize !== 0) {",
											"//             const responseJson = response.json()",
											"//             const headers = responseJson.headers",
											"//             const data = responseJson.data",
											"            ",
											"//             console.log(data);",
											"            ",
											"//             pm.test(\"Callback received in the Simulator\", function () {",
											"//                 pm.expect(data).not.equal(undefined);",
											"//             });",
											"            ",
											"//             pm.test(\"transactionId matches\", function () {",
											"//                 pm.expect(data['transactionId']).to.eql(undefined);",
											"//             });",
											"                ",
											"//             pm.test(\"fspiop-source is payerfsp\", function () {",
											"//                 pm.expect(headers['fspiop-source']).to.eql('payerfsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-destination is payeefsp\", function () {",
											"//                 pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
											"//             });",
											"            ",
											"//             pm.test(\"fspiop-http-method is PUT\", function () {",
											"//                 pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
											"//             });",
											"            ",
											"//             pm.test(\"content-type is same as sent in the request\", function () {",
											"//                 pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transactionRequests+json;version=1.0');",
											"//             });",
											"            ",
											"//             pm.test(\"Check ID missing\", function () {",
											"//                 pm.expect(data.errorInformation.errorDescription).to.include('Transaction request ID not found ');",
											"//             });",
											"",
											"//             pm.test(\"Check Error code 3003\", function () {",
											"//                 pm.expect(data.errorInformation.errorCode).to.eql('3206');",
											"//             });",
											"            ",
											"//       } else {",
											"//           pm.test(\"Transaction Request FAILED\", function () {",
											"//             throw new Error('Did not receive response');",
											"//           });",
											"//       }",
											"       ",
											"//   });",
											"// }, 2000)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "02186195-1543-4e77-9e84-b98804cae420",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0"
									},
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0"
									},
									{
										"key": "Date",
										"type": "text",
										"value": "{{transactionRequestDate}}"
									},
									{
										"key": "fspiop-source",
										"type": "text",
										"value": "{{payeefsp}}"
									},
									{
										"key": "fspiop-destination",
										"type": "text",
										"value": "{{payerfsp}}"
									},
									{
										"key": "fspiop-signature",
										"type": "text",
										"value": "{{fspiop-signature}}"
									},
									{
										"key": "fspiop-uri",
										"type": "text",
										"value": "/transactionRequests"
									},
									{
										"key": "fspiop-http-method",
										"type": "text",
										"value": "GET"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "",
											"value": "",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "3100 - Missing body",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b335582d-62fd-4459-96f7-ad07758bdc64",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax error \", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax ');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "717eb5f4-f6e9-49e3-82d1-95583363be33",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Missing Date ",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b697c1c4-9a64-45b5-bd22-4cb7860e55cc",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});",
											"",
											"pm.test(\"Error message date is required\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date');",
											"});",
											"",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "98b3a44a-b833-445f-9362-99826a7e7078",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"locally defined sub-scenario\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n    \"expiration\": \"2016-05-24T08:38:08.699-04:00\",\n    \"extensionList\": {\n        \"extension\": [\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            },\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Missing fspiop-source",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2e047f96-ef30-4da2-ae20-818d7ea03f61",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Missing mandatory element error\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
											"});",
											"",
											"pm.test(\"Error message fspiop-source is required\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('fspiop-source');",
											"});",
											"",
											"pm.test(\"Check Error code 3102\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1e5a8d82-09ac-4f5d-9b7f-41c1c89ce26b",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"locally defined sub-scenario\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n    \"expiration\": \"2016-05-24T08:38:08.699-04:00\",\n    \"extensionList\": {\n        \"extension\": [\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            },\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Wrong content version ",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "998d6573-540a-45a5-ab26-1980b4d67740",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 406\", function () {",
											"    pm.response.to.have.status(406);",
											"});",
											"",
											"pm.test(\"Check Unacceptable version requested\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested');",
											"});",
											"",
											"pm.test(\"Check Error code 3001\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8451a81f-9f4f-4e8b-91ec-ecbb8a7298d8",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+json;version=4.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"locally defined sub-scenario\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n    \"expiration\": \"2016-05-24T08:38:08.699-04:00\",\n    \"extensionList\": {\n        \"extension\": [\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            },\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						},
						{
							"name": "Unsupported Media Type",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cfbcbc57-5c9a-471b-aa14-f9a77652927c",
										"exec": [
											"const jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Check Malformed syntax - Unsupported Media Type\", function () {",
											"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax - Unsupported Media Type');",
											"});",
											"",
											"pm.test(\"Check Error code 3101\", function () {",
											"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "df9b9c7a-f086-4a3f-b515-3ccf1d096668",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/vnd.interoperability.transactionRequests+xml;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "Content-Length",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "x-forwarded-for",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-encryption",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "",
										"type": "text",
										"disabled": true
									},
									{
										"key": "fspiop-http-method",
										"value": "POST",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"transactionRequestId\": \"{{transactionRequestId}}\",\n    \"payee\": {\n        \"partyIdInfo\": {\n            \"partyIdType\": \"PERSONAL_ID\",\n            \"partyIdentifier\": \"16135551212\",\n            \"partySubIdOrType\": \"DRIVING_LICENSE\",\n            \"fspId\": \"1234\"\n        },\n        \"merchantClassificationCode\": \"4321\",\n        \"name\": \"Justin Trudeau\",\n        \"personalInfo\": {\n            \"complexName\": {\n                \"firstName\": \"Justin\",\n                \"middleName\": \"Pierre\",\n                \"lastName\": \"Trudeau\"\n            },\n            \"dateOfBirth\": \"1971-12-25\"\n        }\n    },\n    \"payer\": {\n        \"partyIdType\": \"PERSONAL_ID\",\n        \"partyIdentifier\": \"16135551212\",\n        \"partySubIdOrType\": \"DRIVING_LICENSE\",\n        \"fspId\": \"1234\"\n    },\n    \"amount\": {\n        \"currency\": \"USD\",\n        \"amount\": \"123.45\"\n    },\n    \"transactionType\": {\n        \"scenario\": \"DEPOSIT\",\n        \"subScenario\": \"locally defined sub-scenario\",\n        \"initiator\": \"PAYEE\",\n        \"initiatorType\": \"CONSUMER\",\n        \"refundInfo\": {\n            \"originalTransactionId\": \"{{transactionRequestId}}\",\n            \"refundReason\": \"free text indicating reason for the refund\"\n        },\n        \"balanceOfPayments\": \"123\"\n    },\n    \"note\": \"Free-text memo\",\n    \"geoCode\": {\n        \"latitude\": \"+45.4215\",\n        \"longitude\": \"+75.6972\"\n    },\n    \"authenticationType\": \"OTP\",\n    \"expiration\": \"2016-05-24T08:38:08.699-04:00\",\n    \"extensionList\": {\n        \"extension\": [\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            },\n            {\n                \"key\": \"errorDescription\",\n                \"value\": \"This is a more detailed error description\"\n            }\n        ]\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/transactionRequests",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"transactionRequests"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "authorizations",
					"item": [
						{
							"name": "Error framework",
							"item": [
								{
									"name": "Check retriesLeft missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "274ec596-43db-4b6d-b6cc-41288b0f00c4",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element'&&'retriesLeft');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c1de6f11-198b-4987-b615-6a2d621a67f8",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authenticationType missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1dc10357-1a9c-4a72-b429-d08679a3a4b6",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element'&&'authenticationType');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a99a3b5d-d9ed-468e-ac60-b65d66c5d29f",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check currency missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b89cb07b-3d32-44ed-93d4-8b646dd9eccd",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element'&&'currency');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "65b76de0-7d88-422e-bfcf-263acf3fe26c",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check retriesLeft with non-number ",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9b210b03-0c3c-4cbc-888d-abfe6c84a70c",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Malformed syntax \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax '&&'retriesLeft');",
													"});",
													"",
													"pm.test(\"Check Error code 3101\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d7139108-e5a5-4fc0-8f07-65b86b074b35",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=g&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "g"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check retriesLeft with floating number",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f89f2658-6d51-4a4a-aacf-72ff5d9f1a03",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Malformed syntax with floating retriesLeft\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('retriesLeft');",
													"});",
													"",
													"pm.test(\"Check Error code 3101\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "63b6647a-579a-411b-a6a5-9429cf544ff9",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=1.5&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "1.5"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check wrong authentication type",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "32870581-8701-4b6a-b589-456096c296ec",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Generic validation error \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error '&&'authenticationType');",
													"});",
													"",
													"pm.test(\"Check Error code 3100\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "5eda0775-b011-4a9b-8f4a-e8a1d7cba074",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=XTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "XTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check accept header missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6500b5f7-b87c-4f8f-ba8c-00ee02c0efc5",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element - Accept \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Accept is required');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c282e38a-8be2-4f9a-8e6e-aeb21d7bda6b",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept-encoding": true,
											"accept": true
										}
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check date missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1d266756-374d-4828-8310-224cb08b7ddd",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error '&&'date');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "26a21ba5-5cb0-4a4a-b3e8-9cd98080bec5",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}",
												"disabled": true
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check fspiop-source missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "691bfce9-40c4-41a1-8732-b39bcd339cd4",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Generic validation error '&&'fspiop-source');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "96629a96-5453-4a33-a1d2-02e650f7ea6f",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}",
												"disabled": true
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check ID missingv-Unknown URI",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9ad9e72f-b358-4fc8-8503-b2a76b4bfcec",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													"",
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Check Unknown URI \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unknown URI');",
													"});",
													"",
													"pm.test(\"Check Error code 3002\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3002');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9f1e4ea4-5d83-4ef0-899f-75e6bf362e47",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "GET",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check content-type missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ed3a5a1b-8503-48b7-be2d-eb53e2150ff7",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization -Missing mandatory element-  Content-type \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Content-type');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a744b471-05bc-4bb4-9a50-c4f0c2e27f01",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.transactionRequests+json;version=3.0",
												"disabled": true
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Authorizations  - Unacceptable content version",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9775a09f-e984-4934-aea9-945df3951fd0",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 406\", function () {",
													"    pm.response.to.have.status(406);",
													"});",
													"",
													"pm.test(\"Check authorization - Unacceptable version requested  \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Unacceptable version requested ');",
													"});",
													"",
													"pm.test(\"Check authorization - Unacceptable version requested  - Error code 3001\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3001');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9915957a-dc7a-4e8f-b01f-115c5be3293a",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=4.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "GET"
											}
										],
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											],
											"query": [
												{
													"key": "authenticationType",
													"value": "OTP"
												},
												{
													"key": "retriesLeft",
													"value": "2"
												},
												{
													"key": "amount",
													"value": "102"
												},
												{
													"key": "currency",
													"value": "USD"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Authorizatons - wrong responseType",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "512a3ea1-2073-44f5-abea-0356518d11fb",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "679b896f-0956-426c-b769-dd1520fa4664",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"WHAT\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authentication missing - 400 - 3102 Error code",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "93e83fc9-2898-4e28-81ad-fa43ba1b5eea",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element - authentication \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('authentication');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "29c99ff0-e24a-4879-b217-a3f1864dbbaa",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authenticationValue missing - 400 - 3102 Error code",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9d0fadad-6381-4292-a463-0c397c4d15fd",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element - authenticationValue \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('authenticationValue');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d8807617-1cd0-444c-89c2-5785a984030f",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payerfsp}}"
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}"
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests"
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "PUT"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\"\n  },\n  \"responseType\": \"REJECTED\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check responseType missing - 400 - 3102 Error code",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "197e9436-cc85-487a-907b-86e066939289",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check Missing mandatory element  - responseType \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('responseType');",
													"});",
													"",
													"pm.test(\"Check Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ac68af04-fda8-44f3-b870-6375edc246da",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text"
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text"
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  }\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with content-type header missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "668e9aae-277e-449f-884f-073141ef082e",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization -Missing mandatory element-  Content-type \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Content-type');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a0f95e9a-a212-45dc-8037-581bc94291cf",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-length": true,
											"content-type": true
										}
									},
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
												"type": "text",
												"disabled": true
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with date header missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "027a8d01-db1c-42f2-a5fa-cf514fd42e74",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - date is required \", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date'&&'Missing mandatory element');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "63e8419b-2b25-4547-9967-a118858a05d0",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text"
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with fspiop header missing ",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0a1508b2-e677-4717-bc76-381f1526cd77",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - fspiop-source missing\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('fspiop-source');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "356e3752-df9c-4406-8a69-9ce8d5590c53",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0",
												"type": "text"
											},
											{
												"key": "Date",
												"value": "{{transactionRequestDate}}",
												"type": "text"
											},
											{
												"key": "fspiop-source",
												"value": "{{payeefsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-destination",
												"value": "{{payerfsp}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-signature",
												"value": "{{fspiop-signature}}",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"value": "/transactionRequests",
												"type": "text",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"value": "PUT",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Check authorization with accept header missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2300de8d-942d-4504-a20e-b0abaa5fa8e3",
												"exec": [
													"const jsonData = pm.response.json();",
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - accept header missing\", function () {",
													"    pm.expect(jsonData.errorInformation.errorDescription).to.include('accept' && '');",
													"});",
													"",
													"pm.test(\"Check authorization - Missing mandatory element - Error code 3102\", function () {",
													"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "bfb36318-15df-425d-a3e0-d833b6c3b0d4",
												"exec": [
													"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
													"",
													"var uuid = require('uuid');",
													"var generatedUUID = uuid.v4();",
													"",
													"pm.environment.set('transactionRequestId', generatedUUID);"
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true,
											"accept-encoding": true
										}
									},
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Accept",
												"type": "text",
												"value": "application/vnd.interoperability.transactionRequests+json;version=1.0",
												"disabled": true
											},
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/vnd.interoperability.authorizations+json;version=1.0"
											},
											{
												"key": "Date",
												"type": "text",
												"value": "{{transactionRequestDate}}"
											},
											{
												"key": "fspiop-source",
												"type": "text",
												"value": "{{payeefsp}}"
											},
											{
												"key": "fspiop-destination",
												"type": "text",
												"value": "{{payerfsp}}",
												"disabled": true
											},
											{
												"key": "fspiop-signature",
												"type": "text",
												"value": "{{fspiop-signature}}",
												"disabled": true
											},
											{
												"key": "fspiop-uri",
												"type": "text",
												"value": "/transactionRequests",
												"disabled": true
											},
											{
												"key": "fspiop-http-method",
												"type": "text",
												"value": "PUT",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}",
											"options": {
												"raw": {}
											}
										},
										"url": {
											"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
											"host": [
												"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
											],
											"path": [
												"authorizations",
												"{{transactionRequestId}}"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f908e27b-f7f0-4015-9b5b-ee334256c377",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "c54331f6-a3c7-4d84-8dba-0d89b5c6c156",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "authorizations",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "75e824c2-b744-409a-8770-30b69a9cd765",
										"exec": [
											"pm.test(\"Status code is 202\", function () {",
											"    pm.response.to.have.status(202);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c1d9ed29-b292-4c74-b973-17045409334c",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/authorizations",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "GET",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}?authenticationType=OTP&retriesLeft=2&amount=102&currency=USD",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"authorizations",
										"{{transactionRequestId}}"
									],
									"query": [
										{
											"key": "authenticationType",
											"value": "OTP"
										},
										{
											"key": "retriesLeft",
											"value": "2"
										},
										{
											"key": "amount",
											"value": "102"
										},
										{
											"key": "currency",
											"value": "USD"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "authorizations",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2ec678ff-1d08-45f1-973c-17f92fff0969",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "324777e5-186b-490b-ad59-771bcd73453a",
										"exec": [
											"pm.environment.set('transactionRequestDate', (new Date()).toUTCString());",
											"",
											"var uuid = require('uuid');",
											"var generatedUUID = uuid.v4();",
											"",
											"pm.environment.set('transactionRequestId', generatedUUID);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/vnd.interoperability.authorizations+json;version=1.0",
										"type": "text"
									},
									{
										"key": "Date",
										"value": "{{transactionRequestDate}}",
										"type": "text"
									},
									{
										"key": "fspiop-source",
										"value": "{{payeefsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-destination",
										"value": "{{payerfsp}}",
										"type": "text"
									},
									{
										"key": "fspiop-signature",
										"value": "{{fspiop-signature}}",
										"type": "text"
									},
									{
										"key": "fspiop-uri",
										"value": "/authorizations",
										"type": "text"
									},
									{
										"key": "fspiop-http-method",
										"value": "PUT",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"authenticationInfo\": {\n    \"authentication\": \"OTP\",\n    \"authenticationValue\": \"234567\"\n  },\n  \"responseType\": \"REJECTED\"\n}"
								},
								"url": {
									"raw": "{{HOST_TRANSACTION_REQUESTS_SERVICE}}/authorizations/{{transactionRequestId}}",
									"host": [
										"{{HOST_TRANSACTION_REQUESTS_SERVICE}}"
									],
									"path": [
										"authorizations",
										"{{transactionRequestId}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "dc29fd75-b5ac-4609-aaba-158c5f6547e3",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "402c4099-d6dc-4ea5-ab14-09e339ff8777",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "quoting_service",
			"item": [
				{
					"name": "Get health status of Quoting Service",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8ff72c53-f567-432c-af7a-2561cd48e1b3",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"//Checking data",
									"var jsonData = pm.response.json();",
									"pm.test(\"Expected Status is OK\", function () {",
									"   pm.expect(jsonData.status).to.eql(\"OK\");",
									"",
									"    pm.test(\"Expected body to have services array\", function () {",
									"       pm.expect(jsonData.services).to.be.an('array');",
									"       ",
									"        pm.test(\"Expected services to have data store and status is OK\", function () {",
									"            const datastoreOK = jsonData.services.find(item => {",
									"               return item.name=='datastore' && item.status=='OK'; ",
									"            });",
									"            pm.expect(datastoreOK).to.be.an('object');",
									"   ",
									"        });",
									"    });",
									"    ",
									"",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/health",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"health"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Send Quote",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8960b97a-3d11-45bb-a96f-c71a7202f657",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"//Check Data on payer side",
									"setTimeout(function () {",
									"  pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
									"      if(response.responseSize !== 0) {",
									"            var jsonData = response.json().data;",
									"            pm.test(\"Check send Quote Amount\", function () {",
									"                pm.expect(+jsonData.transferAmount.amount).equal(pm.environment.get(\"transferAmount\"));",
									"            });",
									"            ",
									"      } else {",
									"          pm.test(\"Quote FAILED\", function () {",
									"            throw new Error('Did not receive response');",
									"          });",
									"      }",
									"       ",
									"  });",
									"}, 1000)",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "3ab2d9fb-035a-478e-bd6f-a8c782d4dbcf",
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
									"      \"fspId\": \"payerfsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": pm.environment.get('transferAmount'),",
									"    \"currency\": pm.environment.get('currency')",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{TESTFSP1_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}"
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Quote(BUG)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4916d2a6-c846-4b14-9b88-a16472349e92",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"// //Check Data on payer side",
									"// setTimeout(function () {",
									"//   pm.sendRequest(pm.environment.get(\"PAYERFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
									"//       if(response.responseSize !== 0) {",
									"//             var jsonData = response.json().data;",
									"//             var headers = response.json().headers;",
									"            ",
									"//             pm.test(\"Send Quote Amount in 4 decimal returned\", function () {",
									"//                 pm.expect(+jsonData.transferAmount.amount).equal(pm.environment.get(\"transferAmount\"));",
									"//             });",
									"            ",
									"//                 //Check the Headers",
									"//                 pm.test(\"payerfsp fspiop-source is payeefsp\", function () {",
									"//                     pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
									"//                 });",
									"                ",
									"//                 pm.test(\"payerfsp fspiop-destination is payerfsp\", function () {",
									"//                     pm.expect(headers['fspiop-destination']).to.eql('payerfsp');",
									"//                 });",
									"                ",
									"//                 pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
									"//                     pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"//                 });",
									"                ",
									"//                 pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
									"//                     pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
									"//                 });",
									"            ",
									"//       } else {",
									"//           pm.test(\"Quote FAILED\", function () {",
									"//             throw new Error('Did not receive response');",
									"//           });",
									"//       }",
									"       ",
									"//   });",
									"// }, 1000)"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b8fa75dd-3e7a-425e-98ad-e6b13095fc3b",
								"exec": [
									"// var uuid = require('uuid');",
									"// var generatedUUID = uuid.v4();",
									"",
									"// pm.environment.set('quoteId', generatedUUID);",
									"// generatedUUID = uuid.v4();",
									"// pm.environment.set('transactionId', generatedUUID);",
									"// pm.environment.set('transferAmount', 60.1234);",
									"// pm.environment.set('quoteDate', (new Date()).toUTCString());",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{TESTFSP1_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes/{{quoteId}}",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes",
								"{{quoteId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Send Quote - Missing Date",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d8981d19-a321-4147-90ec-5d7cd966ca21",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"            ",
									"pm.test(\"Missing mandatory element error\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element ');",
									"});",
									"",
									"pm.test(\"Error message date is required\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('date');",
									"});  ",
									"",
									"pm.test(\"Check Error code 3102\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "0f4e2cab-e669-4b07-a96a-2132487ba9c7",
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
									"      \"fspId\": \"payerfsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": pm.environment.get('transferAmount'),",
									"    \"currency\": pm.environment.get('currency')",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{TESTFSP1_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}",
								"disabled": true
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}"
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Send Quote - Missing Accept Header",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "25a3dd0e-71c0-4f2f-8c1f-84b373c16069",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"var jsonData = pm.response.json();",
									"            ",
									"pm.test(\"Check Missing mandatory element - Invalid accept header\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax - Invalid accept header');",
									"});            ",
									"            ",
									"pm.test(\"Check Error code 3101\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9334eabe-0f6b-4656-bce2-67ef04c977c0",
								"exec": [
									"var navigator = {}; //fake a navigator object for the lib",
									"var window = {}; //fake a window object for the lib",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerfspMSISDN'),",
									"      \"fspId\": \"payerfsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": pm.environment.get('transferAmount'),",
									"    \"currency\": pm.environment.get('currency')",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{TESTFSP1_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}"
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Quote - Missing content type",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9071ddd5-55f6-4807-9361-3c78ea48ce66",
								"exec": [
									"const jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Check Missing mandatory element\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Missing mandatory element');",
									"});",
									"",
									"pm.test(\"Check Error code 3102\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3102');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "da28563a-ce04-40d1-ac89-99539bb4f4b6",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{TESTFSP1_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+json;version=1.0",
								"disabled": true
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes/{{quoteId}}",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes",
								"{{quoteId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Quote - Invalid content type ",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9dcc3a6b-3bf3-45dc-9565-2009ba7d6a28",
								"exec": [
									"const jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Check Malformed syntax\", function () {",
									"    pm.expect(jsonData.errorInformation.errorDescription).to.include('Malformed syntax');",
									"});",
									"",
									"pm.test(\"Check Error code 3101\", function () {",
									"    pm.expect(jsonData.errorInformation.errorCode).to.eql('3101');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "cf4c530a-92f2-4e62-abb4-17c6fa4423d5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{TESTFSP1_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+xml;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payerfsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"type": "text",
								"value": "{{fspiop-signature}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes/{{quoteId}}",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes",
								"{{quoteId}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "b423566f-c860-40d6-a587-bbfa4feb5884",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "6f3d001e-6101-49dd-9edc-23709d9a2f2f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "p2p_on_us_transfers",
			"item": [
				{
					"name": "Add {{payeefspMSISDN}} to payeefsp",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1d97335b-d9bb-4e73-9c37-d3ecd8e2f59a",
								"exec": [
									"pm.environment.set('fullName', 'PayeeFirst PayeeLast');",
									"pm.environment.set('firstName', 'PayeeFirst');",
									"pm.environment.set('middleName', 'PayeeMiddle');",
									"pm.environment.set('lastName', 'PayeeLast');",
									"pm.environment.set('dob', '2010-10-10');",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5fdcffc3-f5dd-4691-b4f2-68ff0f0cae27",
								"exec": [
									"pm.test(\"Successful POST request\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([204, 500]);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"displayName\": \"{{fullName}}\",\n    \"firstName\": \"{{firstName}}\",\n    \"middleName\": \"{{middleName}}\",\n    \"lastName\": \"{{lastName}}\",\n    \"dateOfBirth\": \"{{dob}}\",\n    \"idType\": \"MSISDN\",\n    \"idValue\": \"{{payeefspMSISDN}}\"\n}"
						},
						"url": {
							"raw": "{{PAYEEFSP_BACKEND_TESTAPI_URL}}/repository/parties",
							"host": [
								"{{PAYEEFSP_BACKEND_TESTAPI_URL}}"
							],
							"path": [
								"repository",
								"parties"
							]
						},
						"description": "Create a party in payeefsp. So that GET /parties can be successful."
					},
					"response": []
				},
				{
					"name": "Register Participant {{pathfinderMSISDN}} against MSISDN Simulator for PayeeFSP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.participants+json;version=1.0"
							},
							{
								"key": "Connection",
								"value": "keep-alive"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.participants+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{transferDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payeefsp"
							},
							{
								"key": "Postman-Token",
								"value": "7aa4c9f3-1738-49f0-8904-7821e2336692,4127ff87-7d17-483c-8e3e-f0b562a16d84"
							},
							{
								"key": "User-Agent",
								"value": "PostmanRuntime/7.11.0"
							},
							{
								"key": "accept-encoding",
								"value": "gzip, deflate"
							},
							{
								"key": "cache-control",
								"value": "no-cache"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fspId\": \"payeefsp\",\n    \"currency\": \"USD\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{HOST_ACCOUNT_LOOKUP_SERVICE}}/participants/MSISDN/{{pathfinderMSISDN}}",
							"host": [
								"{{HOST_ACCOUNT_LOOKUP_SERVICE}}"
							],
							"path": [
								"participants",
								"MSISDN",
								"{{pathfinderMSISDN}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Send Quote_SEND",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "df3b2f73-8885-458f-8fc8-efe812944918",
								"exec": [
									"var navigator = {}; ",
									"var window = {}; ",
									"eval(pm.environment.get('jrsassign'));",
									"",
									"",
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"pm.environment.set('quoteId', generatedUUID);",
									"generatedUUID = uuid.v4();",
									"pm.environment.set('transactionId', generatedUUID);",
									"",
									"pm.variables.set('quoteDate', (new Date()).toUTCString());",
									"pm.variables.set('payerName', 'PayerFirst PayerLast');",
									"pm.variables.set('payerMSISDN', '918381008987');",
									"",
									"// pm.variables.set('expectedPayeeFirstName', 'GoldenFirst');",
									"// pm.variables.set('expectedPayeeLastName', 'GoldenLast');",
									"// pm.variables.set('expectedPayeeDOB', '2010-10-10');",
									"",
									"var oHeader = {alg: \"RS256\", \"FSPIOP-Source\":\"payerfsp\",\"FSPIOP-Destination\":\"payeefsp\", \"FSPIOP-URI\":\"/quotes\", \"FSPIOP-HTTP-Method\":\"POST\", \"Date\":pm.variables.get('quoteDate')};",
									"var sHeader = JSON.stringify(oHeader);",
									"// console.log(`sHeader: ${sHeader}`)",
									"",
									"var objPayload = {",
									"  \"quoteId\": pm.environment.get('quoteId'),",
									"  \"transactionId\": pm.environment.get('transactionId'),",
									"  \"payer\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.variables.get('payerMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    },",
									"    \"personalInfo\": {",
									"      \"complexName\": {",
									"        \"firstName\": \"Mats\",",
									"        \"lastName\": \"Hagman\"",
									"      },",
									"      \"dateOfBirth\": \"1983-10-25\"",
									"    }",
									"  },",
									"  \"payee\": {",
									"    \"partyIdInfo\": {",
									"      \"partyIdType\": \"MSISDN\",",
									"      \"partyIdentifier\": pm.environment.get('payeefspMSISDN'),",
									"      \"fspId\": \"payeefsp\"",
									"    }",
									"  },",
									"  \"amountType\": \"SEND\",",
									"  \"amount\": {",
									"    \"amount\": \"{{transferAmount}}\",",
									"    \"currency\": \"{{currency}}\"",
									"  },",
									"  \"transactionType\": {",
									"    \"scenario\": \"TRANSFER\",",
									"    \"initiator\": \"PAYER\",",
									"    \"initiatorType\": \"CONSUMER\"",
									"  },",
									"  \"note\": \"hej\"",
									"}",
									"",
									"var sPayload = JSON.stringify(objPayload)",
									"// console.log(`sPayload: ${sPayload}`)",
									"pm.variables.set(\"quoteRequest\", sPayload);",
									"var token = KJUR.jws.JWS.sign(\"RS256\", sHeader, sPayload, pm.environment.get('payerfspJWSKey'));",
									"// console.log(`token: ${token}`)",
									"",
									"// var encodedHeaders = btoa(sHeader)",
									"",
									"// var ofspiopSignature = {signature: vSignature, protectedHeader: encodedHeaders}",
									"// var token = JSON.stringify(ofspiopSignature)",
									"",
									"const [ protectedHeaderBase64, , signature ] = token.split('.');",
									"",
									"const signatureObject = {",
									"    signature: signature.replace('\"', ''),",
									"    protectedHeader: protectedHeaderBase64.replace('\"', '')",
									"};",
									"",
									"console.log(JSON.stringify(signatureObject))",
									"",
									"pm.variables.set('fspiopSignature',JSON.stringify(signatureObject))",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "52a5ebe8-3af1-4d2c-9c4d-1537bdc2b20d",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"const ON_US_TRANSFERS_ENABLED = pm.environment.get(\"ON_US_TRANSFERS_ENABLED\") && (pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===\"true\" || pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===true || pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===\"1\") ? true : false",
									"",
									"//Check the request that Switch forwards to payeefsp",
									"setTimeout(function () {",
									"  pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.variables.get(\"quoteId\"), function (err, response) {",
									"          if(response.responseSize !== 0) {",
									"              ",
									"              //Check the Headers",
									"              var headers = response.json().headers;",
									"              ",
									"                pm.test(\"payeefsp fspiop-source is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-signature is same as sent in the request\", function () {",
									"                    pm.expect(headers['fspiop-signature']).to.eql(pm.variables.get(\"fspiopSignature\"));",
									"                });",
									"",
									"                console.log(headers['fspiop-signature'])",
									"                console.log(pm.environment.get(\"fspiop-signature\"))",
									"                ",
									"                pm.test(\"payeefsp accept is same as sent in the request\", function () {",
									"                    pm.expect(headers['accept']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
									"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
									"                });",
									"                ",
									"          } else {",
									"              pm.test(\"Quote FAILED\", function () {",
									"                throw new Error('Did not receive request on payee side');",
									"              });",
									"              postman.setNextRequest(null)",
									"          }",
									"   });",
									"}, 1100)",
									"",
									"//Check Data on payer side",
									"if (ON_US_TRANSFERS_ENABLED) {",
									"    setTimeout(function () {",
									"    pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"quoteId\"), function (err, response) {",
									"        if(response.responseSize !== 0) {",
									"            //Checking headers",
									"                var headers = response.json().headers;",
									"                pm.test(\"payeefsp fspiop-source is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp content-type should be application/vnd.interoperability.quotes+json;version=1.0\", function () {",
									"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.quotes+json;version=1.0');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp accept is empty\", function () {",
									"                    pm.expect(headers['accept']).to.eql(undefined);",
									"                });",
									"                ",
									"                //Validate protected header inside Signature",
									"                var {signature,protectedHeader} = JSON.parse(headers['fspiop-signature'])",
									"                var decodedProtectedHeaders = JSON.parse(atob(protectedHeader))",
									"                console.log('decodedProtectedHeaders:',decodedProtectedHeaders)",
									"                ",
									"                pm.test(\"FSPIOP-Signature Protected Header alg to be RS256\", function () {",
									"                    pm.expect(decodedProtectedHeaders['alg']).to.eql('RS256');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-URI']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
									"                });",
									"                ",
									"",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-HTTP-Method to be PUT\", function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-HTTP-Method']).to.eql('PUT');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Source to be mojaloop-sdk\", function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-Source']).to.eql('payeefsp');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header FSPIOP-Destination to be payeefsp\", function () {",
									"                    pm.expect(decodedProtectedHeaders['FSPIOP-Destination']).to.eql('payeefsp');",
									"                });",
									"                pm.test(\"FSPIOP-Signature Protected Header Date is present\", function () {",
									"                    pm.expect(decodedProtectedHeaders['Date']).to.not.eql(undefined);",
									"                });",
									"            ",
									"                pm.test(\"payeefsp FSPIOP-URI to be /quotes/\"+pm.environment.get(\"quoteId\"), function () {",
									"                    pm.expect(headers['fspiop-uri']).to.eql('/quotes/'+pm.environment.get(\"quoteId\"));",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
									"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"                });",
									"                ",
									"                var jsonData = response.json().data;",
									"                ",
									"                pm.test(\"Response fees is returned\", function () {",
									"                    pm.expect(jsonData.payeeFspFee.amount).equal(\"3\");",
									"                    ",
									"                });",
									"                pm.test(\"Response Commission is returned\", function () {",
									"                    pm.expect(jsonData.payeeFspCommission.amount).equal(\"3\");",
									"                    ",
									"                });",
									"                ",
									"                pm.test(\"Response ilpPacket is not undefined\", function () {",
									"                    pm.expect(jsonData.ilpPacket).not.equal(undefined);",
									"                    pm.environment.set(\"ilpPacket\", jsonData.ilpPacket);",
									"                });",
									"        ",
									"                pm.test(\"Response condition is not undefined\", function () {",
									"                    pm.expect(jsonData.condition).not.equal(undefined);",
									"                    pm.environment.set(\"condition\", jsonData.condition);",
									"            });",
									"        } else {",
									"            pm.test(\"Quote FAILED\", function () {",
									"                throw new Error('Did not receive response');",
									"            });",
									"",
									"        }",
									"        ",
									"    });",
									"    }, 1000)",
									"}",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{TESTFSP1_BEARER_TOKEN}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.quotes+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{quoteDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "payeefsp"
							},
							{
								"key": "FSPIOP-Signature",
								"value": "{{fspiopSignature}}",
								"type": "text"
							},
							{
								"key": "FSPIOP-HTTP-Method",
								"value": "POST",
								"type": "text"
							},
							{
								"key": "FSPIOP-URI",
								"value": "/quotes",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{quoteRequest}}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{HOST_QUOTING_SERVICE}}/quotes",
							"host": [
								"{{HOST_QUOTING_SERVICE}}"
							],
							"path": [
								"quotes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Send Transfer",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "555784cc-20dd-4235-a387-64017301e9a5",
								"exec": [
									"pm.test(\"Status code is 202\", function () {",
									"    pm.response.to.have.status(202);",
									"});",
									"",
									"const ON_US_TRANSFERS_ENABLED = pm.environment.get(\"ON_US_TRANSFERS_ENABLED\") && (pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===\"true\" || pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===true || pm.environment.get(\"ON_US_TRANSFERS_ENABLED\")===\"1\") ? true : false",
									"",
									"if (ON_US_TRANSFERS_ENABLED) {",
									"    //Check the request that Switch forwards to payeefsp",
									"    setTimeout(function () {",
									"    pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/requests/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
									"            if(response.responseSize !== 0) {",
									"                ",
									"                //Check the Headers",
									"                var headers = response.json().headers;",
									"                ",
									"                    pm.test(\"payeefsp fspiop-source is payeefsp\", function () {",
									"                        pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
									"                    });",
									"                    ",
									"                    pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
									"                        pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
									"                    });",
									"                    ",
									"                    pm.test(\"payeefsp content-typeis same as sent in the request\", function () {",
									"                        pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
									"                    });",
									"                    ",
									"                    pm.test(\"payeefsp accept is same as sent in the request\", function () {",
									"                        pm.expect(headers['accept']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
									"                    });",
									"                    ",
									"                    pm.test(\"payeefsp fspiop-http-method is POST\", function () {",
									"                        pm.expect(headers['fspiop-http-method']).to.eql('POST');",
									"                    });",
									"                    ",
									"                    pm.test(\"payeefsp fspiop-uri is /transfers\", function () {",
									"                        pm.expect(headers['fspiop-uri']).to.eql('/transfers');",
									"                    });",
									"                    ",
									"                    ",
									"                    //Check the data",
									"                    var jsonData = response.json().data;",
									"                    pm.test(\"payeefsp data should have the same transferId as request\", function () {",
									"                    pm.expect(jsonData.transferId).to.eql(pm.environment.get(\"transfer_ID\"));",
									"                    });",
									"                    pm.test(\"payerfsp data should have the same payeefspId as request\", function () {",
									"                    pm.expect(jsonData.payerFsp).to.eql(pm.environment.get(\"payeefsp\"));",
									"                    });",
									"                    pm.test(\"payeefsp data should have the same payeefspId as request\", function () {",
									"                    pm.expect(jsonData.payeeFsp).to.eql(pm.environment.get(\"payeefsp\"));",
									"                    });",
									"                    pm.test(\"payeefsp data should have the same amount as request\", function () {",
									"                    pm.expect(+jsonData.amount.amount).to.eql(pm.environment.get(\"transferAmount\"));",
									"                    });",
									"                    pm.test(\"payeefsp data should have the same currency as request\", function () {",
									"                    pm.expect(jsonData.amount.currency).to.eql(pm.environment.get(\"currency\"));",
									"                    });",
									"                    pm.test(\"payeefsp data should have the same expiration as request\", function () {",
									"                    pm.expect(jsonData.expiration).to.eql(pm.environment.get(\"transferExpiration\"));",
									"                    });",
									"                    pm.test(\"payeefsp data should have the same ilpPacket as request\", function () {",
									"                    pm.expect(jsonData.ilpPacket).to.eql(pm.environment.get(\"ilpPacket\"));",
									"                    });",
									"                    pm.test(\"payeefsp data should have the same condition as request\", function () {",
									"                    pm.expect(jsonData.condition).to.eql(pm.environment.get(\"condition\"));",
									"                    });",
									"                    ",
									"            } else {",
									"                pm.test(\"Transfer FAILED\", function () {",
									"                    throw new Error('Did not receive response');",
									"                });",
									"",
									"            }",
									"    });",
									"    }, 1100)",
									"",
									"    //Check the callback response that Switch forwards to payeefsp",
									"    setTimeout(function () {",
									"    pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
									"            if(response.responseSize !== 0) {",
									"                //Checking headers",
									"                var headers = response.json().headers;",
									"                pm.test(\"payeefsp fspiop-source is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-source']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
									"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp accept is empty\", function () {",
									"                    pm.expect(headers['accept']).to.eql(undefined);",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-uri includes transfers\", function () {",
									"                    pm.expect(headers['fspiop-uri']).to.include('/transfers');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
									"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"                });",
									"                ",
									"                var jsonData = response.json().data;",
									"                pm.test(\"Response data does not have transferId\", function () {",
									"                pm.expect(jsonData.transferId).to.eql(undefined);",
									"                });",
									"                pm.test(\"Response status is COMMITTED\", function () {",
									"                    pm.expect(jsonData.transferState).to.eql('COMMITTED');",
									"                });",
									"            } else {",
									"                pm.test(\"Transfer FAILED\", function () {",
									"                    throw new Error('Did not receive response');",
									"                });",
									"",
									"            }",
									"    });",
									"    }, 1300)",
									"} else {",
									"    //Check the error callback response that Switch forwards to payeefsp",
									"    setTimeout(function () {",
									"    pm.sendRequest(pm.environment.get(\"PAYEEFSP_SDK_TESTAPI_URL\")+\"/callbacks/\"+pm.environment.get(\"transfer_ID\"), function (err, response) {",
									"            if(response.responseSize !== 0) {",
									"                //Checking headers",
									"                var headers = response.json().headers;",
									"                pm.test(\"payeefsp fspiop-source is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-source']).to.eql('switch');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-destination is payeefsp\", function () {",
									"                    pm.expect(headers['fspiop-destination']).to.eql('payeefsp');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp content-type should be application/vnd.interoperability.transfers+json;version=1.0\", function () {",
									"                    pm.expect(headers['content-type']).to.eql('application/vnd.interoperability.transfers+json;version=1.0');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp accept is empty\", function () {",
									"                    pm.expect(headers['accept']).to.eql(undefined);",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-uri includes transfers\", function () {",
									"                    pm.expect(headers['fspiop-uri']).to.include('/transfers');",
									"                });",
									"                ",
									"                pm.test(\"payeefsp fspiop-http-method is PUT\", function () {",
									"                    pm.expect(headers['fspiop-http-method']).to.eql('PUT');",
									"                });",
									"                ",
									"                var jsonData = response.json().data;",
									"                pm.test(\"Error response data should have errorInformation\", function () {",
									"                    pm.expect(jsonData).to.have.property(\"errorInformation\");",
									"                    pm.test(\"Error code should be 3100\", function () {",
									"                        pm.expect(jsonData.errorInformation.errorCode).to.eql('3100');",
									"                    });",
									"                    pm.test(\"Error description should contain proper reason\", function () {",
									"                        pm.expect(jsonData.errorInformation.errorDescription).to.include('Payer FSP and Payee FSP should be different');",
									"                    });",
									"                });",
									"            } else {",
									"                pm.test(\"Transfer FAILED\", function () {",
									"                    throw new Error('Did not receive response');",
									"                });",
									"",
									"            }",
									"    });",
									"    }, 1300)",
									"}",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "736315da-8073-42b4-9f94-7899785788d9",
								"exec": [
									"var uuid = require('uuid');",
									"var generatedUUID = uuid.v4();",
									"",
									"pm.environment.set('transfer_ID', pm.environment.get(\"transactionId\"));",
									"pm.environment.set('transferDate', (new Date()).toUTCString());",
									"pm.environment.set('transferExpiration', new Date(new Date().getTime() + 600000));",
									"pm.environment.set('transferAmount', 60.1234);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/vnd.interoperability.transfers+json;version=1.0"
							},
							{
								"key": "Content-Type",
								"value": "application/vnd.interoperability.transfers+json;version=1.0"
							},
							{
								"key": "Date",
								"value": "{{transferDate}}"
							},
							{
								"key": "FSPIOP-Source",
								"value": "{{payeefsp}}"
							},
							{
								"key": "FSPIOP-Destination",
								"value": "{{payeefsp}}"
							},
							{
								"key": "FSPIOP-Signature",
								"value": "{{fspiop-signature}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "FSPIOP-URI",
								"value": "/transfers",
								"type": "text"
							},
							{
								"key": "FSPIOP-HTTP-Method",
								"value": "POST",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transferId\": \"{{transfer_ID}}\",\n  \"payerFsp\": \"{{payeefsp}}\",\n  \"payeeFsp\": \"{{payeefsp}}\",\n  \"amount\": {\n    \"amount\": \"{{transferAmount}}\",\n    \"currency\": \"{{currency}}\"\n  },\n  \"expiration\": \"{{transferExpiration}}\",\n  \"ilpPacket\": \"{{ilpPacket}}\",\n  \"condition\": \"{{condition}}\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}/transfers",
							"host": [
								"{{HOST_SWITCH_TRANSFERS}}{{BASE_PATH_SWITCH_TRANSFERS}}"
							],
							"path": [
								"transfers"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "b9d2694f-8623-4761-9337-875936de2db8",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ddf1b7a3-686c-43e8-8220-e019537f1bc1",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "tear_down_setup",
			"item": [
				{
					"name": "remove-un_necessary-environment-vars",
					"item": [
						{
							"name": "Sample request",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0492fc76-81fd-4c62-8cd4-8490513b9ea2",
										"exec": [
											"pm.environment.unset('jrsassign');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "google.com",
									"host": [
										"google",
										"com"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "907720b9-b622-4c02-8a3e-226370e9230e",
				"type": "text/javascript",
				"exec": [
					"if (pm.environment.get('WS02_OAUTH_ENABLED') === 'true') {",
					"",
					"    // Get Token for Hub Operator",
					"    let authHeader = btoa(`${pm.environment.get('HUB_OPERATOR_CONSUMER_KEY')}:${pm.environment.get('HUB_OPERATOR_CONSUMER_SECRET')}`);",
					"    let getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('HUB_OPERATOR_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Payerfsp",
					"    authHeader = btoa(`${pm.environment.get('PAYERFSP_CONSUMER_KEY')}:${pm.environment.get('PAYERFSP_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('PAYERFSP_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Payeefsp",
					"    authHeader = btoa(`${pm.environment.get('PAYEEFSP_CONSUMER_KEY')}:${pm.environment.get('PAYEEFSP_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('PAYEEFSP_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp1",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP1_CONSUMER_KEY')}:${pm.environment.get('TESTFSP1_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP1_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp2",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP2_CONSUMER_KEY')}:${pm.environment.get('TESTFSP2_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP2_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp3",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP3_CONSUMER_KEY')}:${pm.environment.get('TESTFSP3_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP3_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for Testfsp4",
					"    authHeader = btoa(`${pm.environment.get('TESTFSP4_CONSUMER_KEY')}:${pm.environment.get('TESTFSP4_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('TESTFSP4_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"    // Get Token for NoResponsePayeeFSP",
					"    authHeader = btoa(`${pm.environment.get('NORESPONSEPAYEEFSP_CONSUMER_KEY')}:${pm.environment.get('NORESPONSEPAYEEFSP_CONSUMER_SECRET')}`);",
					"    getTokenRequest = {",
					"        url: pm.environment.get(\"HOST_SWITCH\") + '/token/',",
					"        method: 'POST',",
					"        header: {",
					"            \"Authorization\": `Basic ${authHeader}`,",
					"            'Content-Type': 'application/x-www-form-urlencoded',",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                { key: \"grant_type\", value: \"client_credentials\", disabled: false },",
					"            ]",
					"        }",
					"    };",
					"    pm.sendRequest(getTokenRequest, function (err, response) {",
					"        var jsonData = response.json();",
					"        pm.environment.set('NORESPONSEPAYEEFSP_BEARER_TOKEN', jsonData.access_token);",
					"    });",
					"",
					"}",
					"",
					"if(!pm.environment.get('jrsassign')) {",
					"    pm.sendRequest('http://kjur.github.io/jsrsasign/jsrsasign-latest-all-min.js', function (err, response) {",
					"        pm.environment.set('jrsassign', response.text());",
					"    });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "ec332cb0-5bb4-4350-b879-03708b5c74be",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}